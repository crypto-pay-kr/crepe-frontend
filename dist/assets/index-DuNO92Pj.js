var PD=Object.defineProperty;var YE=n=>{throw TypeError(n)};var _D=(n,e,t)=>e in n?PD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Le=(n,e,t)=>_D(n,typeof e!="symbol"?e+"":e,t),Dv=(n,e,t)=>e.has(n)||YE("Cannot "+t);var f=(n,e,t)=>(Dv(n,e,"read from private field"),t?t.call(n):e.get(n)),I=(n,e,t)=>e.has(n)?YE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),T=(n,e,t,s)=>(Dv(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),_=(n,e,t)=>(Dv(n,e,"access private method"),t);var rn=(n,e,t,s)=>({set _(r){T(n,e,r,t)},get _(){return f(n,e,s)}});function RD(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function by(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ov={exports:{}},Hh={},Fv={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function LD(){if(QE)return He;QE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function E(V,Z,de){this.props=V,this.context=Z,this.refs=b,this.updater=de||v}E.prototype.isReactComponent={},E.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function A(){}A.prototype=E.prototype;function j(V,Z,de){this.props=V,this.context=Z,this.refs=b,this.updater=de||v}var k=j.prototype=new A;k.constructor=j,w(k,E.prototype),k.isPureReactComponent=!0;var P=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function O(V,Z,de){var be,Te={},ye=null,re=null;if(Z!=null)for(be in Z.ref!==void 0&&(re=Z.ref),Z.key!==void 0&&(ye=""+Z.key),Z)R.call(Z,be)&&!D.hasOwnProperty(be)&&(Te[be]=Z[be]);var pe=arguments.length-2;if(pe===1)Te.children=de;else if(1<pe){for(var Ee=Array(pe),ge=0;ge<pe;ge++)Ee[ge]=arguments[ge+2];Te.children=Ee}if(V&&V.defaultProps)for(be in pe=V.defaultProps,pe)Te[be]===void 0&&(Te[be]=pe[be]);return{$$typeof:n,type:V,key:ye,ref:re,props:Te,_owner:M.current}}function B(V,Z){return{$$typeof:n,type:V.type,key:Z,ref:V.ref,props:V.props,_owner:V._owner}}function z(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function K(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return Z[de]})}var X=/\/+/g;function ee(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?K(""+V.key):Z.toString(36)}function J(V,Z,de,be,Te){var ye=typeof V;(ye==="undefined"||ye==="boolean")&&(V=null);var re=!1;if(V===null)re=!0;else switch(ye){case"string":case"number":re=!0;break;case"object":switch(V.$$typeof){case n:case e:re=!0}}if(re)return re=V,Te=Te(re),V=be===""?"."+ee(re,0):be,P(Te)?(de="",V!=null&&(de=V.replace(X,"$&/")+"/"),J(Te,Z,de,"",function(ge){return ge})):Te!=null&&(z(Te)&&(Te=B(Te,de+(!Te.key||re&&re.key===Te.key?"":(""+Te.key).replace(X,"$&/")+"/")+V)),Z.push(Te)),1;if(re=0,be=be===""?".":be+":",P(V))for(var pe=0;pe<V.length;pe++){ye=V[pe];var Ee=be+ee(ye,pe);re+=J(ye,Z,de,Ee,Te)}else if(Ee=x(V),typeof Ee=="function")for(V=Ee.call(V),pe=0;!(ye=V.next()).done;)ye=ye.value,Ee=be+ee(ye,pe++),re+=J(ye,Z,de,Ee,Te);else if(ye==="object")throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return re}function ae(V,Z,de){if(V==null)return V;var be=[],Te=0;return J(V,be,"","",function(ye){return Z.call(de,ye,Te++)}),be}function Y(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var G={current:null},H={transition:null},te={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:H,ReactCurrentOwner:M};function ne(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:ae,forEach:function(V,Z,de){ae(V,function(){Z.apply(this,arguments)},de)},count:function(V){var Z=0;return ae(V,function(){Z++}),Z},toArray:function(V){return ae(V,function(Z){return Z})||[]},only:function(V){if(!z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},He.Component=E,He.Fragment=t,He.Profiler=r,He.PureComponent=j,He.StrictMode=s,He.Suspense=d,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,He.act=ne,He.cloneElement=function(V,Z,de){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var be=w({},V.props),Te=V.key,ye=V.ref,re=V._owner;if(Z!=null){if(Z.ref!==void 0&&(ye=Z.ref,re=M.current),Z.key!==void 0&&(Te=""+Z.key),V.type&&V.type.defaultProps)var pe=V.type.defaultProps;for(Ee in Z)R.call(Z,Ee)&&!D.hasOwnProperty(Ee)&&(be[Ee]=Z[Ee]===void 0&&pe!==void 0?pe[Ee]:Z[Ee])}var Ee=arguments.length-2;if(Ee===1)be.children=de;else if(1<Ee){pe=Array(Ee);for(var ge=0;ge<Ee;ge++)pe[ge]=arguments[ge+2];be.children=pe}return{$$typeof:n,type:V.type,key:Te,ref:ye,props:be,_owner:re}},He.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},He.createElement=O,He.createFactory=function(V){var Z=O.bind(null,V);return Z.type=V,Z},He.createRef=function(){return{current:null}},He.forwardRef=function(V){return{$$typeof:u,render:V}},He.isValidElement=z,He.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:Y}},He.memo=function(V,Z){return{$$typeof:h,type:V,compare:Z===void 0?null:Z}},He.startTransition=function(V){var Z=H.transition;H.transition={};try{V()}finally{H.transition=Z}},He.unstable_act=ne,He.useCallback=function(V,Z){return G.current.useCallback(V,Z)},He.useContext=function(V){return G.current.useContext(V)},He.useDebugValue=function(){},He.useDeferredValue=function(V){return G.current.useDeferredValue(V)},He.useEffect=function(V,Z){return G.current.useEffect(V,Z)},He.useId=function(){return G.current.useId()},He.useImperativeHandle=function(V,Z,de){return G.current.useImperativeHandle(V,Z,de)},He.useInsertionEffect=function(V,Z){return G.current.useInsertionEffect(V,Z)},He.useLayoutEffect=function(V,Z){return G.current.useLayoutEffect(V,Z)},He.useMemo=function(V,Z){return G.current.useMemo(V,Z)},He.useReducer=function(V,Z,de){return G.current.useReducer(V,Z,de)},He.useRef=function(V){return G.current.useRef(V)},He.useState=function(V){return G.current.useState(V)},He.useSyncExternalStore=function(V,Z,de){return G.current.useSyncExternalStore(V,Z,de)},He.useTransition=function(){return G.current.useTransition()},He.version="18.3.1",He}var JE;function _S(){return JE||(JE=1,Fv.exports=LD()),Fv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function ID(){if(ZE)return Hh;ZE=1;var n=_S(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,d,h){var p,g={},x=null,v=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)s.call(d,p)&&!o.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:x,ref:v,props:g,_owner:r.current}}return Hh.Fragment=t,Hh.jsx=a,Hh.jsxs=a,Hh}var ej;function MD(){return ej||(ej=1,Ov.exports=ID()),Ov.exports}var c=MD(),C=_S();const ls=by(C),dT=RD({__proto__:null,default:ls},[C]);var _g={},Bv={exports:{}},es={},$v={exports:{}},Vv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj;function DD(){return tj||(tj=1,function(n){function e(H,te){var ne=H.length;H.push(te);e:for(;0<ne;){var V=ne-1>>>1,Z=H[V];if(0<r(Z,te))H[V]=te,H[ne]=Z,ne=V;else break e}}function t(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var te=H[0],ne=H.pop();if(ne!==te){H[0]=ne;e:for(var V=0,Z=H.length,de=Z>>>1;V<de;){var be=2*(V+1)-1,Te=H[be],ye=be+1,re=H[ye];if(0>r(Te,ne))ye<Z&&0>r(re,Te)?(H[V]=re,H[ye]=ne,V=ye):(H[V]=Te,H[be]=ne,V=be);else if(ye<Z&&0>r(re,ne))H[V]=re,H[ye]=ne,V=ye;else break e}}return te}function r(H,te){var ne=H.sortIndex-te.sortIndex;return ne!==0?ne:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var d=[],h=[],p=1,g=null,x=3,v=!1,w=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var te=t(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=H)s(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=t(h)}}function P(H){if(b=!1,k(H),!w)if(t(d)!==null)w=!0,Y(R);else{var te=t(h);te!==null&&G(P,te.startTime-H)}}function R(H,te){w=!1,b&&(b=!1,A(O),O=-1),v=!0;var ne=x;try{for(k(te),g=t(d);g!==null&&(!(g.expirationTime>te)||H&&!K());){var V=g.callback;if(typeof V=="function"){g.callback=null,x=g.priorityLevel;var Z=V(g.expirationTime<=te);te=n.unstable_now(),typeof Z=="function"?g.callback=Z:g===t(d)&&s(d),k(te)}else s(d);g=t(d)}if(g!==null)var de=!0;else{var be=t(h);be!==null&&G(P,be.startTime-te),de=!1}return de}finally{g=null,x=ne,v=!1}}var M=!1,D=null,O=-1,B=5,z=-1;function K(){return!(n.unstable_now()-z<B)}function X(){if(D!==null){var H=n.unstable_now();z=H;var te=!0;try{te=D(!0,H)}finally{te?ee():(M=!1,D=null)}}else M=!1}var ee;if(typeof j=="function")ee=function(){j(X)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ae=J.port2;J.port1.onmessage=X,ee=function(){ae.postMessage(null)}}else ee=function(){E(X,0)};function Y(H){D=H,M||(M=!0,ee())}function G(H,te){O=E(function(){H(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){w||v||(w=!0,Y(R))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(H){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var ne=x;x=te;try{return H()}finally{x=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=x;x=H;try{return te()}finally{x=ne}},n.unstable_scheduleCallback=function(H,te,ne){var V=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?V+ne:V):ne=V,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,H={id:p++,callback:te,priorityLevel:H,startTime:ne,expirationTime:Z,sortIndex:-1},ne>V?(H.sortIndex=ne,e(h,H),t(d)===null&&H===t(h)&&(b?(A(O),O=-1):b=!0,G(P,ne-V))):(H.sortIndex=Z,e(d,H),w||v||(w=!0,Y(R))),H},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(H){var te=x;return function(){var ne=x;x=te;try{return H.apply(this,arguments)}finally{x=ne}}}}(Vv)),Vv}var nj;function OD(){return nj||(nj=1,$v.exports=DD()),$v.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj;function FD(){if(sj)return es;sj=1;var n=_S(),e=OD();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,m=1;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,r={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(r[i]=l,i=0;i<l.length;i++)s.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function x(i){return d.call(g,i)?!0:d.call(p,i)?!1:h.test(i)?g[i]=!0:(p[i]=!0,!1)}function v(i,l,m,y){if(m!==null&&m.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,l,m,y){if(l===null||typeof l>"u"||v(i,l,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(i,l,m,y,S,N,L){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=i,this.type=l,this.sanitizeURL=N,this.removeEmptyString=L}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];E[l]=new b(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(A,j);E[l]=new b(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(A,j);E[l]=new b(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(A,j);E[l]=new b(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,m,y){var S=E.hasOwnProperty(l)?E[l]:null;(S!==null?S.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,m,S,y)&&(m=null),y||S===null?x(l)&&(m===null?i.removeAttribute(l):i.setAttribute(l,""+m)):S.mustUseProperty?i[S.propertyName]=m===null?S.type===3?!1:"":m:(l=S.attributeName,y=S.attributeNamespace,m===null?i.removeAttribute(l):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,y?i.setAttributeNS(y,l,m):i.setAttribute(l,m))))}var P=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),K=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),H=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var ne=Object.assign,V;function Z(i){if(V===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);V=l&&l[1]||""}return`
`+V+i}var de=!1;function be(i,l){if(!i||de)return"";de=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Q){var y=Q}Reflect.construct(i,[],l)}else{try{l.call()}catch(Q){y=Q}i.call(l.prototype)}else{try{throw Error()}catch(Q){y=Q}i()}}catch(Q){if(Q&&y&&typeof Q.stack=="string"){for(var S=Q.stack.split(`
`),N=y.stack.split(`
`),L=S.length-1,F=N.length-1;1<=L&&0<=F&&S[L]!==N[F];)F--;for(;1<=L&&0<=F;L--,F--)if(S[L]!==N[F]){if(L!==1||F!==1)do if(L--,F--,0>F||S[L]!==N[F]){var $=`
`+S[L].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=L&&0<=F);break}}}finally{de=!1,Error.prepareStackTrace=m}return(i=i?i.displayName||i.name:"")?Z(i):""}function Te(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function ye(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case M:return"Portal";case B:return"Profiler";case O:return"StrictMode";case ee:return"Suspense";case J:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case K:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case X:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ae:return l=i.displayName||null,l!==null?l:ye(i.type)||"Memo";case Y:l=i._payload,i=i._init;try{return ye(i(l))}catch{}}return null}function re(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ee(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ge(i){var l=Ee(i)?"checked":"value",m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),y=""+i[l];if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,N=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return S.call(this)},set:function(L){y=""+L,N.call(this,L)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(L){y=""+L},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ze(i){i._valueTracker||(i._valueTracker=ge(i))}function Ge(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var m=l.getValue(),y="";return i&&(y=Ee(i)?i.checked?"true":"false":i.value),i=y,i!==m?(l.setValue(i),!0):!1}function Re(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function qe(i,l){var m=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??i._wrapperState.initialChecked})}function mt(i,l){var m=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;m=pe(l.value!=null?l.value:m),i._wrapperState={initialChecked:y,initialValue:m,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ct(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function Sn(i,l){ct(i,l);var m=pe(l.value),y=l.type;if(m!=null)y==="number"?(m===0&&i.value===""||i.value!=m)&&(i.value=""+m):i.value!==""+m&&(i.value=""+m);else if(y==="submit"||y==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Dr(i,l.type,m):l.hasOwnProperty("defaultValue")&&Dr(i,l.type,pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Mr(i,l,m){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,m||l===i.value||(i.value=l),i.defaultValue=l}m=i.name,m!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,m!==""&&(i.name=m)}function Dr(i,l,m){(l!=="number"||Re(i.ownerDocument)!==i)&&(m==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+m&&(i.defaultValue=""+m))}var Ua=Array.isArray;function tr(i,l,m,y){if(i=i.options,l){l={};for(var S=0;S<m.length;S++)l["$"+m[S]]=!0;for(m=0;m<i.length;m++)S=l.hasOwnProperty("$"+i[m].value),i[m].selected!==S&&(i[m].selected=S),S&&y&&(i[m].defaultSelected=!0)}else{for(m=""+pe(m),l=null,S=0;S<i.length;S++){if(i[S].value===m){i[S].selected=!0,y&&(i[S].defaultSelected=!0);return}l!==null||i[S].disabled||(l=i[S])}l!==null&&(l.selected=!0)}}function oh(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function bm(i,l){var m=l.value;if(m==null){if(m=l.children,l=l.defaultValue,m!=null){if(l!=null)throw Error(t(92));if(Ua(m)){if(1<m.length)throw Error(t(93));m=m[0]}l=m}l==null&&(l=""),m=l}i._wrapperState={initialValue:pe(m)}}function wm(i,l){var m=pe(l.value),y=pe(l.defaultValue);m!=null&&(m=""+m,m!==i.value&&(i.value=m),l.defaultValue==null&&i.defaultValue!==m&&(i.defaultValue=m)),y!=null&&(i.defaultValue=""+y)}function Sm(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Am(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Or(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Am(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xi,Ha=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,m,y,S){MSApp.execUnsafeLocalFunction(function(){return i(l,m,y,S)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(xi=xi||document.createElement("div"),xi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=xi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function yi(i,l){if(l){var m=i.firstChild;if(m&&m===i.lastChild&&m.nodeType===3){m.nodeValue=l;return}}i.textContent=l}var ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},II=["Webkit","ms","Moz","O"];Object.keys(ah).forEach(function(i){II.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),ah[l]=ah[i]})});function dA(i,l,m){return l==null||typeof l=="boolean"||l===""?"":m||typeof l!="number"||l===0||ah.hasOwnProperty(i)&&ah[i]?(""+l).trim():l+"px"}function hA(i,l){i=i.style;for(var m in l)if(l.hasOwnProperty(m)){var y=m.indexOf("--")===0,S=dA(m,l[m],y);m==="float"&&(m="cssFloat"),y?i.setProperty(m,S):i[m]=S}}var MI=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qy(i,l){if(l){if(MI[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Xy(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yy=null;function Qy(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Jy=null,Mc=null,Dc=null;function fA(i){if(i=Th(i)){if(typeof Jy!="function")throw Error(t(280));var l=i.stateNode;l&&(l=Gm(l),Jy(i.stateNode,i.type,l))}}function pA(i){Mc?Dc?Dc.push(i):Dc=[i]:Mc=i}function mA(){if(Mc){var i=Mc,l=Dc;if(Dc=Mc=null,fA(i),l)for(i=0;i<l.length;i++)fA(l[i])}}function gA(i,l){return i(l)}function xA(){}var Zy=!1;function yA(i,l,m){if(Zy)return i(l,m);Zy=!0;try{return gA(i,l,m)}finally{Zy=!1,(Mc!==null||Dc!==null)&&(xA(),mA())}}function lh(i,l){var m=i.stateNode;if(m===null)return null;var y=Gm(m);if(y===null)return null;m=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(i=i.type,y=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!y;break e;default:i=!1}if(i)return null;if(m&&typeof m!="function")throw Error(t(231,l,typeof m));return m}var e0=!1;if(u)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){e0=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{e0=!1}function DI(i,l,m,y,S,N,L,F,$){var Q=Array.prototype.slice.call(arguments,3);try{l.apply(m,Q)}catch(ie){this.onError(ie)}}var uh=!1,Cm=null,Em=!1,t0=null,OI={onError:function(i){uh=!0,Cm=i}};function FI(i,l,m,y,S,N,L,F,$){uh=!1,Cm=null,DI.apply(OI,arguments)}function BI(i,l,m,y,S,N,L,F,$){if(FI.apply(this,arguments),uh){if(uh){var Q=Cm;uh=!1,Cm=null}else throw Error(t(198));Em||(Em=!0,t0=Q)}}function Wa(i){var l=i,m=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(m=l.return),i=l.return;while(i)}return l.tag===3?m:null}function vA(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function bA(i){if(Wa(i)!==i)throw Error(t(188))}function $I(i){var l=i.alternate;if(!l){if(l=Wa(i),l===null)throw Error(t(188));return l!==i?null:i}for(var m=i,y=l;;){var S=m.return;if(S===null)break;var N=S.alternate;if(N===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===N.child){for(N=S.child;N;){if(N===m)return bA(S),i;if(N===y)return bA(S),l;N=N.sibling}throw Error(t(188))}if(m.return!==y.return)m=S,y=N;else{for(var L=!1,F=S.child;F;){if(F===m){L=!0,m=S,y=N;break}if(F===y){L=!0,y=S,m=N;break}F=F.sibling}if(!L){for(F=N.child;F;){if(F===m){L=!0,m=N,y=S;break}if(F===y){L=!0,y=N,m=S;break}F=F.sibling}if(!L)throw Error(t(189))}}if(m.alternate!==y)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?i:l}function wA(i){return i=$I(i),i!==null?SA(i):null}function SA(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=SA(i);if(l!==null)return l;i=i.sibling}return null}var AA=e.unstable_scheduleCallback,CA=e.unstable_cancelCallback,VI=e.unstable_shouldYield,zI=e.unstable_requestPaint,Dt=e.unstable_now,UI=e.unstable_getCurrentPriorityLevel,n0=e.unstable_ImmediatePriority,EA=e.unstable_UserBlockingPriority,jm=e.unstable_NormalPriority,HI=e.unstable_LowPriority,jA=e.unstable_IdlePriority,Nm=null,Fr=null;function WI(i){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Nm,i,void 0,(i.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:qI,GI=Math.log,KI=Math.LN2;function qI(i){return i>>>=0,i===0?32:31-(GI(i)/KI|0)|0}var km=64,Tm=4194304;function dh(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Pm(i,l){var m=i.pendingLanes;if(m===0)return 0;var y=0,S=i.suspendedLanes,N=i.pingedLanes,L=m&268435455;if(L!==0){var F=L&~S;F!==0?y=dh(F):(N&=L,N!==0&&(y=dh(N)))}else L=m&~S,L!==0?y=dh(L):N!==0&&(y=dh(N));if(y===0)return 0;if(l!==0&&l!==y&&(l&S)===0&&(S=y&-y,N=l&-l,S>=N||S===16&&(N&4194240)!==0))return l;if((y&4)!==0&&(y|=m&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=y;0<l;)m=31-nr(l),S=1<<m,y|=i[m],l&=~S;return y}function XI(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YI(i,l){for(var m=i.suspendedLanes,y=i.pingedLanes,S=i.expirationTimes,N=i.pendingLanes;0<N;){var L=31-nr(N),F=1<<L,$=S[L];$===-1?((F&m)===0||(F&y)!==0)&&(S[L]=XI(F,l)):$<=l&&(i.expiredLanes|=F),N&=~F}}function s0(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function NA(){var i=km;return km<<=1,(km&4194240)===0&&(km=64),i}function r0(i){for(var l=[],m=0;31>m;m++)l.push(i);return l}function hh(i,l,m){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-nr(l),i[l]=m}function QI(i,l){var m=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var y=i.eventTimes;for(i=i.expirationTimes;0<m;){var S=31-nr(m),N=1<<S;l[S]=0,y[S]=-1,i[S]=-1,m&=~N}}function i0(i,l){var m=i.entangledLanes|=l;for(i=i.entanglements;m;){var y=31-nr(m),S=1<<y;S&l|i[y]&l&&(i[y]|=l),m&=~S}}var nt=0;function kA(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var TA,o0,PA,_A,RA,a0=!1,_m=[],vo=null,bo=null,wo=null,fh=new Map,ph=new Map,So=[],JI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LA(i,l){switch(i){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":fh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(l.pointerId)}}function mh(i,l,m,y,S,N){return i===null||i.nativeEvent!==N?(i={blockedOn:l,domEventName:m,eventSystemFlags:y,nativeEvent:N,targetContainers:[S]},l!==null&&(l=Th(l),l!==null&&o0(l)),i):(i.eventSystemFlags|=y,l=i.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),i)}function ZI(i,l,m,y,S){switch(l){case"focusin":return vo=mh(vo,i,l,m,y,S),!0;case"dragenter":return bo=mh(bo,i,l,m,y,S),!0;case"mouseover":return wo=mh(wo,i,l,m,y,S),!0;case"pointerover":var N=S.pointerId;return fh.set(N,mh(fh.get(N)||null,i,l,m,y,S)),!0;case"gotpointercapture":return N=S.pointerId,ph.set(N,mh(ph.get(N)||null,i,l,m,y,S)),!0}return!1}function IA(i){var l=Ga(i.target);if(l!==null){var m=Wa(l);if(m!==null){if(l=m.tag,l===13){if(l=vA(m),l!==null){i.blockedOn=l,RA(i.priority,function(){PA(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){i.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rm(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var m=c0(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(m===null){m=i.nativeEvent;var y=new m.constructor(m.type,m);Yy=y,m.target.dispatchEvent(y),Yy=null}else return l=Th(m),l!==null&&o0(l),i.blockedOn=m,!1;l.shift()}return!0}function MA(i,l,m){Rm(i)&&m.delete(l)}function eM(){a0=!1,vo!==null&&Rm(vo)&&(vo=null),bo!==null&&Rm(bo)&&(bo=null),wo!==null&&Rm(wo)&&(wo=null),fh.forEach(MA),ph.forEach(MA)}function gh(i,l){i.blockedOn===l&&(i.blockedOn=null,a0||(a0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eM)))}function xh(i){function l(S){return gh(S,i)}if(0<_m.length){gh(_m[0],i);for(var m=1;m<_m.length;m++){var y=_m[m];y.blockedOn===i&&(y.blockedOn=null)}}for(vo!==null&&gh(vo,i),bo!==null&&gh(bo,i),wo!==null&&gh(wo,i),fh.forEach(l),ph.forEach(l),m=0;m<So.length;m++)y=So[m],y.blockedOn===i&&(y.blockedOn=null);for(;0<So.length&&(m=So[0],m.blockedOn===null);)IA(m),m.blockedOn===null&&So.shift()}var Oc=P.ReactCurrentBatchConfig,Lm=!0;function tM(i,l,m,y){var S=nt,N=Oc.transition;Oc.transition=null;try{nt=1,l0(i,l,m,y)}finally{nt=S,Oc.transition=N}}function nM(i,l,m,y){var S=nt,N=Oc.transition;Oc.transition=null;try{nt=4,l0(i,l,m,y)}finally{nt=S,Oc.transition=N}}function l0(i,l,m,y){if(Lm){var S=c0(i,l,m,y);if(S===null)j0(i,l,y,Im,m),LA(i,y);else if(ZI(S,i,l,m,y))y.stopPropagation();else if(LA(i,y),l&4&&-1<JI.indexOf(i)){for(;S!==null;){var N=Th(S);if(N!==null&&TA(N),N=c0(i,l,m,y),N===null&&j0(i,l,y,Im,m),N===S)break;S=N}S!==null&&y.stopPropagation()}else j0(i,l,y,null,m)}}var Im=null;function c0(i,l,m,y){if(Im=null,i=Qy(y),i=Ga(i),i!==null)if(l=Wa(i),l===null)i=null;else if(m=l.tag,m===13){if(i=vA(l),i!==null)return i;i=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Im=i,null}function DA(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UI()){case n0:return 1;case EA:return 4;case jm:case HI:return 16;case jA:return 536870912;default:return 16}default:return 16}}var Ao=null,u0=null,Mm=null;function OA(){if(Mm)return Mm;var i,l=u0,m=l.length,y,S="value"in Ao?Ao.value:Ao.textContent,N=S.length;for(i=0;i<m&&l[i]===S[i];i++);var L=m-i;for(y=1;y<=L&&l[m-y]===S[N-y];y++);return Mm=S.slice(i,1<y?1-y:void 0)}function Dm(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Om(){return!0}function FA(){return!1}function hs(i){function l(m,y,S,N,L){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=N,this.target=L,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(m=i[F],this[F]=m?m(N):N[F]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Om:FA,this.isPropagationStopped=FA,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Om)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Om)},persist:function(){},isPersistent:Om}),l}var Fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=hs(Fc),yh=ne({},Fc,{view:0,detail:0}),sM=hs(yh),h0,f0,vh,Fm=ne({},yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vh&&(vh&&i.type==="mousemove"?(h0=i.screenX-vh.screenX,f0=i.screenY-vh.screenY):f0=h0=0,vh=i),h0)},movementY:function(i){return"movementY"in i?i.movementY:f0}}),BA=hs(Fm),rM=ne({},Fm,{dataTransfer:0}),iM=hs(rM),oM=ne({},yh,{relatedTarget:0}),p0=hs(oM),aM=ne({},Fc,{animationName:0,elapsedTime:0,pseudoElement:0}),lM=hs(aM),cM=ne({},Fc,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uM=hs(cM),dM=ne({},Fc,{data:0}),$A=hs(dM),hM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mM(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=pM[i])?!!l[i]:!1}function m0(){return mM}var gM=ne({},yh,{key:function(i){if(i.key){var l=hM[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Dm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m0,charCode:function(i){return i.type==="keypress"?Dm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Dm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xM=hs(gM),yM=ne({},Fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VA=hs(yM),vM=ne({},yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m0}),bM=hs(vM),wM=ne({},Fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),SM=hs(wM),AM=ne({},Fm,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),CM=hs(AM),EM=[9,13,27,32],g0=u&&"CompositionEvent"in window,bh=null;u&&"documentMode"in document&&(bh=document.documentMode);var jM=u&&"TextEvent"in window&&!bh,zA=u&&(!g0||bh&&8<bh&&11>=bh),UA=" ",HA=!1;function WA(i,l){switch(i){case"keyup":return EM.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GA(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bc=!1;function NM(i,l){switch(i){case"compositionend":return GA(l);case"keypress":return l.which!==32?null:(HA=!0,UA);case"textInput":return i=l.data,i===UA&&HA?null:i;default:return null}}function kM(i,l){if(Bc)return i==="compositionend"||!g0&&WA(i,l)?(i=OA(),Mm=u0=Ao=null,Bc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zA&&l.locale!=="ko"?null:l.data;default:return null}}var TM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!TM[i.type]:l==="textarea"}function qA(i,l,m,y){pA(y),l=Um(l,"onChange"),0<l.length&&(m=new d0("onChange","change",null,m,y),i.push({event:m,listeners:l}))}var wh=null,Sh=null;function PM(i){hC(i,0)}function Bm(i){var l=Hc(i);if(Ge(l))return i}function _M(i,l){if(i==="change")return l}var XA=!1;if(u){var x0;if(u){var y0="oninput"in document;if(!y0){var YA=document.createElement("div");YA.setAttribute("oninput","return;"),y0=typeof YA.oninput=="function"}x0=y0}else x0=!1;XA=x0&&(!document.documentMode||9<document.documentMode)}function QA(){wh&&(wh.detachEvent("onpropertychange",JA),Sh=wh=null)}function JA(i){if(i.propertyName==="value"&&Bm(Sh)){var l=[];qA(l,Sh,i,Qy(i)),yA(PM,l)}}function RM(i,l,m){i==="focusin"?(QA(),wh=l,Sh=m,wh.attachEvent("onpropertychange",JA)):i==="focusout"&&QA()}function LM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bm(Sh)}function IM(i,l){if(i==="click")return Bm(l)}function MM(i,l){if(i==="input"||i==="change")return Bm(l)}function DM(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var sr=typeof Object.is=="function"?Object.is:DM;function Ah(i,l){if(sr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var m=Object.keys(i),y=Object.keys(l);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!d.call(l,S)||!sr(i[S],l[S]))return!1}return!0}function ZA(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function eC(i,l){var m=ZA(i);i=0;for(var y;m;){if(m.nodeType===3){if(y=i+m.textContent.length,i<=l&&y>=l)return{node:m,offset:l-i};i=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ZA(m)}}function tC(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?tC(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function nC(){for(var i=window,l=Re();l instanceof i.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)i=l.contentWindow;else break;l=Re(i.document)}return l}function v0(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function OM(i){var l=nC(),m=i.focusedElem,y=i.selectionRange;if(l!==m&&m&&m.ownerDocument&&tC(m.ownerDocument.documentElement,m)){if(y!==null&&v0(m)){if(l=y.start,i=y.end,i===void 0&&(i=l),"selectionStart"in m)m.selectionStart=l,m.selectionEnd=Math.min(i,m.value.length);else if(i=(l=m.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var S=m.textContent.length,N=Math.min(y.start,S);y=y.end===void 0?N:Math.min(y.end,S),!i.extend&&N>y&&(S=y,y=N,N=S),S=eC(m,N);var L=eC(m,y);S&&L&&(i.rangeCount!==1||i.anchorNode!==S.node||i.anchorOffset!==S.offset||i.focusNode!==L.node||i.focusOffset!==L.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),i.removeAllRanges(),N>y?(i.addRange(l),i.extend(L.node,L.offset)):(l.setEnd(L.node,L.offset),i.addRange(l)))}}for(l=[],i=m;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<l.length;m++)i=l[m],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var FM=u&&"documentMode"in document&&11>=document.documentMode,$c=null,b0=null,Ch=null,w0=!1;function sC(i,l,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;w0||$c==null||$c!==Re(y)||(y=$c,"selectionStart"in y&&v0(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ch&&Ah(Ch,y)||(Ch=y,y=Um(b0,"onSelect"),0<y.length&&(l=new d0("onSelect","select",null,l,m),i.push({event:l,listeners:y}),l.target=$c)))}function $m(i,l){var m={};return m[i.toLowerCase()]=l.toLowerCase(),m["Webkit"+i]="webkit"+l,m["Moz"+i]="moz"+l,m}var Vc={animationend:$m("Animation","AnimationEnd"),animationiteration:$m("Animation","AnimationIteration"),animationstart:$m("Animation","AnimationStart"),transitionend:$m("Transition","TransitionEnd")},S0={},rC={};u&&(rC=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Vm(i){if(S0[i])return S0[i];if(!Vc[i])return i;var l=Vc[i],m;for(m in l)if(l.hasOwnProperty(m)&&m in rC)return S0[i]=l[m];return i}var iC=Vm("animationend"),oC=Vm("animationiteration"),aC=Vm("animationstart"),lC=Vm("transitionend"),cC=new Map,uC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(i,l){cC.set(i,l),o(l,[i])}for(var A0=0;A0<uC.length;A0++){var C0=uC[A0],BM=C0.toLowerCase(),$M=C0[0].toUpperCase()+C0.slice(1);Co(BM,"on"+$M)}Co(iC,"onAnimationEnd"),Co(oC,"onAnimationIteration"),Co(aC,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(lC,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function dC(i,l,m){var y=i.type||"unknown-event";i.currentTarget=m,BI(y,l,void 0,i),i.currentTarget=null}function hC(i,l){l=(l&4)!==0;for(var m=0;m<i.length;m++){var y=i[m],S=y.event;y=y.listeners;e:{var N=void 0;if(l)for(var L=y.length-1;0<=L;L--){var F=y[L],$=F.instance,Q=F.currentTarget;if(F=F.listener,$!==N&&S.isPropagationStopped())break e;dC(S,F,Q),N=$}else for(L=0;L<y.length;L++){if(F=y[L],$=F.instance,Q=F.currentTarget,F=F.listener,$!==N&&S.isPropagationStopped())break e;dC(S,F,Q),N=$}}}if(Em)throw i=t0,Em=!1,t0=null,i}function gt(i,l){var m=l[R0];m===void 0&&(m=l[R0]=new Set);var y=i+"__bubble";m.has(y)||(fC(l,i,2,!1),m.add(y))}function E0(i,l,m){var y=0;l&&(y|=4),fC(m,i,y,l)}var zm="_reactListening"+Math.random().toString(36).slice(2);function jh(i){if(!i[zm]){i[zm]=!0,s.forEach(function(m){m!=="selectionchange"&&(VM.has(m)||E0(m,!1,i),E0(m,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[zm]||(l[zm]=!0,E0("selectionchange",!1,l))}}function fC(i,l,m,y){switch(DA(l)){case 1:var S=tM;break;case 4:S=nM;break;default:S=l0}m=S.bind(null,l,m,i),S=void 0,!e0||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),y?S!==void 0?i.addEventListener(l,m,{capture:!0,passive:S}):i.addEventListener(l,m,!0):S!==void 0?i.addEventListener(l,m,{passive:S}):i.addEventListener(l,m,!1)}function j0(i,l,m,y,S){var N=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var L=y.tag;if(L===3||L===4){var F=y.stateNode.containerInfo;if(F===S||F.nodeType===8&&F.parentNode===S)break;if(L===4)for(L=y.return;L!==null;){var $=L.tag;if(($===3||$===4)&&($=L.stateNode.containerInfo,$===S||$.nodeType===8&&$.parentNode===S))return;L=L.return}for(;F!==null;){if(L=Ga(F),L===null)return;if($=L.tag,$===5||$===6){y=N=L;continue e}F=F.parentNode}}y=y.return}yA(function(){var Q=N,ie=Qy(m),oe=[];e:{var se=cC.get(i);if(se!==void 0){var he=d0,xe=i;switch(i){case"keypress":if(Dm(m)===0)break e;case"keydown":case"keyup":he=xM;break;case"focusin":xe="focus",he=p0;break;case"focusout":xe="blur",he=p0;break;case"beforeblur":case"afterblur":he=p0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=BA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=iM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=bM;break;case iC:case oC:case aC:he=lM;break;case lC:he=SM;break;case"scroll":he=sM;break;case"wheel":he=CM;break;case"copy":case"cut":case"paste":he=uM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=VA}var ve=(l&4)!==0,Ot=!ve&&i==="scroll",W=ve?se!==null?se+"Capture":null:se;ve=[];for(var U=Q,q;U!==null;){q=U;var le=q.stateNode;if(q.tag===5&&le!==null&&(q=le,W!==null&&(le=lh(U,W),le!=null&&ve.push(Nh(U,le,q)))),Ot)break;U=U.return}0<ve.length&&(se=new he(se,xe,null,m,ie),oe.push({event:se,listeners:ve}))}}if((l&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",se&&m!==Yy&&(xe=m.relatedTarget||m.fromElement)&&(Ga(xe)||xe[vi]))break e;if((he||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,he?(xe=m.relatedTarget||m.toElement,he=Q,xe=xe?Ga(xe):null,xe!==null&&(Ot=Wa(xe),xe!==Ot||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(he=null,xe=Q),he!==xe)){if(ve=BA,le="onMouseLeave",W="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ve=VA,le="onPointerLeave",W="onPointerEnter",U="pointer"),Ot=he==null?se:Hc(he),q=xe==null?se:Hc(xe),se=new ve(le,U+"leave",he,m,ie),se.target=Ot,se.relatedTarget=q,le=null,Ga(ie)===Q&&(ve=new ve(W,U+"enter",xe,m,ie),ve.target=q,ve.relatedTarget=Ot,le=ve),Ot=le,he&&xe)t:{for(ve=he,W=xe,U=0,q=ve;q;q=zc(q))U++;for(q=0,le=W;le;le=zc(le))q++;for(;0<U-q;)ve=zc(ve),U--;for(;0<q-U;)W=zc(W),q--;for(;U--;){if(ve===W||W!==null&&ve===W.alternate)break t;ve=zc(ve),W=zc(W)}ve=null}else ve=null;he!==null&&pC(oe,se,he,ve,!1),xe!==null&&Ot!==null&&pC(oe,Ot,xe,ve,!0)}}e:{if(se=Q?Hc(Q):window,he=se.nodeName&&se.nodeName.toLowerCase(),he==="select"||he==="input"&&se.type==="file")var we=_M;else if(KA(se))if(XA)we=MM;else{we=LM;var Ne=RM}else(he=se.nodeName)&&he.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(we=IM);if(we&&(we=we(i,Q))){qA(oe,we,m,ie);break e}Ne&&Ne(i,se,Q),i==="focusout"&&(Ne=se._wrapperState)&&Ne.controlled&&se.type==="number"&&Dr(se,"number",se.value)}switch(Ne=Q?Hc(Q):window,i){case"focusin":(KA(Ne)||Ne.contentEditable==="true")&&($c=Ne,b0=Q,Ch=null);break;case"focusout":Ch=b0=$c=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,sC(oe,m,ie);break;case"selectionchange":if(FM)break;case"keydown":case"keyup":sC(oe,m,ie)}var ke;if(g0)e:{switch(i){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Bc?WA(i,m)&&(_e="onCompositionEnd"):i==="keydown"&&m.keyCode===229&&(_e="onCompositionStart");_e&&(zA&&m.locale!=="ko"&&(Bc||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Bc&&(ke=OA()):(Ao=ie,u0="value"in Ao?Ao.value:Ao.textContent,Bc=!0)),Ne=Um(Q,_e),0<Ne.length&&(_e=new $A(_e,i,null,m,ie),oe.push({event:_e,listeners:Ne}),ke?_e.data=ke:(ke=GA(m),ke!==null&&(_e.data=ke)))),(ke=jM?NM(i,m):kM(i,m))&&(Q=Um(Q,"onBeforeInput"),0<Q.length&&(ie=new $A("onBeforeInput","beforeinput",null,m,ie),oe.push({event:ie,listeners:Q}),ie.data=ke))}hC(oe,l)})}function Nh(i,l,m){return{instance:i,listener:l,currentTarget:m}}function Um(i,l){for(var m=l+"Capture",y=[];i!==null;){var S=i,N=S.stateNode;S.tag===5&&N!==null&&(S=N,N=lh(i,m),N!=null&&y.unshift(Nh(i,N,S)),N=lh(i,l),N!=null&&y.push(Nh(i,N,S))),i=i.return}return y}function zc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function pC(i,l,m,y,S){for(var N=l._reactName,L=[];m!==null&&m!==y;){var F=m,$=F.alternate,Q=F.stateNode;if($!==null&&$===y)break;F.tag===5&&Q!==null&&(F=Q,S?($=lh(m,N),$!=null&&L.unshift(Nh(m,$,F))):S||($=lh(m,N),$!=null&&L.push(Nh(m,$,F)))),m=m.return}L.length!==0&&i.push({event:l,listeners:L})}var zM=/\r\n?/g,UM=/\u0000|\uFFFD/g;function mC(i){return(typeof i=="string"?i:""+i).replace(zM,`
`).replace(UM,"")}function Hm(i,l,m){if(l=mC(l),mC(i)!==l&&m)throw Error(t(425))}function Wm(){}var N0=null,k0=null;function T0(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,HM=typeof clearTimeout=="function"?clearTimeout:void 0,gC=typeof Promise=="function"?Promise:void 0,WM=typeof queueMicrotask=="function"?queueMicrotask:typeof gC<"u"?function(i){return gC.resolve(null).then(i).catch(GM)}:P0;function GM(i){setTimeout(function(){throw i})}function _0(i,l){var m=l,y=0;do{var S=m.nextSibling;if(i.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(y===0){i.removeChild(S),xh(l);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=S}while(m);xh(l)}function Eo(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function xC(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var m=i.data;if(m==="$"||m==="$!"||m==="$?"){if(l===0)return i;l--}else m==="/$"&&l++}i=i.previousSibling}return null}var Uc=Math.random().toString(36).slice(2),Br="__reactFiber$"+Uc,kh="__reactProps$"+Uc,vi="__reactContainer$"+Uc,R0="__reactEvents$"+Uc,KM="__reactListeners$"+Uc,qM="__reactHandles$"+Uc;function Ga(i){var l=i[Br];if(l)return l;for(var m=i.parentNode;m;){if(l=m[vi]||m[Br]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(i=xC(i);i!==null;){if(m=i[Br])return m;i=xC(i)}return l}i=m,m=i.parentNode}return null}function Th(i){return i=i[Br]||i[vi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Hc(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Gm(i){return i[kh]||null}var L0=[],Wc=-1;function jo(i){return{current:i}}function xt(i){0>Wc||(i.current=L0[Wc],L0[Wc]=null,Wc--)}function ft(i,l){Wc++,L0[Wc]=i.current,i.current=l}var No={},An=jo(No),Xn=jo(!1),Ka=No;function Gc(i,l){var m=i.type.contextTypes;if(!m)return No;var y=i.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var S={},N;for(N in m)S[N]=l[N];return y&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=S),S}function Yn(i){return i=i.childContextTypes,i!=null}function Km(){xt(Xn),xt(An)}function yC(i,l,m){if(An.current!==No)throw Error(t(168));ft(An,l),ft(Xn,m)}function vC(i,l,m){var y=i.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var S in y)if(!(S in l))throw Error(t(108,re(i)||"Unknown",S));return ne({},m,y)}function qm(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||No,Ka=An.current,ft(An,i),ft(Xn,Xn.current),!0}function bC(i,l,m){var y=i.stateNode;if(!y)throw Error(t(169));m?(i=vC(i,l,Ka),y.__reactInternalMemoizedMergedChildContext=i,xt(Xn),xt(An),ft(An,i)):xt(Xn),ft(Xn,m)}var bi=null,Xm=!1,I0=!1;function wC(i){bi===null?bi=[i]:bi.push(i)}function XM(i){Xm=!0,wC(i)}function ko(){if(!I0&&bi!==null){I0=!0;var i=0,l=nt;try{var m=bi;for(nt=1;i<m.length;i++){var y=m[i];do y=y(!0);while(y!==null)}bi=null,Xm=!1}catch(S){throw bi!==null&&(bi=bi.slice(i+1)),AA(n0,ko),S}finally{nt=l,I0=!1}}return null}var Kc=[],qc=0,Ym=null,Qm=0,Ls=[],Is=0,qa=null,wi=1,Si="";function Xa(i,l){Kc[qc++]=Qm,Kc[qc++]=Ym,Ym=i,Qm=l}function SC(i,l,m){Ls[Is++]=wi,Ls[Is++]=Si,Ls[Is++]=qa,qa=i;var y=wi;i=Si;var S=32-nr(y)-1;y&=~(1<<S),m+=1;var N=32-nr(l)+S;if(30<N){var L=S-S%5;N=(y&(1<<L)-1).toString(32),y>>=L,S-=L,wi=1<<32-nr(l)+S|m<<S|y,Si=N+i}else wi=1<<N|m<<S|y,Si=i}function M0(i){i.return!==null&&(Xa(i,1),SC(i,1,0))}function D0(i){for(;i===Ym;)Ym=Kc[--qc],Kc[qc]=null,Qm=Kc[--qc],Kc[qc]=null;for(;i===qa;)qa=Ls[--Is],Ls[Is]=null,Si=Ls[--Is],Ls[Is]=null,wi=Ls[--Is],Ls[Is]=null}var fs=null,ps=null,wt=!1,rr=null;function AC(i,l){var m=Fs(5,null,null,0);m.elementType="DELETED",m.stateNode=l,m.return=i,l=i.deletions,l===null?(i.deletions=[m],i.flags|=16):l.push(m)}function CC(i,l){switch(i.tag){case 5:var m=i.type;return l=l.nodeType!==1||m.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,fs=i,ps=Eo(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,fs=i,ps=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(m=qa!==null?{id:wi,overflow:Si}:null,i.memoizedState={dehydrated:l,treeContext:m,retryLane:1073741824},m=Fs(18,null,null,0),m.stateNode=l,m.return=i,i.child=m,fs=i,ps=null,!0):!1;default:return!1}}function O0(i){return(i.mode&1)!==0&&(i.flags&128)===0}function F0(i){if(wt){var l=ps;if(l){var m=l;if(!CC(i,l)){if(O0(i))throw Error(t(418));l=Eo(m.nextSibling);var y=fs;l&&CC(i,l)?AC(y,m):(i.flags=i.flags&-4097|2,wt=!1,fs=i)}}else{if(O0(i))throw Error(t(418));i.flags=i.flags&-4097|2,wt=!1,fs=i}}}function EC(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;fs=i}function Jm(i){if(i!==fs)return!1;if(!wt)return EC(i),wt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!T0(i.type,i.memoizedProps)),l&&(l=ps)){if(O0(i))throw jC(),Error(t(418));for(;l;)AC(i,l),l=Eo(l.nextSibling)}if(EC(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var m=i.data;if(m==="/$"){if(l===0){ps=Eo(i.nextSibling);break e}l--}else m!=="$"&&m!=="$!"&&m!=="$?"||l++}i=i.nextSibling}ps=null}}else ps=fs?Eo(i.stateNode.nextSibling):null;return!0}function jC(){for(var i=ps;i;)i=Eo(i.nextSibling)}function Xc(){ps=fs=null,wt=!1}function B0(i){rr===null?rr=[i]:rr.push(i)}var YM=P.ReactCurrentBatchConfig;function Ph(i,l,m){if(i=m.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var y=m.stateNode}if(!y)throw Error(t(147,i));var S=y,N=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===N?l.ref:(l=function(L){var F=S.refs;L===null?delete F[N]:F[N]=L},l._stringRef=N,l)}if(typeof i!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,i))}return i}function Zm(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function NC(i){var l=i._init;return l(i._payload)}function kC(i){function l(W,U){if(i){var q=W.deletions;q===null?(W.deletions=[U],W.flags|=16):q.push(U)}}function m(W,U){if(!i)return null;for(;U!==null;)l(W,U),U=U.sibling;return null}function y(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function S(W,U){return W=Do(W,U),W.index=0,W.sibling=null,W}function N(W,U,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<U?(W.flags|=2,U):q):(W.flags|=2,U)):(W.flags|=1048576,U)}function L(W){return i&&W.alternate===null&&(W.flags|=2),W}function F(W,U,q,le){return U===null||U.tag!==6?(U=Pv(q,W.mode,le),U.return=W,U):(U=S(U,q),U.return=W,U)}function $(W,U,q,le){var we=q.type;return we===D?ie(W,U,q.props.children,le,q.key):U!==null&&(U.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Y&&NC(we)===U.type)?(le=S(U,q.props),le.ref=Ph(W,U,q),le.return=W,le):(le=Ag(q.type,q.key,q.props,null,W.mode,le),le.ref=Ph(W,U,q),le.return=W,le)}function Q(W,U,q,le){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=_v(q,W.mode,le),U.return=W,U):(U=S(U,q.children||[]),U.return=W,U)}function ie(W,U,q,le,we){return U===null||U.tag!==7?(U=sl(q,W.mode,le,we),U.return=W,U):(U=S(U,q),U.return=W,U)}function oe(W,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Pv(""+U,W.mode,q),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return q=Ag(U.type,U.key,U.props,null,W.mode,q),q.ref=Ph(W,null,U),q.return=W,q;case M:return U=_v(U,W.mode,q),U.return=W,U;case Y:var le=U._init;return oe(W,le(U._payload),q)}if(Ua(U)||te(U))return U=sl(U,W.mode,q,null),U.return=W,U;Zm(W,U)}return null}function se(W,U,q,le){var we=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return we!==null?null:F(W,U,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===we?$(W,U,q,le):null;case M:return q.key===we?Q(W,U,q,le):null;case Y:return we=q._init,se(W,U,we(q._payload),le)}if(Ua(q)||te(q))return we!==null?null:ie(W,U,q,le,null);Zm(W,q)}return null}function he(W,U,q,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return W=W.get(q)||null,F(U,W,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case R:return W=W.get(le.key===null?q:le.key)||null,$(U,W,le,we);case M:return W=W.get(le.key===null?q:le.key)||null,Q(U,W,le,we);case Y:var Ne=le._init;return he(W,U,q,Ne(le._payload),we)}if(Ua(le)||te(le))return W=W.get(q)||null,ie(U,W,le,we,null);Zm(U,le)}return null}function xe(W,U,q,le){for(var we=null,Ne=null,ke=U,_e=U=0,sn=null;ke!==null&&_e<q.length;_e++){ke.index>_e?(sn=ke,ke=null):sn=ke.sibling;var Je=se(W,ke,q[_e],le);if(Je===null){ke===null&&(ke=sn);break}i&&ke&&Je.alternate===null&&l(W,ke),U=N(Je,U,_e),Ne===null?we=Je:Ne.sibling=Je,Ne=Je,ke=sn}if(_e===q.length)return m(W,ke),wt&&Xa(W,_e),we;if(ke===null){for(;_e<q.length;_e++)ke=oe(W,q[_e],le),ke!==null&&(U=N(ke,U,_e),Ne===null?we=ke:Ne.sibling=ke,Ne=ke);return wt&&Xa(W,_e),we}for(ke=y(W,ke);_e<q.length;_e++)sn=he(ke,W,_e,q[_e],le),sn!==null&&(i&&sn.alternate!==null&&ke.delete(sn.key===null?_e:sn.key),U=N(sn,U,_e),Ne===null?we=sn:Ne.sibling=sn,Ne=sn);return i&&ke.forEach(function(Oo){return l(W,Oo)}),wt&&Xa(W,_e),we}function ve(W,U,q,le){var we=te(q);if(typeof we!="function")throw Error(t(150));if(q=we.call(q),q==null)throw Error(t(151));for(var Ne=we=null,ke=U,_e=U=0,sn=null,Je=q.next();ke!==null&&!Je.done;_e++,Je=q.next()){ke.index>_e?(sn=ke,ke=null):sn=ke.sibling;var Oo=se(W,ke,Je.value,le);if(Oo===null){ke===null&&(ke=sn);break}i&&ke&&Oo.alternate===null&&l(W,ke),U=N(Oo,U,_e),Ne===null?we=Oo:Ne.sibling=Oo,Ne=Oo,ke=sn}if(Je.done)return m(W,ke),wt&&Xa(W,_e),we;if(ke===null){for(;!Je.done;_e++,Je=q.next())Je=oe(W,Je.value,le),Je!==null&&(U=N(Je,U,_e),Ne===null?we=Je:Ne.sibling=Je,Ne=Je);return wt&&Xa(W,_e),we}for(ke=y(W,ke);!Je.done;_e++,Je=q.next())Je=he(ke,W,_e,Je.value,le),Je!==null&&(i&&Je.alternate!==null&&ke.delete(Je.key===null?_e:Je.key),U=N(Je,U,_e),Ne===null?we=Je:Ne.sibling=Je,Ne=Je);return i&&ke.forEach(function(TD){return l(W,TD)}),wt&&Xa(W,_e),we}function Ot(W,U,q,le){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var we=q.key,Ne=U;Ne!==null;){if(Ne.key===we){if(we=q.type,we===D){if(Ne.tag===7){m(W,Ne.sibling),U=S(Ne,q.props.children),U.return=W,W=U;break e}}else if(Ne.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Y&&NC(we)===Ne.type){m(W,Ne.sibling),U=S(Ne,q.props),U.ref=Ph(W,Ne,q),U.return=W,W=U;break e}m(W,Ne);break}else l(W,Ne);Ne=Ne.sibling}q.type===D?(U=sl(q.props.children,W.mode,le,q.key),U.return=W,W=U):(le=Ag(q.type,q.key,q.props,null,W.mode,le),le.ref=Ph(W,U,q),le.return=W,W=le)}return L(W);case M:e:{for(Ne=q.key;U!==null;){if(U.key===Ne)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){m(W,U.sibling),U=S(U,q.children||[]),U.return=W,W=U;break e}else{m(W,U);break}else l(W,U);U=U.sibling}U=_v(q,W.mode,le),U.return=W,W=U}return L(W);case Y:return Ne=q._init,Ot(W,U,Ne(q._payload),le)}if(Ua(q))return xe(W,U,q,le);if(te(q))return ve(W,U,q,le);Zm(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(m(W,U.sibling),U=S(U,q),U.return=W,W=U):(m(W,U),U=Pv(q,W.mode,le),U.return=W,W=U),L(W)):m(W,U)}return Ot}var Yc=kC(!0),TC=kC(!1),eg=jo(null),tg=null,Qc=null,$0=null;function V0(){$0=Qc=tg=null}function z0(i){var l=eg.current;xt(eg),i._currentValue=l}function U0(i,l,m){for(;i!==null;){var y=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),i===m)break;i=i.return}}function Jc(i,l){tg=i,$0=Qc=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Qn=!0),i.firstContext=null)}function Ms(i){var l=i._currentValue;if($0!==i)if(i={context:i,memoizedValue:l,next:null},Qc===null){if(tg===null)throw Error(t(308));Qc=i,tg.dependencies={lanes:0,firstContext:i}}else Qc=Qc.next=i;return l}var Ya=null;function H0(i){Ya===null?Ya=[i]:Ya.push(i)}function PC(i,l,m,y){var S=l.interleaved;return S===null?(m.next=m,H0(l)):(m.next=S.next,S.next=m),l.interleaved=m,Ai(i,y)}function Ai(i,l){i.lanes|=l;var m=i.alternate;for(m!==null&&(m.lanes|=l),m=i,i=i.return;i!==null;)i.childLanes|=l,m=i.alternate,m!==null&&(m.childLanes|=l),m=i,i=i.return;return m.tag===3?m.stateNode:null}var To=!1;function W0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _C(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ci(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Po(i,l,m){var y=i.updateQueue;if(y===null)return null;if(y=y.shared,(Qe&2)!==0){var S=y.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),y.pending=l,Ai(i,m)}return S=y.interleaved,S===null?(l.next=l,H0(y)):(l.next=S.next,S.next=l),y.interleaved=l,Ai(i,m)}function ng(i,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194240)!==0)){var y=l.lanes;y&=i.pendingLanes,m|=y,l.lanes=m,i0(i,m)}}function RC(i,l){var m=i.updateQueue,y=i.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var L={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};N===null?S=N=L:N=N.next=L,m=m.next}while(m!==null);N===null?S=N=l:N=N.next=l}else S=N=l;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:N,shared:y.shared,effects:y.effects},i.updateQueue=m;return}i=m.lastBaseUpdate,i===null?m.firstBaseUpdate=l:i.next=l,m.lastBaseUpdate=l}function sg(i,l,m,y){var S=i.updateQueue;To=!1;var N=S.firstBaseUpdate,L=S.lastBaseUpdate,F=S.shared.pending;if(F!==null){S.shared.pending=null;var $=F,Q=$.next;$.next=null,L===null?N=Q:L.next=Q,L=$;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==L&&(F===null?ie.firstBaseUpdate=Q:F.next=Q,ie.lastBaseUpdate=$))}if(N!==null){var oe=S.baseState;L=0,ie=Q=$=null,F=N;do{var se=F.lane,he=F.eventTime;if((y&se)===se){ie!==null&&(ie=ie.next={eventTime:he,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var xe=i,ve=F;switch(se=l,he=m,ve.tag){case 1:if(xe=ve.payload,typeof xe=="function"){oe=xe.call(he,oe,se);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ve.payload,se=typeof xe=="function"?xe.call(he,oe,se):xe,se==null)break e;oe=ne({},oe,se);break e;case 2:To=!0}}F.callback!==null&&F.lane!==0&&(i.flags|=64,se=S.effects,se===null?S.effects=[F]:se.push(F))}else he={eventTime:he,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Q=ie=he,$=oe):ie=ie.next=he,L|=se;if(F=F.next,F===null){if(F=S.shared.pending,F===null)break;se=F,F=se.next,se.next=null,S.lastBaseUpdate=se,S.shared.pending=null}}while(!0);if(ie===null&&($=oe),S.baseState=$,S.firstBaseUpdate=Q,S.lastBaseUpdate=ie,l=S.shared.interleaved,l!==null){S=l;do L|=S.lane,S=S.next;while(S!==l)}else N===null&&(S.shared.lanes=0);Za|=L,i.lanes=L,i.memoizedState=oe}}function LC(i,l,m){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var y=i[l],S=y.callback;if(S!==null){if(y.callback=null,y=m,typeof S!="function")throw Error(t(191,S));S.call(y)}}}var _h={},$r=jo(_h),Rh=jo(_h),Lh=jo(_h);function Qa(i){if(i===_h)throw Error(t(174));return i}function G0(i,l){switch(ft(Lh,l),ft(Rh,i),ft($r,_h),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Or(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Or(l,i)}xt($r),ft($r,l)}function Zc(){xt($r),xt(Rh),xt(Lh)}function IC(i){Qa(Lh.current);var l=Qa($r.current),m=Or(l,i.type);l!==m&&(ft(Rh,i),ft($r,m))}function K0(i){Rh.current===i&&(xt($r),xt(Rh))}var Ct=jo(0);function rg(i){for(var l=i;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var q0=[];function X0(){for(var i=0;i<q0.length;i++)q0[i]._workInProgressVersionPrimary=null;q0.length=0}var ig=P.ReactCurrentDispatcher,Y0=P.ReactCurrentBatchConfig,Ja=0,Et=null,Kt=null,tn=null,og=!1,Ih=!1,Mh=0,QM=0;function Cn(){throw Error(t(321))}function Q0(i,l){if(l===null)return!1;for(var m=0;m<l.length&&m<i.length;m++)if(!sr(i[m],l[m]))return!1;return!0}function J0(i,l,m,y,S,N){if(Ja=N,Et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ig.current=i===null||i.memoizedState===null?tD:nD,i=m(y,S),Ih){N=0;do{if(Ih=!1,Mh=0,25<=N)throw Error(t(301));N+=1,tn=Kt=null,l.updateQueue=null,ig.current=sD,i=m(y,S)}while(Ih)}if(ig.current=cg,l=Kt!==null&&Kt.next!==null,Ja=0,tn=Kt=Et=null,og=!1,l)throw Error(t(300));return i}function Z0(){var i=Mh!==0;return Mh=0,i}function Vr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Et.memoizedState=tn=i:tn=tn.next=i,tn}function Ds(){if(Kt===null){var i=Et.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var l=tn===null?Et.memoizedState:tn.next;if(l!==null)tn=l,Kt=i;else{if(i===null)throw Error(t(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},tn===null?Et.memoizedState=tn=i:tn=tn.next=i}return tn}function Dh(i,l){return typeof l=="function"?l(i):l}function ev(i){var l=Ds(),m=l.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=i;var y=Kt,S=y.baseQueue,N=m.pending;if(N!==null){if(S!==null){var L=S.next;S.next=N.next,N.next=L}y.baseQueue=S=N,m.pending=null}if(S!==null){N=S.next,y=y.baseState;var F=L=null,$=null,Q=N;do{var ie=Q.lane;if((Ja&ie)===ie)$!==null&&($=$.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),y=Q.hasEagerState?Q.eagerState:i(y,Q.action);else{var oe={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};$===null?(F=$=oe,L=y):$=$.next=oe,Et.lanes|=ie,Za|=ie}Q=Q.next}while(Q!==null&&Q!==N);$===null?L=y:$.next=F,sr(y,l.memoizedState)||(Qn=!0),l.memoizedState=y,l.baseState=L,l.baseQueue=$,m.lastRenderedState=y}if(i=m.interleaved,i!==null){S=i;do N=S.lane,Et.lanes|=N,Za|=N,S=S.next;while(S!==i)}else S===null&&(m.lanes=0);return[l.memoizedState,m.dispatch]}function tv(i){var l=Ds(),m=l.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=i;var y=m.dispatch,S=m.pending,N=l.memoizedState;if(S!==null){m.pending=null;var L=S=S.next;do N=i(N,L.action),L=L.next;while(L!==S);sr(N,l.memoizedState)||(Qn=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),m.lastRenderedState=N}return[N,y]}function MC(){}function DC(i,l){var m=Et,y=Ds(),S=l(),N=!sr(y.memoizedState,S);if(N&&(y.memoizedState=S,Qn=!0),y=y.queue,nv(BC.bind(null,m,y,i),[i]),y.getSnapshot!==l||N||tn!==null&&tn.memoizedState.tag&1){if(m.flags|=2048,Oh(9,FC.bind(null,m,y,S,l),void 0,null),nn===null)throw Error(t(349));(Ja&30)!==0||OC(m,l,S)}return S}function OC(i,l,m){i.flags|=16384,i={getSnapshot:l,value:m},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.stores=[i]):(m=l.stores,m===null?l.stores=[i]:m.push(i))}function FC(i,l,m,y){l.value=m,l.getSnapshot=y,$C(l)&&VC(i)}function BC(i,l,m){return m(function(){$C(l)&&VC(i)})}function $C(i){var l=i.getSnapshot;i=i.value;try{var m=l();return!sr(i,m)}catch{return!0}}function VC(i){var l=Ai(i,1);l!==null&&lr(l,i,1,-1)}function zC(i){var l=Vr();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:i},l.queue=i,i=i.dispatch=eD.bind(null,Et,i),[l.memoizedState,i]}function Oh(i,l,m,y){return i={tag:i,create:l,destroy:m,deps:y,next:null},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.lastEffect=i.next=i):(m=l.lastEffect,m===null?l.lastEffect=i.next=i:(y=m.next,m.next=i,i.next=y,l.lastEffect=i)),i}function UC(){return Ds().memoizedState}function ag(i,l,m,y){var S=Vr();Et.flags|=i,S.memoizedState=Oh(1|l,m,void 0,y===void 0?null:y)}function lg(i,l,m,y){var S=Ds();y=y===void 0?null:y;var N=void 0;if(Kt!==null){var L=Kt.memoizedState;if(N=L.destroy,y!==null&&Q0(y,L.deps)){S.memoizedState=Oh(l,m,N,y);return}}Et.flags|=i,S.memoizedState=Oh(1|l,m,N,y)}function HC(i,l){return ag(8390656,8,i,l)}function nv(i,l){return lg(2048,8,i,l)}function WC(i,l){return lg(4,2,i,l)}function GC(i,l){return lg(4,4,i,l)}function KC(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function qC(i,l,m){return m=m!=null?m.concat([i]):null,lg(4,4,KC.bind(null,l,i),m)}function sv(){}function XC(i,l){var m=Ds();l=l===void 0?null:l;var y=m.memoizedState;return y!==null&&l!==null&&Q0(l,y[1])?y[0]:(m.memoizedState=[i,l],i)}function YC(i,l){var m=Ds();l=l===void 0?null:l;var y=m.memoizedState;return y!==null&&l!==null&&Q0(l,y[1])?y[0]:(i=i(),m.memoizedState=[i,l],i)}function QC(i,l,m){return(Ja&21)===0?(i.baseState&&(i.baseState=!1,Qn=!0),i.memoizedState=m):(sr(m,l)||(m=NA(),Et.lanes|=m,Za|=m,i.baseState=!0),l)}function JM(i,l){var m=nt;nt=m!==0&&4>m?m:4,i(!0);var y=Y0.transition;Y0.transition={};try{i(!1),l()}finally{nt=m,Y0.transition=y}}function JC(){return Ds().memoizedState}function ZM(i,l,m){var y=Io(i);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},ZC(i))eE(l,m);else if(m=PC(i,l,m,y),m!==null){var S=Bn();lr(m,i,y,S),tE(m,l,y)}}function eD(i,l,m){var y=Io(i),S={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(ZC(i))eE(l,S);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var L=l.lastRenderedState,F=N(L,m);if(S.hasEagerState=!0,S.eagerState=F,sr(F,L)){var $=l.interleaved;$===null?(S.next=S,H0(l)):(S.next=$.next,$.next=S),l.interleaved=S;return}}catch{}finally{}m=PC(i,l,S,y),m!==null&&(S=Bn(),lr(m,i,y,S),tE(m,l,y))}}function ZC(i){var l=i.alternate;return i===Et||l!==null&&l===Et}function eE(i,l){Ih=og=!0;var m=i.pending;m===null?l.next=l:(l.next=m.next,m.next=l),i.pending=l}function tE(i,l,m){if((m&4194240)!==0){var y=l.lanes;y&=i.pendingLanes,m|=y,l.lanes=m,i0(i,m)}}var cg={readContext:Ms,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},tD={readContext:Ms,useCallback:function(i,l){return Vr().memoizedState=[i,l===void 0?null:l],i},useContext:Ms,useEffect:HC,useImperativeHandle:function(i,l,m){return m=m!=null?m.concat([i]):null,ag(4194308,4,KC.bind(null,l,i),m)},useLayoutEffect:function(i,l){return ag(4194308,4,i,l)},useInsertionEffect:function(i,l){return ag(4,2,i,l)},useMemo:function(i,l){var m=Vr();return l=l===void 0?null:l,i=i(),m.memoizedState=[i,l],i},useReducer:function(i,l,m){var y=Vr();return l=m!==void 0?m(l):l,y.memoizedState=y.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},y.queue=i,i=i.dispatch=ZM.bind(null,Et,i),[y.memoizedState,i]},useRef:function(i){var l=Vr();return i={current:i},l.memoizedState=i},useState:zC,useDebugValue:sv,useDeferredValue:function(i){return Vr().memoizedState=i},useTransition:function(){var i=zC(!1),l=i[0];return i=JM.bind(null,i[1]),Vr().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,m){var y=Et,S=Vr();if(wt){if(m===void 0)throw Error(t(407));m=m()}else{if(m=l(),nn===null)throw Error(t(349));(Ja&30)!==0||OC(y,l,m)}S.memoizedState=m;var N={value:m,getSnapshot:l};return S.queue=N,HC(BC.bind(null,y,N,i),[i]),y.flags|=2048,Oh(9,FC.bind(null,y,N,m,l),void 0,null),m},useId:function(){var i=Vr(),l=nn.identifierPrefix;if(wt){var m=Si,y=wi;m=(y&~(1<<32-nr(y)-1)).toString(32)+m,l=":"+l+"R"+m,m=Mh++,0<m&&(l+="H"+m.toString(32)),l+=":"}else m=QM++,l=":"+l+"r"+m.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},nD={readContext:Ms,useCallback:XC,useContext:Ms,useEffect:nv,useImperativeHandle:qC,useInsertionEffect:WC,useLayoutEffect:GC,useMemo:YC,useReducer:ev,useRef:UC,useState:function(){return ev(Dh)},useDebugValue:sv,useDeferredValue:function(i){var l=Ds();return QC(l,Kt.memoizedState,i)},useTransition:function(){var i=ev(Dh)[0],l=Ds().memoizedState;return[i,l]},useMutableSource:MC,useSyncExternalStore:DC,useId:JC,unstable_isNewReconciler:!1},sD={readContext:Ms,useCallback:XC,useContext:Ms,useEffect:nv,useImperativeHandle:qC,useInsertionEffect:WC,useLayoutEffect:GC,useMemo:YC,useReducer:tv,useRef:UC,useState:function(){return tv(Dh)},useDebugValue:sv,useDeferredValue:function(i){var l=Ds();return Kt===null?l.memoizedState=i:QC(l,Kt.memoizedState,i)},useTransition:function(){var i=tv(Dh)[0],l=Ds().memoizedState;return[i,l]},useMutableSource:MC,useSyncExternalStore:DC,useId:JC,unstable_isNewReconciler:!1};function ir(i,l){if(i&&i.defaultProps){l=ne({},l),i=i.defaultProps;for(var m in i)l[m]===void 0&&(l[m]=i[m]);return l}return l}function rv(i,l,m,y){l=i.memoizedState,m=m(y,l),m=m==null?l:ne({},l,m),i.memoizedState=m,i.lanes===0&&(i.updateQueue.baseState=m)}var ug={isMounted:function(i){return(i=i._reactInternals)?Wa(i)===i:!1},enqueueSetState:function(i,l,m){i=i._reactInternals;var y=Bn(),S=Io(i),N=Ci(y,S);N.payload=l,m!=null&&(N.callback=m),l=Po(i,N,S),l!==null&&(lr(l,i,S,y),ng(l,i,S))},enqueueReplaceState:function(i,l,m){i=i._reactInternals;var y=Bn(),S=Io(i),N=Ci(y,S);N.tag=1,N.payload=l,m!=null&&(N.callback=m),l=Po(i,N,S),l!==null&&(lr(l,i,S,y),ng(l,i,S))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var m=Bn(),y=Io(i),S=Ci(m,y);S.tag=2,l!=null&&(S.callback=l),l=Po(i,S,y),l!==null&&(lr(l,i,y,m),ng(l,i,y))}};function nE(i,l,m,y,S,N,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(y,N,L):l.prototype&&l.prototype.isPureReactComponent?!Ah(m,y)||!Ah(S,N):!0}function sE(i,l,m){var y=!1,S=No,N=l.contextType;return typeof N=="object"&&N!==null?N=Ms(N):(S=Yn(l)?Ka:An.current,y=l.contextTypes,N=(y=y!=null)?Gc(i,S):No),l=new l(m,N),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ug,i.stateNode=l,l._reactInternals=i,y&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=S,i.__reactInternalMemoizedMaskedChildContext=N),l}function rE(i,l,m,y){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,y),l.state!==i&&ug.enqueueReplaceState(l,l.state,null)}function iv(i,l,m,y){var S=i.stateNode;S.props=m,S.state=i.memoizedState,S.refs={},W0(i);var N=l.contextType;typeof N=="object"&&N!==null?S.context=Ms(N):(N=Yn(l)?Ka:An.current,S.context=Gc(i,N)),S.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(rv(i,l,N,m),S.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&ug.enqueueReplaceState(S,S.state,null),sg(i,m,S,y),S.state=i.memoizedState),typeof S.componentDidMount=="function"&&(i.flags|=4194308)}function eu(i,l){try{var m="",y=l;do m+=Te(y),y=y.return;while(y);var S=m}catch(N){S=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:l,stack:S,digest:null}}function ov(i,l,m){return{value:i,source:null,stack:m??null,digest:l??null}}function av(i,l){try{console.error(l.value)}catch(m){setTimeout(function(){throw m})}}var rD=typeof WeakMap=="function"?WeakMap:Map;function iE(i,l,m){m=Ci(-1,m),m.tag=3,m.payload={element:null};var y=l.value;return m.callback=function(){xg||(xg=!0,Sv=y),av(i,l)},m}function oE(i,l,m){m=Ci(-1,m),m.tag=3;var y=i.type.getDerivedStateFromError;if(typeof y=="function"){var S=l.value;m.payload=function(){return y(S)},m.callback=function(){av(i,l)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(m.callback=function(){av(i,l),typeof y!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),m}function aE(i,l,m){var y=i.pingCache;if(y===null){y=i.pingCache=new rD;var S=new Set;y.set(l,S)}else S=y.get(l),S===void 0&&(S=new Set,y.set(l,S));S.has(m)||(S.add(m),i=yD.bind(null,i,l,m),l.then(i,i))}function lE(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function cE(i,l,m,y,S){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(l=Ci(-1,1),l.tag=2,Po(m,l,1))),m.lanes|=1),i):(i.flags|=65536,i.lanes=S,i)}var iD=P.ReactCurrentOwner,Qn=!1;function Fn(i,l,m,y){l.child=i===null?TC(l,null,m,y):Yc(l,i.child,m,y)}function uE(i,l,m,y,S){m=m.render;var N=l.ref;return Jc(l,S),y=J0(i,l,m,y,N,S),m=Z0(),i!==null&&!Qn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~S,Ei(i,l,S)):(wt&&m&&M0(l),l.flags|=1,Fn(i,l,y,S),l.child)}function dE(i,l,m,y,S){if(i===null){var N=m.type;return typeof N=="function"&&!Tv(N)&&N.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(l.tag=15,l.type=N,hE(i,l,N,y,S)):(i=Ag(m.type,null,y,l,l.mode,S),i.ref=l.ref,i.return=l,l.child=i)}if(N=i.child,(i.lanes&S)===0){var L=N.memoizedProps;if(m=m.compare,m=m!==null?m:Ah,m(L,y)&&i.ref===l.ref)return Ei(i,l,S)}return l.flags|=1,i=Do(N,y),i.ref=l.ref,i.return=l,l.child=i}function hE(i,l,m,y,S){if(i!==null){var N=i.memoizedProps;if(Ah(N,y)&&i.ref===l.ref)if(Qn=!1,l.pendingProps=y=N,(i.lanes&S)!==0)(i.flags&131072)!==0&&(Qn=!0);else return l.lanes=i.lanes,Ei(i,l,S)}return lv(i,l,m,y,S)}function fE(i,l,m){var y=l.pendingProps,S=y.children,N=i!==null?i.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(nu,ms),ms|=m;else{if((m&1073741824)===0)return i=N!==null?N.baseLanes|m:m,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,ft(nu,ms),ms|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=N!==null?N.baseLanes:m,ft(nu,ms),ms|=y}else N!==null?(y=N.baseLanes|m,l.memoizedState=null):y=m,ft(nu,ms),ms|=y;return Fn(i,l,S,m),l.child}function pE(i,l){var m=l.ref;(i===null&&m!==null||i!==null&&i.ref!==m)&&(l.flags|=512,l.flags|=2097152)}function lv(i,l,m,y,S){var N=Yn(m)?Ka:An.current;return N=Gc(l,N),Jc(l,S),m=J0(i,l,m,y,N,S),y=Z0(),i!==null&&!Qn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~S,Ei(i,l,S)):(wt&&y&&M0(l),l.flags|=1,Fn(i,l,m,S),l.child)}function mE(i,l,m,y,S){if(Yn(m)){var N=!0;qm(l)}else N=!1;if(Jc(l,S),l.stateNode===null)hg(i,l),sE(l,m,y),iv(l,m,y,S),y=!0;else if(i===null){var L=l.stateNode,F=l.memoizedProps;L.props=F;var $=L.context,Q=m.contextType;typeof Q=="object"&&Q!==null?Q=Ms(Q):(Q=Yn(m)?Ka:An.current,Q=Gc(l,Q));var ie=m.getDerivedStateFromProps,oe=typeof ie=="function"||typeof L.getSnapshotBeforeUpdate=="function";oe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(F!==y||$!==Q)&&rE(l,L,y,Q),To=!1;var se=l.memoizedState;L.state=se,sg(l,y,L,S),$=l.memoizedState,F!==y||se!==$||Xn.current||To?(typeof ie=="function"&&(rv(l,m,ie,y),$=l.memoizedState),(F=To||nE(l,m,F,y,se,$,Q))?(oe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=$),L.props=y,L.state=$,L.context=Q,y=F):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{L=l.stateNode,_C(i,l),F=l.memoizedProps,Q=l.type===l.elementType?F:ir(l.type,F),L.props=Q,oe=l.pendingProps,se=L.context,$=m.contextType,typeof $=="object"&&$!==null?$=Ms($):($=Yn(m)?Ka:An.current,$=Gc(l,$));var he=m.getDerivedStateFromProps;(ie=typeof he=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(F!==oe||se!==$)&&rE(l,L,y,$),To=!1,se=l.memoizedState,L.state=se,sg(l,y,L,S);var xe=l.memoizedState;F!==oe||se!==xe||Xn.current||To?(typeof he=="function"&&(rv(l,m,he,y),xe=l.memoizedState),(Q=To||nE(l,m,Q,y,se,xe,$)||!1)?(ie||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(y,xe,$),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(y,xe,$)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||F===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=xe),L.props=y,L.state=xe,L.context=$,y=Q):(typeof L.componentDidUpdate!="function"||F===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),y=!1)}return cv(i,l,m,y,N,S)}function cv(i,l,m,y,S,N){pE(i,l);var L=(l.flags&128)!==0;if(!y&&!L)return S&&bC(l,m,!1),Ei(i,l,N);y=l.stateNode,iD.current=l;var F=L&&typeof m.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,i!==null&&L?(l.child=Yc(l,i.child,null,N),l.child=Yc(l,null,F,N)):Fn(i,l,F,N),l.memoizedState=y.state,S&&bC(l,m,!0),l.child}function gE(i){var l=i.stateNode;l.pendingContext?yC(i,l.pendingContext,l.pendingContext!==l.context):l.context&&yC(i,l.context,!1),G0(i,l.containerInfo)}function xE(i,l,m,y,S){return Xc(),B0(S),l.flags|=256,Fn(i,l,m,y),l.child}var uv={dehydrated:null,treeContext:null,retryLane:0};function dv(i){return{baseLanes:i,cachePool:null,transitions:null}}function yE(i,l,m){var y=l.pendingProps,S=Ct.current,N=!1,L=(l.flags&128)!==0,F;if((F=L)||(F=i!==null&&i.memoizedState===null?!1:(S&2)!==0),F?(N=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(S|=1),ft(Ct,S&1),i===null)return F0(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(L=y.children,i=y.fallback,N?(y=l.mode,N=l.child,L={mode:"hidden",children:L},(y&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=L):N=Cg(L,y,0,null),i=sl(i,y,m,null),N.return=l,i.return=l,N.sibling=i,l.child=N,l.child.memoizedState=dv(m),l.memoizedState=uv,i):hv(l,L));if(S=i.memoizedState,S!==null&&(F=S.dehydrated,F!==null))return oD(i,l,L,y,F,S,m);if(N){N=y.fallback,L=l.mode,S=i.child,F=S.sibling;var $={mode:"hidden",children:y.children};return(L&1)===0&&l.child!==S?(y=l.child,y.childLanes=0,y.pendingProps=$,l.deletions=null):(y=Do(S,$),y.subtreeFlags=S.subtreeFlags&14680064),F!==null?N=Do(F,N):(N=sl(N,L,m,null),N.flags|=2),N.return=l,y.return=l,y.sibling=N,l.child=y,y=N,N=l.child,L=i.child.memoizedState,L=L===null?dv(m):{baseLanes:L.baseLanes|m,cachePool:null,transitions:L.transitions},N.memoizedState=L,N.childLanes=i.childLanes&~m,l.memoizedState=uv,y}return N=i.child,i=N.sibling,y=Do(N,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=m),y.return=l,y.sibling=null,i!==null&&(m=l.deletions,m===null?(l.deletions=[i],l.flags|=16):m.push(i)),l.child=y,l.memoizedState=null,y}function hv(i,l){return l=Cg({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function dg(i,l,m,y){return y!==null&&B0(y),Yc(l,i.child,null,m),i=hv(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function oD(i,l,m,y,S,N,L){if(m)return l.flags&256?(l.flags&=-257,y=ov(Error(t(422))),dg(i,l,L,y)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(N=y.fallback,S=l.mode,y=Cg({mode:"visible",children:y.children},S,0,null),N=sl(N,S,L,null),N.flags|=2,y.return=l,N.return=l,y.sibling=N,l.child=y,(l.mode&1)!==0&&Yc(l,i.child,null,L),l.child.memoizedState=dv(L),l.memoizedState=uv,N);if((l.mode&1)===0)return dg(i,l,L,null);if(S.data==="$!"){if(y=S.nextSibling&&S.nextSibling.dataset,y)var F=y.dgst;return y=F,N=Error(t(419)),y=ov(N,y,void 0),dg(i,l,L,y)}if(F=(L&i.childLanes)!==0,Qn||F){if(y=nn,y!==null){switch(L&-L){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(y.suspendedLanes|L))!==0?0:S,S!==0&&S!==N.retryLane&&(N.retryLane=S,Ai(i,S),lr(y,i,S,-1))}return kv(),y=ov(Error(t(421))),dg(i,l,L,y)}return S.data==="$?"?(l.flags|=128,l.child=i.child,l=vD.bind(null,i),S._reactRetry=l,null):(i=N.treeContext,ps=Eo(S.nextSibling),fs=l,wt=!0,rr=null,i!==null&&(Ls[Is++]=wi,Ls[Is++]=Si,Ls[Is++]=qa,wi=i.id,Si=i.overflow,qa=l),l=hv(l,y.children),l.flags|=4096,l)}function vE(i,l,m){i.lanes|=l;var y=i.alternate;y!==null&&(y.lanes|=l),U0(i.return,l,m)}function fv(i,l,m,y,S){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=y,N.tail=m,N.tailMode=S)}function bE(i,l,m){var y=l.pendingProps,S=y.revealOrder,N=y.tail;if(Fn(i,l,y.children,m),y=Ct.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vE(i,m,l);else if(i.tag===19)vE(i,m,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}y&=1}if(ft(Ct,y),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(m=l.child,S=null;m!==null;)i=m.alternate,i!==null&&rg(i)===null&&(S=m),m=m.sibling;m=S,m===null?(S=l.child,l.child=null):(S=m.sibling,m.sibling=null),fv(l,!1,S,m,N);break;case"backwards":for(m=null,S=l.child,l.child=null;S!==null;){if(i=S.alternate,i!==null&&rg(i)===null){l.child=S;break}i=S.sibling,S.sibling=m,m=S,S=i}fv(l,!0,m,null,N);break;case"together":fv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function hg(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Ei(i,l,m){if(i!==null&&(l.dependencies=i.dependencies),Za|=l.lanes,(m&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,m=Do(i,i.pendingProps),l.child=m,m.return=l;i.sibling!==null;)i=i.sibling,m=m.sibling=Do(i,i.pendingProps),m.return=l;m.sibling=null}return l.child}function aD(i,l,m){switch(l.tag){case 3:gE(l),Xc();break;case 5:IC(l);break;case 1:Yn(l.type)&&qm(l);break;case 4:G0(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,S=l.memoizedProps.value;ft(eg,y._currentValue),y._currentValue=S;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(ft(Ct,Ct.current&1),l.flags|=128,null):(m&l.child.childLanes)!==0?yE(i,l,m):(ft(Ct,Ct.current&1),i=Ei(i,l,m),i!==null?i.sibling:null);ft(Ct,Ct.current&1);break;case 19:if(y=(m&l.childLanes)!==0,(i.flags&128)!==0){if(y)return bE(i,l,m);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ft(Ct,Ct.current),y)break;return null;case 22:case 23:return l.lanes=0,fE(i,l,m)}return Ei(i,l,m)}var wE,pv,SE,AE;wE=function(i,l){for(var m=l.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},pv=function(){},SE=function(i,l,m,y){var S=i.memoizedProps;if(S!==y){i=l.stateNode,Qa($r.current);var N=null;switch(m){case"input":S=qe(i,S),y=qe(i,y),N=[];break;case"select":S=ne({},S,{value:void 0}),y=ne({},y,{value:void 0}),N=[];break;case"textarea":S=oh(i,S),y=oh(i,y),N=[];break;default:typeof S.onClick!="function"&&typeof y.onClick=="function"&&(i.onclick=Wm)}qy(m,y);var L;m=null;for(Q in S)if(!y.hasOwnProperty(Q)&&S.hasOwnProperty(Q)&&S[Q]!=null)if(Q==="style"){var F=S[Q];for(L in F)F.hasOwnProperty(L)&&(m||(m={}),m[L]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(r.hasOwnProperty(Q)?N||(N=[]):(N=N||[]).push(Q,null));for(Q in y){var $=y[Q];if(F=S!=null?S[Q]:void 0,y.hasOwnProperty(Q)&&$!==F&&($!=null||F!=null))if(Q==="style")if(F){for(L in F)!F.hasOwnProperty(L)||$&&$.hasOwnProperty(L)||(m||(m={}),m[L]="");for(L in $)$.hasOwnProperty(L)&&F[L]!==$[L]&&(m||(m={}),m[L]=$[L])}else m||(N||(N=[]),N.push(Q,m)),m=$;else Q==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,F=F?F.__html:void 0,$!=null&&F!==$&&(N=N||[]).push(Q,$)):Q==="children"?typeof $!="string"&&typeof $!="number"||(N=N||[]).push(Q,""+$):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(r.hasOwnProperty(Q)?($!=null&&Q==="onScroll"&&gt("scroll",i),N||F===$||(N=[])):(N=N||[]).push(Q,$))}m&&(N=N||[]).push("style",m);var Q=N;(l.updateQueue=Q)&&(l.flags|=4)}},AE=function(i,l,m,y){m!==y&&(l.flags|=4)};function Fh(i,l){if(!wt)switch(i.tailMode){case"hidden":l=i.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?i.tail=null:m.sibling=null;break;case"collapsed":m=i.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:y.sibling=null}}function En(i){var l=i.alternate!==null&&i.alternate.child===i.child,m=0,y=0;if(l)for(var S=i.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&14680064,y|=S.flags&14680064,S.return=i,S=S.sibling;else for(S=i.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=i,S=S.sibling;return i.subtreeFlags|=y,i.childLanes=m,l}function lD(i,l,m){var y=l.pendingProps;switch(D0(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(l),null;case 1:return Yn(l.type)&&Km(),En(l),null;case 3:return y=l.stateNode,Zc(),xt(Xn),xt(An),X0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(i===null||i.child===null)&&(Jm(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,rr!==null&&(Ev(rr),rr=null))),pv(i,l),En(l),null;case 5:K0(l);var S=Qa(Lh.current);if(m=l.type,i!==null&&l.stateNode!=null)SE(i,l,m,y,S),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(t(166));return En(l),null}if(i=Qa($r.current),Jm(l)){y=l.stateNode,m=l.type;var N=l.memoizedProps;switch(y[Br]=l,y[kh]=N,i=(l.mode&1)!==0,m){case"dialog":gt("cancel",y),gt("close",y);break;case"iframe":case"object":case"embed":gt("load",y);break;case"video":case"audio":for(S=0;S<Eh.length;S++)gt(Eh[S],y);break;case"source":gt("error",y);break;case"img":case"image":case"link":gt("error",y),gt("load",y);break;case"details":gt("toggle",y);break;case"input":mt(y,N),gt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!N.multiple},gt("invalid",y);break;case"textarea":bm(y,N),gt("invalid",y)}qy(m,N),S=null;for(var L in N)if(N.hasOwnProperty(L)){var F=N[L];L==="children"?typeof F=="string"?y.textContent!==F&&(N.suppressHydrationWarning!==!0&&Hm(y.textContent,F,i),S=["children",F]):typeof F=="number"&&y.textContent!==""+F&&(N.suppressHydrationWarning!==!0&&Hm(y.textContent,F,i),S=["children",""+F]):r.hasOwnProperty(L)&&F!=null&&L==="onScroll"&&gt("scroll",y)}switch(m){case"input":ze(y),Mr(y,N,!0);break;case"textarea":ze(y),Sm(y);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(y.onclick=Wm)}y=S,l.updateQueue=y,y!==null&&(l.flags|=4)}else{L=S.nodeType===9?S:S.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Am(m)),i==="http://www.w3.org/1999/xhtml"?m==="script"?(i=L.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof y.is=="string"?i=L.createElement(m,{is:y.is}):(i=L.createElement(m),m==="select"&&(L=i,y.multiple?L.multiple=!0:y.size&&(L.size=y.size))):i=L.createElementNS(i,m),i[Br]=l,i[kh]=y,wE(i,l,!1,!1),l.stateNode=i;e:{switch(L=Xy(m,y),m){case"dialog":gt("cancel",i),gt("close",i),S=y;break;case"iframe":case"object":case"embed":gt("load",i),S=y;break;case"video":case"audio":for(S=0;S<Eh.length;S++)gt(Eh[S],i);S=y;break;case"source":gt("error",i),S=y;break;case"img":case"image":case"link":gt("error",i),gt("load",i),S=y;break;case"details":gt("toggle",i),S=y;break;case"input":mt(i,y),S=qe(i,y),gt("invalid",i);break;case"option":S=y;break;case"select":i._wrapperState={wasMultiple:!!y.multiple},S=ne({},y,{value:void 0}),gt("invalid",i);break;case"textarea":bm(i,y),S=oh(i,y),gt("invalid",i);break;default:S=y}qy(m,S),F=S;for(N in F)if(F.hasOwnProperty(N)){var $=F[N];N==="style"?hA(i,$):N==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ha(i,$)):N==="children"?typeof $=="string"?(m!=="textarea"||$!=="")&&yi(i,$):typeof $=="number"&&yi(i,""+$):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(r.hasOwnProperty(N)?$!=null&&N==="onScroll"&&gt("scroll",i):$!=null&&k(i,N,$,L))}switch(m){case"input":ze(i),Mr(i,y,!1);break;case"textarea":ze(i),Sm(i);break;case"option":y.value!=null&&i.setAttribute("value",""+pe(y.value));break;case"select":i.multiple=!!y.multiple,N=y.value,N!=null?tr(i,!!y.multiple,N,!1):y.defaultValue!=null&&tr(i,!!y.multiple,y.defaultValue,!0);break;default:typeof S.onClick=="function"&&(i.onclick=Wm)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return En(l),null;case 6:if(i&&l.stateNode!=null)AE(i,l,i.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(t(166));if(m=Qa(Lh.current),Qa($r.current),Jm(l)){if(y=l.stateNode,m=l.memoizedProps,y[Br]=l,(N=y.nodeValue!==m)&&(i=fs,i!==null))switch(i.tag){case 3:Hm(y.nodeValue,m,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Hm(y.nodeValue,m,(i.mode&1)!==0)}N&&(l.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Br]=l,l.stateNode=y}return En(l),null;case 13:if(xt(Ct),y=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&ps!==null&&(l.mode&1)!==0&&(l.flags&128)===0)jC(),Xc(),l.flags|=98560,N=!1;else if(N=Jm(l),y!==null&&y.dehydrated!==null){if(i===null){if(!N)throw Error(t(318));if(N=l.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[Br]=l}else Xc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;En(l),N=!1}else rr!==null&&(Ev(rr),rr=null),N=!0;if(!N)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=m,l):(y=y!==null,y!==(i!==null&&i.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Ct.current&1)!==0?qt===0&&(qt=3):kv())),l.updateQueue!==null&&(l.flags|=4),En(l),null);case 4:return Zc(),pv(i,l),i===null&&jh(l.stateNode.containerInfo),En(l),null;case 10:return z0(l.type._context),En(l),null;case 17:return Yn(l.type)&&Km(),En(l),null;case 19:if(xt(Ct),N=l.memoizedState,N===null)return En(l),null;if(y=(l.flags&128)!==0,L=N.rendering,L===null)if(y)Fh(N,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(L=rg(i),L!==null){for(l.flags|=128,Fh(N,!1),y=L.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=m,m=l.child;m!==null;)N=m,i=y,N.flags&=14680066,L=N.alternate,L===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=L.childLanes,N.lanes=L.lanes,N.child=L.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=L.memoizedProps,N.memoizedState=L.memoizedState,N.updateQueue=L.updateQueue,N.type=L.type,i=L.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),m=m.sibling;return ft(Ct,Ct.current&1|2),l.child}i=i.sibling}N.tail!==null&&Dt()>su&&(l.flags|=128,y=!0,Fh(N,!1),l.lanes=4194304)}else{if(!y)if(i=rg(L),i!==null){if(l.flags|=128,y=!0,m=i.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),Fh(N,!0),N.tail===null&&N.tailMode==="hidden"&&!L.alternate&&!wt)return En(l),null}else 2*Dt()-N.renderingStartTime>su&&m!==1073741824&&(l.flags|=128,y=!0,Fh(N,!1),l.lanes=4194304);N.isBackwards?(L.sibling=l.child,l.child=L):(m=N.last,m!==null?m.sibling=L:l.child=L,N.last=L)}return N.tail!==null?(l=N.tail,N.rendering=l,N.tail=l.sibling,N.renderingStartTime=Dt(),l.sibling=null,m=Ct.current,ft(Ct,y?m&1|2:m&1),l):(En(l),null);case 22:case 23:return Nv(),y=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(ms&1073741824)!==0&&(En(l),l.subtreeFlags&6&&(l.flags|=8192)):En(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function cD(i,l){switch(D0(l),l.tag){case 1:return Yn(l.type)&&Km(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Zc(),xt(Xn),xt(An),X0(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return K0(l),null;case 13:if(xt(Ct),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Xc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return xt(Ct),null;case 4:return Zc(),null;case 10:return z0(l.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var fg=!1,jn=!1,uD=typeof WeakSet=="function"?WeakSet:Set,me=null;function tu(i,l){var m=i.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){_t(i,l,y)}else m.current=null}function mv(i,l,m){try{m()}catch(y){_t(i,l,y)}}var CE=!1;function dD(i,l){if(N0=Lm,i=nC(),v0(i)){if("selectionStart"in i)var m={start:i.selectionStart,end:i.selectionEnd};else e:{m=(m=i.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var L=0,F=-1,$=-1,Q=0,ie=0,oe=i,se=null;t:for(;;){for(var he;oe!==m||S!==0&&oe.nodeType!==3||(F=L+S),oe!==N||y!==0&&oe.nodeType!==3||($=L+y),oe.nodeType===3&&(L+=oe.nodeValue.length),(he=oe.firstChild)!==null;)se=oe,oe=he;for(;;){if(oe===i)break t;if(se===m&&++Q===S&&(F=L),se===N&&++ie===y&&($=L),(he=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=he}m=F===-1||$===-1?null:{start:F,end:$}}else m=null}m=m||{start:0,end:0}}else m=null;for(k0={focusedElem:i,selectionRange:m},Lm=!1,me=l;me!==null;)if(l=me,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,me=i;else for(;me!==null;){l=me;try{var xe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var ve=xe.memoizedProps,Ot=xe.memoizedState,W=l.stateNode,U=W.getSnapshotBeforeUpdate(l.elementType===l.type?ve:ir(l.type,ve),Ot);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=l.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){_t(l,l.return,le)}if(i=l.sibling,i!==null){i.return=l.return,me=i;break}me=l.return}return xe=CE,CE=!1,xe}function Bh(i,l,m){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var S=y=y.next;do{if((S.tag&i)===i){var N=S.destroy;S.destroy=void 0,N!==void 0&&mv(l,m,N)}S=S.next}while(S!==y)}}function pg(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var m=l=l.next;do{if((m.tag&i)===i){var y=m.create;m.destroy=y()}m=m.next}while(m!==l)}}function gv(i){var l=i.ref;if(l!==null){var m=i.stateNode;switch(i.tag){case 5:i=m;break;default:i=m}typeof l=="function"?l(i):l.current=i}}function EE(i){var l=i.alternate;l!==null&&(i.alternate=null,EE(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Br],delete l[kh],delete l[R0],delete l[KM],delete l[qM])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function jE(i){return i.tag===5||i.tag===3||i.tag===4}function NE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xv(i,l,m){var y=i.tag;if(y===5||y===6)i=i.stateNode,l?m.nodeType===8?m.parentNode.insertBefore(i,l):m.insertBefore(i,l):(m.nodeType===8?(l=m.parentNode,l.insertBefore(i,m)):(l=m,l.appendChild(i)),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Wm));else if(y!==4&&(i=i.child,i!==null))for(xv(i,l,m),i=i.sibling;i!==null;)xv(i,l,m),i=i.sibling}function yv(i,l,m){var y=i.tag;if(y===5||y===6)i=i.stateNode,l?m.insertBefore(i,l):m.appendChild(i);else if(y!==4&&(i=i.child,i!==null))for(yv(i,l,m),i=i.sibling;i!==null;)yv(i,l,m),i=i.sibling}var hn=null,or=!1;function _o(i,l,m){for(m=m.child;m!==null;)kE(i,l,m),m=m.sibling}function kE(i,l,m){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Nm,m)}catch{}switch(m.tag){case 5:jn||tu(m,l);case 6:var y=hn,S=or;hn=null,_o(i,l,m),hn=y,or=S,hn!==null&&(or?(i=hn,m=m.stateNode,i.nodeType===8?i.parentNode.removeChild(m):i.removeChild(m)):hn.removeChild(m.stateNode));break;case 18:hn!==null&&(or?(i=hn,m=m.stateNode,i.nodeType===8?_0(i.parentNode,m):i.nodeType===1&&_0(i,m),xh(i)):_0(hn,m.stateNode));break;case 4:y=hn,S=or,hn=m.stateNode.containerInfo,or=!0,_o(i,l,m),hn=y,or=S;break;case 0:case 11:case 14:case 15:if(!jn&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){S=y=y.next;do{var N=S,L=N.destroy;N=N.tag,L!==void 0&&((N&2)!==0||(N&4)!==0)&&mv(m,l,L),S=S.next}while(S!==y)}_o(i,l,m);break;case 1:if(!jn&&(tu(m,l),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(F){_t(m,l,F)}_o(i,l,m);break;case 21:_o(i,l,m);break;case 22:m.mode&1?(jn=(y=jn)||m.memoizedState!==null,_o(i,l,m),jn=y):_o(i,l,m);break;default:_o(i,l,m)}}function TE(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var m=i.stateNode;m===null&&(m=i.stateNode=new uD),l.forEach(function(y){var S=bD.bind(null,i,y);m.has(y)||(m.add(y),y.then(S,S))})}}function ar(i,l){var m=l.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y];try{var N=i,L=l,F=L;e:for(;F!==null;){switch(F.tag){case 5:hn=F.stateNode,or=!1;break e;case 3:hn=F.stateNode.containerInfo,or=!0;break e;case 4:hn=F.stateNode.containerInfo,or=!0;break e}F=F.return}if(hn===null)throw Error(t(160));kE(N,L,S),hn=null,or=!1;var $=S.alternate;$!==null&&($.return=null),S.return=null}catch(Q){_t(S,l,Q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)PE(l,i),l=l.sibling}function PE(i,l){var m=i.alternate,y=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ar(l,i),zr(i),y&4){try{Bh(3,i,i.return),pg(3,i)}catch(ve){_t(i,i.return,ve)}try{Bh(5,i,i.return)}catch(ve){_t(i,i.return,ve)}}break;case 1:ar(l,i),zr(i),y&512&&m!==null&&tu(m,m.return);break;case 5:if(ar(l,i),zr(i),y&512&&m!==null&&tu(m,m.return),i.flags&32){var S=i.stateNode;try{yi(S,"")}catch(ve){_t(i,i.return,ve)}}if(y&4&&(S=i.stateNode,S!=null)){var N=i.memoizedProps,L=m!==null?m.memoizedProps:N,F=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{F==="input"&&N.type==="radio"&&N.name!=null&&ct(S,N),Xy(F,L);var Q=Xy(F,N);for(L=0;L<$.length;L+=2){var ie=$[L],oe=$[L+1];ie==="style"?hA(S,oe):ie==="dangerouslySetInnerHTML"?Ha(S,oe):ie==="children"?yi(S,oe):k(S,ie,oe,Q)}switch(F){case"input":Sn(S,N);break;case"textarea":wm(S,N);break;case"select":var se=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!N.multiple;var he=N.value;he!=null?tr(S,!!N.multiple,he,!1):se!==!!N.multiple&&(N.defaultValue!=null?tr(S,!!N.multiple,N.defaultValue,!0):tr(S,!!N.multiple,N.multiple?[]:"",!1))}S[kh]=N}catch(ve){_t(i,i.return,ve)}}break;case 6:if(ar(l,i),zr(i),y&4){if(i.stateNode===null)throw Error(t(162));S=i.stateNode,N=i.memoizedProps;try{S.nodeValue=N}catch(ve){_t(i,i.return,ve)}}break;case 3:if(ar(l,i),zr(i),y&4&&m!==null&&m.memoizedState.isDehydrated)try{xh(l.containerInfo)}catch(ve){_t(i,i.return,ve)}break;case 4:ar(l,i),zr(i);break;case 13:ar(l,i),zr(i),S=i.child,S.flags&8192&&(N=S.memoizedState!==null,S.stateNode.isHidden=N,!N||S.alternate!==null&&S.alternate.memoizedState!==null||(wv=Dt())),y&4&&TE(i);break;case 22:if(ie=m!==null&&m.memoizedState!==null,i.mode&1?(jn=(Q=jn)||ie,ar(l,i),jn=Q):ar(l,i),zr(i),y&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!ie&&(i.mode&1)!==0)for(me=i,ie=i.child;ie!==null;){for(oe=me=ie;me!==null;){switch(se=me,he=se.child,se.tag){case 0:case 11:case 14:case 15:Bh(4,se,se.return);break;case 1:tu(se,se.return);var xe=se.stateNode;if(typeof xe.componentWillUnmount=="function"){y=se,m=se.return;try{l=y,xe.props=l.memoizedProps,xe.state=l.memoizedState,xe.componentWillUnmount()}catch(ve){_t(y,m,ve)}}break;case 5:tu(se,se.return);break;case 22:if(se.memoizedState!==null){LE(oe);continue}}he!==null?(he.return=se,me=he):LE(oe)}ie=ie.sibling}e:for(ie=null,oe=i;;){if(oe.tag===5){if(ie===null){ie=oe;try{S=oe.stateNode,Q?(N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(F=oe.stateNode,$=oe.memoizedProps.style,L=$!=null&&$.hasOwnProperty("display")?$.display:null,F.style.display=dA("display",L))}catch(ve){_t(i,i.return,ve)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(ve){_t(i,i.return,ve)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===i)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===i)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===i)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:ar(l,i),zr(i),y&4&&TE(i);break;case 21:break;default:ar(l,i),zr(i)}}function zr(i){var l=i.flags;if(l&2){try{e:{for(var m=i.return;m!==null;){if(jE(m)){var y=m;break e}m=m.return}throw Error(t(160))}switch(y.tag){case 5:var S=y.stateNode;y.flags&32&&(yi(S,""),y.flags&=-33);var N=NE(i);yv(i,N,S);break;case 3:case 4:var L=y.stateNode.containerInfo,F=NE(i);xv(i,F,L);break;default:throw Error(t(161))}}catch($){_t(i,i.return,$)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function hD(i,l,m){me=i,_E(i)}function _E(i,l,m){for(var y=(i.mode&1)!==0;me!==null;){var S=me,N=S.child;if(S.tag===22&&y){var L=S.memoizedState!==null||fg;if(!L){var F=S.alternate,$=F!==null&&F.memoizedState!==null||jn;F=fg;var Q=jn;if(fg=L,(jn=$)&&!Q)for(me=S;me!==null;)L=me,$=L.child,L.tag===22&&L.memoizedState!==null?IE(S):$!==null?($.return=L,me=$):IE(S);for(;N!==null;)me=N,_E(N),N=N.sibling;me=S,fg=F,jn=Q}RE(i)}else(S.subtreeFlags&8772)!==0&&N!==null?(N.return=S,me=N):RE(i)}}function RE(i){for(;me!==null;){var l=me;if((l.flags&8772)!==0){var m=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:jn||pg(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!jn)if(m===null)y.componentDidMount();else{var S=l.elementType===l.type?m.memoizedProps:ir(l.type,m.memoizedProps);y.componentDidUpdate(S,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var N=l.updateQueue;N!==null&&LC(l,N,y);break;case 3:var L=l.updateQueue;if(L!==null){if(m=null,l.child!==null)switch(l.child.tag){case 5:m=l.child.stateNode;break;case 1:m=l.child.stateNode}LC(l,L,m)}break;case 5:var F=l.stateNode;if(m===null&&l.flags&4){m=F;var $=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&m.focus();break;case"img":$.src&&(m.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Q=l.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&xh(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jn||l.flags&512&&gv(l)}catch(se){_t(l,l.return,se)}}if(l===i){me=null;break}if(m=l.sibling,m!==null){m.return=l.return,me=m;break}me=l.return}}function LE(i){for(;me!==null;){var l=me;if(l===i){me=null;break}var m=l.sibling;if(m!==null){m.return=l.return,me=m;break}me=l.return}}function IE(i){for(;me!==null;){var l=me;try{switch(l.tag){case 0:case 11:case 15:var m=l.return;try{pg(4,l)}catch($){_t(l,m,$)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var S=l.return;try{y.componentDidMount()}catch($){_t(l,S,$)}}var N=l.return;try{gv(l)}catch($){_t(l,N,$)}break;case 5:var L=l.return;try{gv(l)}catch($){_t(l,L,$)}}}catch($){_t(l,l.return,$)}if(l===i){me=null;break}var F=l.sibling;if(F!==null){F.return=l.return,me=F;break}me=l.return}}var fD=Math.ceil,mg=P.ReactCurrentDispatcher,vv=P.ReactCurrentOwner,Os=P.ReactCurrentBatchConfig,Qe=0,nn=null,zt=null,fn=0,ms=0,nu=jo(0),qt=0,$h=null,Za=0,gg=0,bv=0,Vh=null,Jn=null,wv=0,su=1/0,ji=null,xg=!1,Sv=null,Ro=null,yg=!1,Lo=null,vg=0,zh=0,Av=null,bg=-1,wg=0;function Bn(){return(Qe&6)!==0?Dt():bg!==-1?bg:bg=Dt()}function Io(i){return(i.mode&1)===0?1:(Qe&2)!==0&&fn!==0?fn&-fn:YM.transition!==null?(wg===0&&(wg=NA()),wg):(i=nt,i!==0||(i=window.event,i=i===void 0?16:DA(i.type)),i)}function lr(i,l,m,y){if(50<zh)throw zh=0,Av=null,Error(t(185));hh(i,m,y),((Qe&2)===0||i!==nn)&&(i===nn&&((Qe&2)===0&&(gg|=m),qt===4&&Mo(i,fn)),Zn(i,y),m===1&&Qe===0&&(l.mode&1)===0&&(su=Dt()+500,Xm&&ko()))}function Zn(i,l){var m=i.callbackNode;YI(i,l);var y=Pm(i,i===nn?fn:0);if(y===0)m!==null&&CA(m),i.callbackNode=null,i.callbackPriority=0;else if(l=y&-y,i.callbackPriority!==l){if(m!=null&&CA(m),l===1)i.tag===0?XM(DE.bind(null,i)):wC(DE.bind(null,i)),WM(function(){(Qe&6)===0&&ko()}),m=null;else{switch(kA(y)){case 1:m=n0;break;case 4:m=EA;break;case 16:m=jm;break;case 536870912:m=jA;break;default:m=jm}m=HE(m,ME.bind(null,i))}i.callbackPriority=l,i.callbackNode=m}}function ME(i,l){if(bg=-1,wg=0,(Qe&6)!==0)throw Error(t(327));var m=i.callbackNode;if(ru()&&i.callbackNode!==m)return null;var y=Pm(i,i===nn?fn:0);if(y===0)return null;if((y&30)!==0||(y&i.expiredLanes)!==0||l)l=Sg(i,y);else{l=y;var S=Qe;Qe|=2;var N=FE();(nn!==i||fn!==l)&&(ji=null,su=Dt()+500,tl(i,l));do try{gD();break}catch(F){OE(i,F)}while(!0);V0(),mg.current=N,Qe=S,zt!==null?l=0:(nn=null,fn=0,l=qt)}if(l!==0){if(l===2&&(S=s0(i),S!==0&&(y=S,l=Cv(i,S))),l===1)throw m=$h,tl(i,0),Mo(i,y),Zn(i,Dt()),m;if(l===6)Mo(i,y);else{if(S=i.current.alternate,(y&30)===0&&!pD(S)&&(l=Sg(i,y),l===2&&(N=s0(i),N!==0&&(y=N,l=Cv(i,N))),l===1))throw m=$h,tl(i,0),Mo(i,y),Zn(i,Dt()),m;switch(i.finishedWork=S,i.finishedLanes=y,l){case 0:case 1:throw Error(t(345));case 2:nl(i,Jn,ji);break;case 3:if(Mo(i,y),(y&130023424)===y&&(l=wv+500-Dt(),10<l)){if(Pm(i,0)!==0)break;if(S=i.suspendedLanes,(S&y)!==y){Bn(),i.pingedLanes|=i.suspendedLanes&S;break}i.timeoutHandle=P0(nl.bind(null,i,Jn,ji),l);break}nl(i,Jn,ji);break;case 4:if(Mo(i,y),(y&4194240)===y)break;for(l=i.eventTimes,S=-1;0<y;){var L=31-nr(y);N=1<<L,L=l[L],L>S&&(S=L),y&=~N}if(y=S,y=Dt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*fD(y/1960))-y,10<y){i.timeoutHandle=P0(nl.bind(null,i,Jn,ji),y);break}nl(i,Jn,ji);break;case 5:nl(i,Jn,ji);break;default:throw Error(t(329))}}}return Zn(i,Dt()),i.callbackNode===m?ME.bind(null,i):null}function Cv(i,l){var m=Vh;return i.current.memoizedState.isDehydrated&&(tl(i,l).flags|=256),i=Sg(i,l),i!==2&&(l=Jn,Jn=m,l!==null&&Ev(l)),i}function Ev(i){Jn===null?Jn=i:Jn.push.apply(Jn,i)}function pD(i){for(var l=i;;){if(l.flags&16384){var m=l.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var S=m[y],N=S.getSnapshot;S=S.value;try{if(!sr(N(),S))return!1}catch{return!1}}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Mo(i,l){for(l&=~bv,l&=~gg,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var m=31-nr(l),y=1<<m;i[m]=-1,l&=~y}}function DE(i){if((Qe&6)!==0)throw Error(t(327));ru();var l=Pm(i,0);if((l&1)===0)return Zn(i,Dt()),null;var m=Sg(i,l);if(i.tag!==0&&m===2){var y=s0(i);y!==0&&(l=y,m=Cv(i,y))}if(m===1)throw m=$h,tl(i,0),Mo(i,l),Zn(i,Dt()),m;if(m===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,nl(i,Jn,ji),Zn(i,Dt()),null}function jv(i,l){var m=Qe;Qe|=1;try{return i(l)}finally{Qe=m,Qe===0&&(su=Dt()+500,Xm&&ko())}}function el(i){Lo!==null&&Lo.tag===0&&(Qe&6)===0&&ru();var l=Qe;Qe|=1;var m=Os.transition,y=nt;try{if(Os.transition=null,nt=1,i)return i()}finally{nt=y,Os.transition=m,Qe=l,(Qe&6)===0&&ko()}}function Nv(){ms=nu.current,xt(nu)}function tl(i,l){i.finishedWork=null,i.finishedLanes=0;var m=i.timeoutHandle;if(m!==-1&&(i.timeoutHandle=-1,HM(m)),zt!==null)for(m=zt.return;m!==null;){var y=m;switch(D0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Km();break;case 3:Zc(),xt(Xn),xt(An),X0();break;case 5:K0(y);break;case 4:Zc();break;case 13:xt(Ct);break;case 19:xt(Ct);break;case 10:z0(y.type._context);break;case 22:case 23:Nv()}m=m.return}if(nn=i,zt=i=Do(i.current,null),fn=ms=l,qt=0,$h=null,bv=gg=Za=0,Jn=Vh=null,Ya!==null){for(l=0;l<Ya.length;l++)if(m=Ya[l],y=m.interleaved,y!==null){m.interleaved=null;var S=y.next,N=m.pending;if(N!==null){var L=N.next;N.next=S,y.next=L}m.pending=y}Ya=null}return i}function OE(i,l){do{var m=zt;try{if(V0(),ig.current=cg,og){for(var y=Et.memoizedState;y!==null;){var S=y.queue;S!==null&&(S.pending=null),y=y.next}og=!1}if(Ja=0,tn=Kt=Et=null,Ih=!1,Mh=0,vv.current=null,m===null||m.return===null){qt=1,$h=l,zt=null;break}e:{var N=i,L=m.return,F=m,$=l;if(l=fn,F.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Q=$,ie=F,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var he=lE(L);if(he!==null){he.flags&=-257,cE(he,L,F,N,l),he.mode&1&&aE(N,Q,l),l=he,$=Q;var xe=l.updateQueue;if(xe===null){var ve=new Set;ve.add($),l.updateQueue=ve}else xe.add($);break e}else{if((l&1)===0){aE(N,Q,l),kv();break e}$=Error(t(426))}}else if(wt&&F.mode&1){var Ot=lE(L);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),cE(Ot,L,F,N,l),B0(eu($,F));break e}}N=$=eu($,F),qt!==4&&(qt=2),Vh===null?Vh=[N]:Vh.push(N),N=L;do{switch(N.tag){case 3:N.flags|=65536,l&=-l,N.lanes|=l;var W=iE(N,$,l);RC(N,W);break e;case 1:F=$;var U=N.type,q=N.stateNode;if((N.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ro===null||!Ro.has(q)))){N.flags|=65536,l&=-l,N.lanes|=l;var le=oE(N,F,l);RC(N,le);break e}}N=N.return}while(N!==null)}$E(m)}catch(we){l=we,zt===m&&m!==null&&(zt=m=m.return);continue}break}while(!0)}function FE(){var i=mg.current;return mg.current=cg,i===null?cg:i}function kv(){(qt===0||qt===3||qt===2)&&(qt=4),nn===null||(Za&268435455)===0&&(gg&268435455)===0||Mo(nn,fn)}function Sg(i,l){var m=Qe;Qe|=2;var y=FE();(nn!==i||fn!==l)&&(ji=null,tl(i,l));do try{mD();break}catch(S){OE(i,S)}while(!0);if(V0(),Qe=m,mg.current=y,zt!==null)throw Error(t(261));return nn=null,fn=0,qt}function mD(){for(;zt!==null;)BE(zt)}function gD(){for(;zt!==null&&!VI();)BE(zt)}function BE(i){var l=UE(i.alternate,i,ms);i.memoizedProps=i.pendingProps,l===null?$E(i):zt=l,vv.current=null}function $E(i){var l=i;do{var m=l.alternate;if(i=l.return,(l.flags&32768)===0){if(m=lD(m,l,ms),m!==null){zt=m;return}}else{if(m=cD(m,l),m!==null){m.flags&=32767,zt=m;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{qt=6,zt=null;return}}if(l=l.sibling,l!==null){zt=l;return}zt=l=i}while(l!==null);qt===0&&(qt=5)}function nl(i,l,m){var y=nt,S=Os.transition;try{Os.transition=null,nt=1,xD(i,l,m,y)}finally{Os.transition=S,nt=y}return null}function xD(i,l,m,y){do ru();while(Lo!==null);if((Qe&6)!==0)throw Error(t(327));m=i.finishedWork;var S=i.finishedLanes;if(m===null)return null;if(i.finishedWork=null,i.finishedLanes=0,m===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var N=m.lanes|m.childLanes;if(QI(i,N),i===nn&&(zt=nn=null,fn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||yg||(yg=!0,HE(jm,function(){return ru(),null})),N=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||N){N=Os.transition,Os.transition=null;var L=nt;nt=1;var F=Qe;Qe|=4,vv.current=null,dD(i,m),PE(m,i),OM(k0),Lm=!!N0,k0=N0=null,i.current=m,hD(m),zI(),Qe=F,nt=L,Os.transition=N}else i.current=m;if(yg&&(yg=!1,Lo=i,vg=S),N=i.pendingLanes,N===0&&(Ro=null),WI(m.stateNode),Zn(i,Dt()),l!==null)for(y=i.onRecoverableError,m=0;m<l.length;m++)S=l[m],y(S.value,{componentStack:S.stack,digest:S.digest});if(xg)throw xg=!1,i=Sv,Sv=null,i;return(vg&1)!==0&&i.tag!==0&&ru(),N=i.pendingLanes,(N&1)!==0?i===Av?zh++:(zh=0,Av=i):zh=0,ko(),null}function ru(){if(Lo!==null){var i=kA(vg),l=Os.transition,m=nt;try{if(Os.transition=null,nt=16>i?16:i,Lo===null)var y=!1;else{if(i=Lo,Lo=null,vg=0,(Qe&6)!==0)throw Error(t(331));var S=Qe;for(Qe|=4,me=i.current;me!==null;){var N=me,L=N.child;if((me.flags&16)!==0){var F=N.deletions;if(F!==null){for(var $=0;$<F.length;$++){var Q=F[$];for(me=Q;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:Bh(8,ie,N)}var oe=ie.child;if(oe!==null)oe.return=ie,me=oe;else for(;me!==null;){ie=me;var se=ie.sibling,he=ie.return;if(EE(ie),ie===Q){me=null;break}if(se!==null){se.return=he,me=se;break}me=he}}}var xe=N.alternate;if(xe!==null){var ve=xe.child;if(ve!==null){xe.child=null;do{var Ot=ve.sibling;ve.sibling=null,ve=Ot}while(ve!==null)}}me=N}}if((N.subtreeFlags&2064)!==0&&L!==null)L.return=N,me=L;else e:for(;me!==null;){if(N=me,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Bh(9,N,N.return)}var W=N.sibling;if(W!==null){W.return=N.return,me=W;break e}me=N.return}}var U=i.current;for(me=U;me!==null;){L=me;var q=L.child;if((L.subtreeFlags&2064)!==0&&q!==null)q.return=L,me=q;else e:for(L=U;me!==null;){if(F=me,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:pg(9,F)}}catch(we){_t(F,F.return,we)}if(F===L){me=null;break e}var le=F.sibling;if(le!==null){le.return=F.return,me=le;break e}me=F.return}}if(Qe=S,ko(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Nm,i)}catch{}y=!0}return y}finally{nt=m,Os.transition=l}}return!1}function VE(i,l,m){l=eu(m,l),l=iE(i,l,1),i=Po(i,l,1),l=Bn(),i!==null&&(hh(i,1,l),Zn(i,l))}function _t(i,l,m){if(i.tag===3)VE(i,i,m);else for(;l!==null;){if(l.tag===3){VE(l,i,m);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ro===null||!Ro.has(y))){i=eu(m,i),i=oE(l,i,1),l=Po(l,i,1),i=Bn(),l!==null&&(hh(l,1,i),Zn(l,i));break}}l=l.return}}function yD(i,l,m){var y=i.pingCache;y!==null&&y.delete(l),l=Bn(),i.pingedLanes|=i.suspendedLanes&m,nn===i&&(fn&m)===m&&(qt===4||qt===3&&(fn&130023424)===fn&&500>Dt()-wv?tl(i,0):bv|=m),Zn(i,l)}function zE(i,l){l===0&&((i.mode&1)===0?l=1:(l=Tm,Tm<<=1,(Tm&130023424)===0&&(Tm=4194304)));var m=Bn();i=Ai(i,l),i!==null&&(hh(i,l,m),Zn(i,m))}function vD(i){var l=i.memoizedState,m=0;l!==null&&(m=l.retryLane),zE(i,m)}function bD(i,l){var m=0;switch(i.tag){case 13:var y=i.stateNode,S=i.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=i.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(l),zE(i,m)}var UE;UE=function(i,l,m){if(i!==null)if(i.memoizedProps!==l.pendingProps||Xn.current)Qn=!0;else{if((i.lanes&m)===0&&(l.flags&128)===0)return Qn=!1,aD(i,l,m);Qn=(i.flags&131072)!==0}else Qn=!1,wt&&(l.flags&1048576)!==0&&SC(l,Qm,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;hg(i,l),i=l.pendingProps;var S=Gc(l,An.current);Jc(l,m),S=J0(null,l,y,i,S,m);var N=Z0();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Yn(y)?(N=!0,qm(l)):N=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,W0(l),S.updater=ug,l.stateNode=S,S._reactInternals=l,iv(l,y,i,m),l=cv(null,l,y,!0,N,m)):(l.tag=0,wt&&N&&M0(l),Fn(null,l,S,m),l=l.child),l;case 16:y=l.elementType;e:{switch(hg(i,l),i=l.pendingProps,S=y._init,y=S(y._payload),l.type=y,S=l.tag=SD(y),i=ir(y,i),S){case 0:l=lv(null,l,y,i,m);break e;case 1:l=mE(null,l,y,i,m);break e;case 11:l=uE(null,l,y,i,m);break e;case 14:l=dE(null,l,y,ir(y.type,i),m);break e}throw Error(t(306,y,""))}return l;case 0:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:ir(y,S),lv(i,l,y,S,m);case 1:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:ir(y,S),mE(i,l,y,S,m);case 3:e:{if(gE(l),i===null)throw Error(t(387));y=l.pendingProps,N=l.memoizedState,S=N.element,_C(i,l),sg(l,y,null,m);var L=l.memoizedState;if(y=L.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){S=eu(Error(t(423)),l),l=xE(i,l,y,m,S);break e}else if(y!==S){S=eu(Error(t(424)),l),l=xE(i,l,y,m,S);break e}else for(ps=Eo(l.stateNode.containerInfo.firstChild),fs=l,wt=!0,rr=null,m=TC(l,null,y,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Xc(),y===S){l=Ei(i,l,m);break e}Fn(i,l,y,m)}l=l.child}return l;case 5:return IC(l),i===null&&F0(l),y=l.type,S=l.pendingProps,N=i!==null?i.memoizedProps:null,L=S.children,T0(y,S)?L=null:N!==null&&T0(y,N)&&(l.flags|=32),pE(i,l),Fn(i,l,L,m),l.child;case 6:return i===null&&F0(l),null;case 13:return yE(i,l,m);case 4:return G0(l,l.stateNode.containerInfo),y=l.pendingProps,i===null?l.child=Yc(l,null,y,m):Fn(i,l,y,m),l.child;case 11:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:ir(y,S),uE(i,l,y,S,m);case 7:return Fn(i,l,l.pendingProps,m),l.child;case 8:return Fn(i,l,l.pendingProps.children,m),l.child;case 12:return Fn(i,l,l.pendingProps.children,m),l.child;case 10:e:{if(y=l.type._context,S=l.pendingProps,N=l.memoizedProps,L=S.value,ft(eg,y._currentValue),y._currentValue=L,N!==null)if(sr(N.value,L)){if(N.children===S.children&&!Xn.current){l=Ei(i,l,m);break e}}else for(N=l.child,N!==null&&(N.return=l);N!==null;){var F=N.dependencies;if(F!==null){L=N.child;for(var $=F.firstContext;$!==null;){if($.context===y){if(N.tag===1){$=Ci(-1,m&-m),$.tag=2;var Q=N.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?$.next=$:($.next=ie.next,ie.next=$),Q.pending=$}}N.lanes|=m,$=N.alternate,$!==null&&($.lanes|=m),U0(N.return,m,l),F.lanes|=m;break}$=$.next}}else if(N.tag===10)L=N.type===l.type?null:N.child;else if(N.tag===18){if(L=N.return,L===null)throw Error(t(341));L.lanes|=m,F=L.alternate,F!==null&&(F.lanes|=m),U0(L,m,l),L=N.sibling}else L=N.child;if(L!==null)L.return=N;else for(L=N;L!==null;){if(L===l){L=null;break}if(N=L.sibling,N!==null){N.return=L.return,L=N;break}L=L.return}N=L}Fn(i,l,S.children,m),l=l.child}return l;case 9:return S=l.type,y=l.pendingProps.children,Jc(l,m),S=Ms(S),y=y(S),l.flags|=1,Fn(i,l,y,m),l.child;case 14:return y=l.type,S=ir(y,l.pendingProps),S=ir(y.type,S),dE(i,l,y,S,m);case 15:return hE(i,l,l.type,l.pendingProps,m);case 17:return y=l.type,S=l.pendingProps,S=l.elementType===y?S:ir(y,S),hg(i,l),l.tag=1,Yn(y)?(i=!0,qm(l)):i=!1,Jc(l,m),sE(l,y,S),iv(l,y,S,m),cv(null,l,y,!0,i,m);case 19:return bE(i,l,m);case 22:return fE(i,l,m)}throw Error(t(156,l.tag))};function HE(i,l){return AA(i,l)}function wD(i,l,m,y){this.tag=i,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(i,l,m,y){return new wD(i,l,m,y)}function Tv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function SD(i){if(typeof i=="function")return Tv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===X)return 11;if(i===ae)return 14}return 2}function Do(i,l){var m=i.alternate;return m===null?(m=Fs(i.tag,l,i.key,i.mode),m.elementType=i.elementType,m.type=i.type,m.stateNode=i.stateNode,m.alternate=i,i.alternate=m):(m.pendingProps=l,m.type=i.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=i.flags&14680064,m.childLanes=i.childLanes,m.lanes=i.lanes,m.child=i.child,m.memoizedProps=i.memoizedProps,m.memoizedState=i.memoizedState,m.updateQueue=i.updateQueue,l=i.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=i.sibling,m.index=i.index,m.ref=i.ref,m}function Ag(i,l,m,y,S,N){var L=2;if(y=i,typeof i=="function")Tv(i)&&(L=1);else if(typeof i=="string")L=5;else e:switch(i){case D:return sl(m.children,S,N,l);case O:L=8,S|=8;break;case B:return i=Fs(12,m,l,S|2),i.elementType=B,i.lanes=N,i;case ee:return i=Fs(13,m,l,S),i.elementType=ee,i.lanes=N,i;case J:return i=Fs(19,m,l,S),i.elementType=J,i.lanes=N,i;case G:return Cg(m,S,N,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:L=10;break e;case K:L=9;break e;case X:L=11;break e;case ae:L=14;break e;case Y:L=16,y=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=Fs(L,m,l,S),l.elementType=i,l.type=y,l.lanes=N,l}function sl(i,l,m,y){return i=Fs(7,i,y,l),i.lanes=m,i}function Cg(i,l,m,y){return i=Fs(22,i,y,l),i.elementType=G,i.lanes=m,i.stateNode={isHidden:!1},i}function Pv(i,l,m){return i=Fs(6,i,null,l),i.lanes=m,i}function _v(i,l,m){return l=Fs(4,i.children!==null?i.children:[],i.key,l),l.lanes=m,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function AD(i,l,m,y,S){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=r0(0),this.expirationTimes=r0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=r0(0),this.identifierPrefix=y,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Rv(i,l,m,y,S,N,L,F,$){return i=new AD(i,l,m,F,$),l===1?(l=1,N===!0&&(l|=8)):l=0,N=Fs(3,null,null,l),i.current=N,N.stateNode=i,N.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(N),i}function CD(i,l,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:y==null?null:""+y,children:i,containerInfo:l,implementation:m}}function WE(i){if(!i)return No;i=i._reactInternals;e:{if(Wa(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var m=i.type;if(Yn(m))return vC(i,m,l)}return l}function GE(i,l,m,y,S,N,L,F,$){return i=Rv(m,y,!0,i,S,N,L,F,$),i.context=WE(null),m=i.current,y=Bn(),S=Io(m),N=Ci(y,S),N.callback=l??null,Po(m,N,S),i.current.lanes=S,hh(i,S,y),Zn(i,y),i}function Eg(i,l,m,y){var S=l.current,N=Bn(),L=Io(S);return m=WE(m),l.context===null?l.context=m:l.pendingContext=m,l=Ci(N,L),l.payload={element:i},y=y===void 0?null:y,y!==null&&(l.callback=y),i=Po(S,l,L),i!==null&&(lr(i,S,L,N),ng(i,S,L)),L}function jg(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function KE(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var m=i.retryLane;i.retryLane=m!==0&&m<l?m:l}}function Lv(i,l){KE(i,l),(i=i.alternate)&&KE(i,l)}function ED(){return null}var qE=typeof reportError=="function"?reportError:function(i){console.error(i)};function Iv(i){this._internalRoot=i}Ng.prototype.render=Iv.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));Eg(i,l,null,null)},Ng.prototype.unmount=Iv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;el(function(){Eg(null,i,null,null)}),l[vi]=null}};function Ng(i){this._internalRoot=i}Ng.prototype.unstable_scheduleHydration=function(i){if(i){var l=_A();i={blockedOn:null,target:i,priority:l};for(var m=0;m<So.length&&l!==0&&l<So[m].priority;m++);So.splice(m,0,i),m===0&&IA(i)}};function Mv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function kg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function XE(){}function jD(i,l,m,y,S){if(S){if(typeof y=="function"){var N=y;y=function(){var Q=jg(L);N.call(Q)}}var L=GE(l,y,i,0,null,!1,!1,"",XE);return i._reactRootContainer=L,i[vi]=L.current,jh(i.nodeType===8?i.parentNode:i),el(),L}for(;S=i.lastChild;)i.removeChild(S);if(typeof y=="function"){var F=y;y=function(){var Q=jg($);F.call(Q)}}var $=Rv(i,0,!1,null,null,!1,!1,"",XE);return i._reactRootContainer=$,i[vi]=$.current,jh(i.nodeType===8?i.parentNode:i),el(function(){Eg(l,$,m,y)}),$}function Tg(i,l,m,y,S){var N=m._reactRootContainer;if(N){var L=N;if(typeof S=="function"){var F=S;S=function(){var $=jg(L);F.call($)}}Eg(l,L,i,S)}else L=jD(m,l,i,S,y);return jg(L)}TA=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var m=dh(l.pendingLanes);m!==0&&(i0(l,m|1),Zn(l,Dt()),(Qe&6)===0&&(su=Dt()+500,ko()))}break;case 13:el(function(){var y=Ai(i,1);if(y!==null){var S=Bn();lr(y,i,1,S)}}),Lv(i,1)}},o0=function(i){if(i.tag===13){var l=Ai(i,134217728);if(l!==null){var m=Bn();lr(l,i,134217728,m)}Lv(i,134217728)}},PA=function(i){if(i.tag===13){var l=Io(i),m=Ai(i,l);if(m!==null){var y=Bn();lr(m,i,l,y)}Lv(i,l)}},_A=function(){return nt},RA=function(i,l){var m=nt;try{return nt=i,l()}finally{nt=m}},Jy=function(i,l,m){switch(l){case"input":if(Sn(i,m),l=m.name,m.type==="radio"&&l!=null){for(m=i;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<m.length;l++){var y=m[l];if(y!==i&&y.form===i.form){var S=Gm(y);if(!S)throw Error(t(90));Ge(y),Sn(y,S)}}}break;case"textarea":wm(i,m);break;case"select":l=m.value,l!=null&&tr(i,!!m.multiple,l,!1)}},gA=jv,xA=el;var ND={usingClientEntryPoint:!1,Events:[Th,Hc,Gm,pA,mA,jv]},Uh={findFiberByHostInstance:Ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kD={bundleType:Uh.bundleType,version:Uh.version,rendererPackageName:Uh.rendererPackageName,rendererConfig:Uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=wA(i),i===null?null:i.stateNode},findFiberByHostInstance:Uh.findFiberByHostInstance||ED,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{Nm=Pg.inject(kD),Fr=Pg}catch{}}return es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ND,es.createPortal=function(i,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(l))throw Error(t(200));return CD(i,l,null,m)},es.createRoot=function(i,l){if(!Mv(i))throw Error(t(299));var m=!1,y="",S=qE;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=Rv(i,1,!1,null,null,m,!1,y,S),i[vi]=l.current,jh(i.nodeType===8?i.parentNode:i),new Iv(l)},es.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=wA(l),i=i===null?null:i.stateNode,i},es.flushSync=function(i){return el(i)},es.hydrate=function(i,l,m){if(!kg(l))throw Error(t(200));return Tg(null,i,l,!0,m)},es.hydrateRoot=function(i,l,m){if(!Mv(i))throw Error(t(405));var y=m!=null&&m.hydratedSources||null,S=!1,N="",L=qE;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onRecoverableError!==void 0&&(L=m.onRecoverableError)),l=GE(l,null,i,1,m??null,S,!1,N,L),i[vi]=l.current,jh(i),y)for(i=0;i<y.length;i++)m=y[i],S=m._getVersion,S=S(m._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[m,S]:l.mutableSourceEagerHydrationData.push(m,S);return new Ng(l)},es.render=function(i,l,m){if(!kg(l))throw Error(t(200));return Tg(null,i,l,!1,m)},es.unmountComponentAtNode=function(i){if(!kg(i))throw Error(t(40));return i._reactRootContainer?(el(function(){Tg(null,null,i,!1,function(){i._reactRootContainer=null,i[vi]=null})}),!0):!1},es.unstable_batchedUpdates=jv,es.unstable_renderSubtreeIntoContainer=function(i,l,m,y){if(!kg(m))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Tg(i,l,m,!1,y)},es.version="18.3.1-next-f1338f8080-20240426",es}var rj;function hT(){if(rj)return Bv.exports;rj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bv.exports=FD(),Bv.exports}var ij;function BD(){if(ij)return _g;ij=1;var n=hT();return _g.createRoot=n.createRoot,_g.hydrateRoot=n.hydrateRoot,_g}var $D=BD();const VD=by($D);var om=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bc=typeof window>"u"||"Deno"in globalThis;function qs(){}function zD(n,e){return typeof n=="function"?n(e):n}function wb(n){return typeof n=="number"&&n>=0&&n!==1/0}function fT(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Au(n,e){return typeof n=="function"?n(e):n}function kr(n,e){return typeof n=="function"?n(e):n}function oj(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:o,queryKey:a,stale:u}=n;if(a){if(s){if(e.queryHash!==RS(a,e.options))return!1}else if(!Tf(e.queryKey,a))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||r&&r!==e.state.fetchStatus||o&&!o(e))}function aj(n,e){const{exact:t,status:s,predicate:r,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(kf(e.options.mutationKey)!==kf(o))return!1}else if(!Tf(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function RS(n,e){return((e==null?void 0:e.queryKeyHashFn)||kf)(n)}function kf(n){return JSON.stringify(n,(e,t)=>Ab(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function Tf(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Tf(n[t],e[t])):!1}function pT(n,e){if(n===e)return n;const t=lj(n)&&lj(e);if(t||Ab(n)&&Ab(e)){const s=t?n:Object.keys(n),r=s.length,o=t?e:Object.keys(e),a=o.length,u=t?[]:{};let d=0;for(let h=0;h<a;h++){const p=t?h:o[h];(!t&&s.includes(p)||t)&&n[p]===void 0&&e[p]===void 0?(u[p]=void 0,d++):(u[p]=pT(n[p],e[p]),u[p]===n[p]&&n[p]!==void 0&&d++)}return r===a&&d===r?n:u}return e}function Sb(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function lj(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Ab(n){if(!cj(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!cj(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function cj(n){return Object.prototype.toString.call(n)==="[object Object]"}function UD(n){return new Promise(e=>{setTimeout(e,n)})}function Cb(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?pT(n,e):e}function HD(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function WD(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var LS=Symbol();function mT(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===LS?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var ml,Go,_u,eT,GD=(eT=class extends om{constructor(){super();I(this,ml);I(this,Go);I(this,_u);T(this,_u,e=>{if(!bc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){f(this,Go)||this.setEventListener(f(this,_u))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,Go))==null||e.call(this),T(this,Go,void 0))}setEventListener(e){var t;T(this,_u,e),(t=f(this,Go))==null||t.call(this),T(this,Go,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){f(this,ml)!==e&&(T(this,ml,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof f(this,ml)=="boolean"?f(this,ml):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ml=new WeakMap,Go=new WeakMap,_u=new WeakMap,eT),IS=new GD,Ru,Ko,Lu,tT,KD=(tT=class extends om{constructor(){super();I(this,Ru,!0);I(this,Ko);I(this,Lu);T(this,Lu,e=>{if(!bc&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){f(this,Ko)||this.setEventListener(f(this,Lu))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,Ko))==null||e.call(this),T(this,Ko,void 0))}setEventListener(e){var t;T(this,Lu,e),(t=f(this,Ko))==null||t.call(this),T(this,Ko,e(this.setOnline.bind(this)))}setOnline(e){f(this,Ru)!==e&&(T(this,Ru,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return f(this,Ru)}},Ru=new WeakMap,Ko=new WeakMap,Lu=new WeakMap,tT),Mx=new KD;function Eb(){let n,e;const t=new Promise((r,o)=>{n=r,e=o});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}function qD(n){return Math.min(1e3*2**n,3e4)}function gT(n){return(n??"online")==="online"?Mx.isOnline():!0}var xT=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function zv(n){return n instanceof xT}function yT(n){let e=!1,t=0,s=!1,r;const o=Eb(),a=b=>{var E;s||(x(new xT(b)),(E=n.abort)==null||E.call(n))},u=()=>{e=!0},d=()=>{e=!1},h=()=>IS.isFocused()&&(n.networkMode==="always"||Mx.isOnline())&&n.canRun(),p=()=>gT(n.networkMode)&&n.canRun(),g=b=>{var E;s||(s=!0,(E=n.onSuccess)==null||E.call(n,b),r==null||r(),o.resolve(b))},x=b=>{var E;s||(s=!0,(E=n.onError)==null||E.call(n,b),r==null||r(),o.reject(b))},v=()=>new Promise(b=>{var E;r=A=>{(s||h())&&b(A)},(E=n.onPause)==null||E.call(n)}).then(()=>{var b;r=void 0,s||(b=n.onContinue)==null||b.call(n)}),w=()=>{if(s)return;let b;const E=t===0?n.initialPromise:void 0;try{b=E??n.fn()}catch(A){b=Promise.reject(A)}Promise.resolve(b).then(g).catch(A=>{var M;if(s)return;const j=n.retry??(bc?0:3),k=n.retryDelay??qD,P=typeof k=="function"?k(t,A):k,R=j===!0||typeof j=="number"&&t<j||typeof j=="function"&&j(t,A);if(e||!R){x(A);return}t++,(M=n.onFail)==null||M.call(n,t,A),UD(P).then(()=>h()?void 0:v()).then(()=>{e?x(A):w()})})};return{promise:o,cancel:a,continue:()=>(r==null||r(),o),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?w():v().then(w),o)}}var XD=n=>setTimeout(n,0);function YD(){let n=[],e=0,t=u=>{u()},s=u=>{u()},r=XD;const o=u=>{e?n.push(u):r(()=>{t(u)})},a=()=>{const u=n;n=[],u.length&&r(()=>{s(()=>{u.forEach(d=>{t(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||a()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{r=u}}}var vn=YD(),gl,nT,vT=(nT=class{constructor(){I(this,gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wb(this.gcTime)&&T(this,gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(bc?1/0:5*60*1e3))}clearGcTimeout(){f(this,gl)&&(clearTimeout(f(this,gl)),T(this,gl,void 0))}},gl=new WeakMap,nT),Iu,Mu,zs,xl,Tn,Vf,yl,fr,Pi,sT,QD=(sT=class extends vT{constructor(e){super();I(this,fr);I(this,Iu);I(this,Mu);I(this,zs);I(this,xl);I(this,Tn);I(this,Vf);I(this,yl);T(this,yl,!1),T(this,Vf,e.defaultOptions),this.setOptions(e.options),this.observers=[],T(this,xl,e.client),T(this,zs,f(this,xl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,T(this,Iu,JD(this.options)),this.state=e.state??f(this,Iu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=f(this,Tn))==null?void 0:e.promise}setOptions(e){this.options={...f(this,Vf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&f(this,zs).remove(this)}setData(e,t){const s=Cb(this.state.data,e,this.options);return _(this,fr,Pi).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){_(this,fr,Pi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=f(this,Tn))==null?void 0:s.promise;return(r=f(this,Tn))==null||r.cancel(e),t?t.then(qs).catch(qs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,Iu))}isActive(){return this.observers.some(e=>kr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!fT(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=f(this,Tn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=f(this,Tn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),f(this,zs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(f(this,Tn)&&(f(this,yl)?f(this,Tn).cancel({revert:!0}):f(this,Tn).cancelRetry()),this.scheduleGc()),f(this,zs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_(this,fr,Pi).call(this,{type:"invalidate"})}fetch(e,t){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(f(this,Tn))return f(this,Tn).continueRetry(),f(this,Tn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(x=>x.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,r=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(T(this,yl,!0),s.signal)})},o=()=>{const g=mT(this.options,t),x={client:f(this,xl),queryKey:this.queryKey,meta:this.meta};return r(x),T(this,yl,!1),this.options.persister?this.options.persister(g,x,this):g(x)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:f(this,xl),state:this.state,fetchFn:o};r(a),(d=this.options.behavior)==null||d.onFetch(a,this),T(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&_(this,fr,Pi).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const u=g=>{var x,v,w,b;zv(g)&&g.silent||_(this,fr,Pi).call(this,{type:"error",error:g}),zv(g)||((v=(x=f(this,zs).config).onError)==null||v.call(x,g,this),(b=(w=f(this,zs).config).onSettled)==null||b.call(w,this.state.data,g,this)),this.scheduleGc()};return T(this,Tn,yT({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var x,v,w,b;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(E){u(E);return}(v=(x=f(this,zs).config).onSuccess)==null||v.call(x,g,this),(b=(w=f(this,zs).config).onSettled)==null||b.call(w,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,x)=>{_(this,fr,Pi).call(this,{type:"failed",failureCount:g,error:x})},onPause:()=>{_(this,fr,Pi).call(this,{type:"pause"})},onContinue:()=>{_(this,fr,Pi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),f(this,Tn).start()}},Iu=new WeakMap,Mu=new WeakMap,zs=new WeakMap,xl=new WeakMap,Tn=new WeakMap,Vf=new WeakMap,yl=new WeakMap,fr=new WeakSet,Pi=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...bT(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return zv(r)&&r.revert&&f(this,Mu)?{...f(this,Mu),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),vn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),f(this,zs).notify({query:this,type:"updated",action:e})})},sT);function bT(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gT(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function JD(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Hr,rT,ZD=(rT=class extends om{constructor(e={}){super();I(this,Hr);this.config=e,T(this,Hr,new Map)}build(e,t,s){const r=t.queryKey,o=t.queryHash??RS(r,t);let a=this.get(o);return a||(a=new QD({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){f(this,Hr).has(e.queryHash)||(f(this,Hr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=f(this,Hr).get(e.queryHash);t&&(e.destroy(),t===e&&f(this,Hr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return f(this,Hr).get(e)}getAll(){return[...f(this,Hr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>oj(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>oj(e,s)):t}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hr=new WeakMap,rT),Wr,zn,vl,Gr,$o,iT,eO=(iT=class extends vT{constructor(e){super();I(this,Gr);I(this,Wr);I(this,zn);I(this,vl);this.mutationId=e.mutationId,T(this,zn,e.mutationCache),T(this,Wr,[]),this.state=e.state||tO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){f(this,Wr).includes(e)||(f(this,Wr).push(e),this.clearGcTimeout(),f(this,zn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){T(this,Wr,f(this,Wr).filter(t=>t!==e)),this.scheduleGc(),f(this,zn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){f(this,Wr).length||(this.state.status==="pending"?this.scheduleGc():f(this,zn).remove(this))}continue(){var e;return((e=f(this,vl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,u,d,h,p,g,x,v,w,b,E,A,j,k,P,R,M,D,O;const t=()=>{_(this,Gr,$o).call(this,{type:"continue"})};T(this,vl,yT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(B,z)=>{_(this,Gr,$o).call(this,{type:"failed",failureCount:B,error:z})},onPause:()=>{_(this,Gr,$o).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>f(this,zn).canRun(this)}));const s=this.state.status==="pending",r=!f(this,vl).canStart();try{if(s)t();else{_(this,Gr,$o).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(o=f(this,zn).config).onMutate)==null?void 0:a.call(o,e,this));const z=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,e));z!==this.state.context&&_(this,Gr,$o).call(this,{type:"pending",context:z,variables:e,isPaused:r})}const B=await f(this,vl).start();return await((p=(h=f(this,zn).config).onSuccess)==null?void 0:p.call(h,B,e,this.state.context,this)),await((x=(g=this.options).onSuccess)==null?void 0:x.call(g,B,e,this.state.context)),await((w=(v=f(this,zn).config).onSettled)==null?void 0:w.call(v,B,null,this.state.variables,this.state.context,this)),await((E=(b=this.options).onSettled)==null?void 0:E.call(b,B,null,e,this.state.context)),_(this,Gr,$o).call(this,{type:"success",data:B}),B}catch(B){try{throw await((j=(A=f(this,zn).config).onError)==null?void 0:j.call(A,B,e,this.state.context,this)),await((P=(k=this.options).onError)==null?void 0:P.call(k,B,e,this.state.context)),await((M=(R=f(this,zn).config).onSettled)==null?void 0:M.call(R,void 0,B,this.state.variables,this.state.context,this)),await((O=(D=this.options).onSettled)==null?void 0:O.call(D,void 0,B,e,this.state.context)),B}finally{_(this,Gr,$o).call(this,{type:"error",error:B})}}finally{f(this,zn).runNext(this)}}},Wr=new WeakMap,zn=new WeakMap,vl=new WeakMap,Gr=new WeakSet,$o=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),vn.batch(()=>{f(this,Wr).forEach(s=>{s.onMutationUpdate(e)}),f(this,zn).notify({mutation:this,type:"updated",action:e})})},iT);function tO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ii,pr,zf,oT,nO=(oT=class extends om{constructor(e={}){super();I(this,Ii);I(this,pr);I(this,zf);this.config=e,T(this,Ii,new Set),T(this,pr,new Map),T(this,zf,0)}build(e,t,s){const r=new eO({mutationCache:this,mutationId:++rn(this,zf)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){f(this,Ii).add(e);const t=Rg(e);if(typeof t=="string"){const s=f(this,pr).get(t);s?s.push(e):f(this,pr).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(f(this,Ii).delete(e)){const t=Rg(e);if(typeof t=="string"){const s=f(this,pr).get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&f(this,pr).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Rg(e);if(typeof t=="string"){const s=f(this,pr).get(t),r=s==null?void 0:s.find(o=>o.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const t=Rg(e);if(typeof t=="string"){const r=(s=f(this,pr).get(t))==null?void 0:s.find(o=>o!==e&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vn.batch(()=>{f(this,Ii).forEach(e=>{this.notify({type:"removed",mutation:e})}),f(this,Ii).clear(),f(this,pr).clear()})}getAll(){return Array.from(f(this,Ii))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>aj(t,s))}findAll(e={}){return this.getAll().filter(t=>aj(e,t))}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vn.batch(()=>Promise.all(e.map(t=>t.continue().catch(qs))))}},Ii=new WeakMap,pr=new WeakMap,zf=new WeakMap,oT);function Rg(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Dx(n){return{onFetch:(e,t)=>{var p,g,x,v,w;const s=e.options,r=(x=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:x.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let b=!1;const E=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},A=mT(e.options,e.fetchOptions),j=async(k,P,R)=>{if(b)return Promise.reject();if(P==null&&k.pages.length)return Promise.resolve(k);const M={client:e.client,queryKey:e.queryKey,pageParam:P,direction:R?"backward":"forward",meta:e.options.meta};E(M);const D=await A(M),{maxPages:O}=e.options,B=R?WD:HD;return{pages:B(k.pages,D,O),pageParams:B(k.pageParams,P,O)}};if(r&&o.length){const k=r==="backward",P=k?wT:jb,R={pages:o,pageParams:a},M=P(s,R);u=await j(R,M,k)}else{const k=n??o.length;do{const P=d===0?a[0]??s.initialPageParam:jb(s,u);if(d>0&&P==null)break;u=await j(u,P),d++}while(d<k)}return u};e.options.persister?e.fetchFn=()=>{var b,E;return(E=(b=e.options).persister)==null?void 0:E.call(b,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function jb(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function wT(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}function sO(n,e){return e?jb(n,e)!=null:!1}function rO(n,e){return!e||!n.getPreviousPageParam?!1:wT(n,e)!=null}var Rt,qo,Xo,Du,Ou,Yo,Fu,Bu,aT,iO=(aT=class{constructor(n={}){I(this,Rt);I(this,qo);I(this,Xo);I(this,Du);I(this,Ou);I(this,Yo);I(this,Fu);I(this,Bu);T(this,Rt,n.queryCache||new ZD),T(this,qo,n.mutationCache||new nO),T(this,Xo,n.defaultOptions||{}),T(this,Du,new Map),T(this,Ou,new Map),T(this,Yo,0)}mount(){rn(this,Yo)._++,f(this,Yo)===1&&(T(this,Fu,IS.subscribe(async n=>{n&&(await this.resumePausedMutations(),f(this,Rt).onFocus())})),T(this,Bu,Mx.subscribe(async n=>{n&&(await this.resumePausedMutations(),f(this,Rt).onOnline())})))}unmount(){var n,e;rn(this,Yo)._--,f(this,Yo)===0&&((n=f(this,Fu))==null||n.call(this),T(this,Fu,void 0),(e=f(this,Bu))==null||e.call(this),T(this,Bu,void 0))}isFetching(n){return f(this,Rt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return f(this,qo).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=f(this,Rt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=f(this,Rt).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Au(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return f(this,Rt).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=f(this,Rt).get(s.queryHash),o=r==null?void 0:r.state.data,a=zD(e,o);if(a!==void 0)return f(this,Rt).build(this,s).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return vn.batch(()=>f(this,Rt).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=f(this,Rt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=f(this,Rt);vn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=f(this,Rt);return vn.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=vn.batch(()=>f(this,Rt).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(qs).catch(qs)}invalidateQueries(n,e={}){return vn.batch(()=>(f(this,Rt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=vn.batch(()=>f(this,Rt).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,t);return t.throwOnError||(o=o.catch(qs)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(qs)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=f(this,Rt).build(this,e);return t.isStaleByTime(Au(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(qs).catch(qs)}fetchInfiniteQuery(n){return n.behavior=Dx(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(qs).catch(qs)}ensureInfiniteQueryData(n){return n.behavior=Dx(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Mx.isOnline()?f(this,qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return f(this,Rt)}getMutationCache(){return f(this,qo)}getDefaultOptions(){return f(this,Xo)}setDefaultOptions(n){T(this,Xo,n)}setQueryDefaults(n,e){f(this,Du).set(kf(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...f(this,Du).values()],t={};return e.forEach(s=>{Tf(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){f(this,Ou).set(kf(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...f(this,Ou).values()],t={};return e.forEach(s=>{Tf(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...f(this,Xo).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=RS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===LS&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...f(this,Xo).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){f(this,Rt).clear(),f(this,qo).clear()}},Rt=new WeakMap,qo=new WeakMap,Xo=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Yo=new WeakMap,Fu=new WeakMap,Bu=new WeakMap,aT),ss,Xe,Uf,Un,bl,$u,Qo,Jo,Hf,Vu,zu,wl,Sl,Zo,Uu,tt,Zh,Nb,kb,Tb,Pb,_b,Rb,Lb,ST,lT,oO=(lT=class extends om{constructor(e,t){super();I(this,tt);I(this,ss);I(this,Xe);I(this,Uf);I(this,Un);I(this,bl);I(this,$u);I(this,Qo);I(this,Jo);I(this,Hf);I(this,Vu);I(this,zu);I(this,wl);I(this,Sl);I(this,Zo);I(this,Uu,new Set);this.options=t,T(this,ss,e),T(this,Jo,null),T(this,Qo,Eb()),this.options.experimental_prefetchInRender||f(this,Qo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,Xe).addObserver(this),uj(f(this,Xe),this.options)?_(this,tt,Zh).call(this):this.updateResult(),_(this,tt,Pb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ib(f(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ib(f(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,tt,_b).call(this),_(this,tt,Rb).call(this),f(this,Xe).removeObserver(this)}setOptions(e){const t=this.options,s=f(this,Xe);if(this.options=f(this,ss).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kr(this.options.enabled,f(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,tt,Lb).call(this),f(this,Xe).setOptions(this.options),t._defaulted&&!Sb(this.options,t)&&f(this,ss).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,Xe),observer:this});const r=this.hasListeners();r&&dj(f(this,Xe),s,this.options,t)&&_(this,tt,Zh).call(this),this.updateResult(),r&&(f(this,Xe)!==s||kr(this.options.enabled,f(this,Xe))!==kr(t.enabled,f(this,Xe))||Au(this.options.staleTime,f(this,Xe))!==Au(t.staleTime,f(this,Xe)))&&_(this,tt,Nb).call(this);const o=_(this,tt,kb).call(this);r&&(f(this,Xe)!==s||kr(this.options.enabled,f(this,Xe))!==kr(t.enabled,f(this,Xe))||o!==f(this,Zo))&&_(this,tt,Tb).call(this,o)}getOptimisticResult(e){const t=f(this,ss).getQueryCache().build(f(this,ss),e),s=this.createResult(t,e);return lO(this,s)&&(T(this,Un,s),T(this,$u,this.options),T(this,bl,f(this,Xe).state)),s}getCurrentResult(){return f(this,Un)}trackResult(e,t){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t==null||t(r),e[r])})}),s}trackProp(e){f(this,Uu).add(e)}getCurrentQuery(){return f(this,Xe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=f(this,ss).defaultQueryOptions(e),s=f(this,ss).getQueryCache().build(f(this,ss),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return _(this,tt,Zh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,Un)))}createResult(e,t){var B;const s=f(this,Xe),r=this.options,o=f(this,Un),a=f(this,bl),u=f(this,$u),h=e!==s?e.state:f(this,Uf),{state:p}=e;let g={...p},x=!1,v;if(t._optimisticResults){const z=this.hasListeners(),K=!z&&uj(e,t),X=z&&dj(e,s,t,r);(K||X)&&(g={...g,...bT(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:b,status:E}=g;v=g.data;let A=!1;if(t.placeholderData!==void 0&&v===void 0&&E==="pending"){let z;o!=null&&o.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData)?(z=o.data,A=!0):z=typeof t.placeholderData=="function"?t.placeholderData((B=f(this,zu))==null?void 0:B.state.data,f(this,zu)):t.placeholderData,z!==void 0&&(E="success",v=Cb(o==null?void 0:o.data,z,t),x=!0)}if(t.select&&v!==void 0&&!A)if(o&&v===(a==null?void 0:a.data)&&t.select===f(this,Hf))v=f(this,Vu);else try{T(this,Hf,t.select),v=t.select(v),v=Cb(o==null?void 0:o.data,v,t),T(this,Vu,v),T(this,Jo,null)}catch(z){T(this,Jo,z)}f(this,Jo)&&(w=f(this,Jo),v=f(this,Vu),b=Date.now(),E="error");const j=g.fetchStatus==="fetching",k=E==="pending",P=E==="error",R=k&&j,M=v!==void 0,O={status:E,fetchStatus:g.fetchStatus,isPending:k,isSuccess:E==="success",isError:P,isInitialLoading:R,isLoading:R,data:v,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:j,isRefetching:j&&!k,isLoadingError:P&&!M,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:P&&M,isStale:MS(e,t),refetch:this.refetch,promise:f(this,Qo)};if(this.options.experimental_prefetchInRender){const z=ee=>{O.status==="error"?ee.reject(O.error):O.data!==void 0&&ee.resolve(O.data)},K=()=>{const ee=T(this,Qo,O.promise=Eb());z(ee)},X=f(this,Qo);switch(X.status){case"pending":e.queryHash===s.queryHash&&z(X);break;case"fulfilled":(O.status==="error"||O.data!==X.value)&&K();break;case"rejected":(O.status!=="error"||O.error!==X.reason)&&K();break}}return O}updateResult(){const e=f(this,Un),t=this.createResult(f(this,Xe),this.options);if(T(this,bl,f(this,Xe).state),T(this,$u,this.options),f(this,bl).data!==void 0&&T(this,zu,f(this,Xe)),Sb(t,e))return;T(this,Un,t);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!f(this,Uu).size)return!0;const a=new Set(o??f(this,Uu));return this.options.throwOnError&&a.add("error"),Object.keys(f(this,Un)).some(u=>{const d=u;return f(this,Un)[d]!==e[d]&&a.has(d)})};_(this,tt,ST).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,tt,Pb).call(this)}},ss=new WeakMap,Xe=new WeakMap,Uf=new WeakMap,Un=new WeakMap,bl=new WeakMap,$u=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Hf=new WeakMap,Vu=new WeakMap,zu=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Zo=new WeakMap,Uu=new WeakMap,tt=new WeakSet,Zh=function(e){_(this,tt,Lb).call(this);let t=f(this,Xe).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(qs)),t},Nb=function(){_(this,tt,_b).call(this);const e=Au(this.options.staleTime,f(this,Xe));if(bc||f(this,Un).isStale||!wb(e))return;const s=fT(f(this,Un).dataUpdatedAt,e)+1;T(this,wl,setTimeout(()=>{f(this,Un).isStale||this.updateResult()},s))},kb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,Xe)):this.options.refetchInterval)??!1},Tb=function(e){_(this,tt,Rb).call(this),T(this,Zo,e),!(bc||kr(this.options.enabled,f(this,Xe))===!1||!wb(f(this,Zo))||f(this,Zo)===0)&&T(this,Sl,setInterval(()=>{(this.options.refetchIntervalInBackground||IS.isFocused())&&_(this,tt,Zh).call(this)},f(this,Zo)))},Pb=function(){_(this,tt,Nb).call(this),_(this,tt,Tb).call(this,_(this,tt,kb).call(this))},_b=function(){f(this,wl)&&(clearTimeout(f(this,wl)),T(this,wl,void 0))},Rb=function(){f(this,Sl)&&(clearInterval(f(this,Sl)),T(this,Sl,void 0))},Lb=function(){const e=f(this,ss).getQueryCache().build(f(this,ss),this.options);if(e===f(this,Xe))return;const t=f(this,Xe);T(this,Xe,e),T(this,Uf,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},ST=function(e){vn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(f(this,Un))}),f(this,ss).getQueryCache().notify({query:f(this,Xe),type:"observerResultsUpdated"})})},lT);function aO(n,e){return kr(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function uj(n,e){return aO(n,e)||n.state.data!==void 0&&Ib(n,e,e.refetchOnMount)}function Ib(n,e,t){if(kr(e.enabled,n)!==!1){const s=typeof t=="function"?t(n):t;return s==="always"||s!==!1&&MS(n,e)}return!1}function dj(n,e,t,s){return(n!==e||kr(s.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&MS(n,t)}function MS(n,e){return kr(e.enabled,n)!==!1&&n.isStaleByTime(Au(e.staleTime,n))}function lO(n,e){return!Sb(n.getCurrentResult(),e)}var cO=class extends oO{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:Dx()})}getOptimisticResult(n){return n.behavior=Dx(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var w,b;const{state:t}=n,s=super.createResult(n,e),{isFetching:r,isRefetching:o,isError:a,isRefetchError:u}=s,d=(b=(w=t.fetchMeta)==null?void 0:w.fetchMore)==null?void 0:b.direction,h=a&&d==="forward",p=r&&d==="forward",g=a&&d==="backward",x=r&&d==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:sO(e,t.data),hasPreviousPage:rO(e,t.data),isFetchNextPageError:h,isFetchingNextPage:p,isFetchPreviousPageError:g,isFetchingPreviousPage:x,isRefetchError:u&&!h&&!g,isRefetching:o&&!p&&!x}}},AT=C.createContext(void 0),uO=n=>{const e=C.useContext(AT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},dO=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),c.jsx(AT.Provider,{value:n,children:e})),CT=C.createContext(!1),hO=()=>C.useContext(CT);CT.Provider;function fO(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var pO=C.createContext(fO()),mO=()=>C.useContext(pO);function gO(n,e){return typeof n=="function"?n(...e):!!n}function hj(){}var xO=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},yO=n=>{C.useEffect(()=>{n.clearReset()},[n])},vO=({result:n,errorResetBoundary:e,throwOnError:t,query:s,suspense:r})=>n.isError&&!e.isReset()&&!n.isFetching&&s&&(r&&n.data===void 0||gO(t,[n.error,s])),bO=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},wO=(n,e)=>n.isLoading&&n.isFetching&&!e,SO=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,fj=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function AO(n,e,t){var g,x,v,w,b;const s=uO(),r=hO(),o=mO(),a=s.defaultQueryOptions(n);(x=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||x.call(g,a),a._optimisticResults=r?"isRestoring":"optimistic",bO(a),xO(a,o),yO(o);const u=!s.getQueryCache().get(a.queryHash),[d]=C.useState(()=>new e(s,a)),h=d.getOptimisticResult(a),p=!r&&n.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(E=>{const A=p?d.subscribe(vn.batchCalls(E)):hj;return d.updateResult(),A},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(a)},[a,d]),SO(a,h))throw fj(a,d,o);if(vO({result:h,errorResetBoundary:o,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;if((w=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,a,h),a.experimental_prefetchInRender&&!bc&&wO(h,r)){const E=u?fj(a,d,o):(b=s.getQueryCache().get(a.queryHash))==null?void 0:b.promise;E==null||E.catch(hj).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?h:d.trackResult(h)}function ET(n,e){return AO(n,cO)}var Wh={},pj;function CO(){if(pj)return Wh;pj=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.parse=a,Wh.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function a(x,v){const w=new o,b=x.length;if(b<2)return w;const E=(v==null?void 0:v.decode)||p;let A=0;do{const j=x.indexOf("=",A);if(j===-1)break;const k=x.indexOf(";",A),P=k===-1?b:k;if(j>P){A=x.lastIndexOf(";",j-1)+1;continue}const R=u(x,A,j),M=d(x,j,R),D=x.slice(R,M);if(w[D]===void 0){let O=u(x,j+1,P),B=d(x,P,O);const z=E(x.slice(O,B));w[D]=z}A=P+1}while(A<b);return w}function u(x,v,w){do{const b=x.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<w);return w}function d(x,v,w){for(;v>w;){const b=x.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return w}function h(x,v,w){const b=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const E=b(v);if(!e.test(E))throw new TypeError(`argument val is invalid: ${v}`);let A=x+"="+E;if(!w)return A;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);A+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);A+="; Domain="+w.domain}if(w.path){if(!s.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);A+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);A+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(A+="; HttpOnly"),w.secure&&(A+="; Secure"),w.partitioned&&(A+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return A}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function g(x){return r.call(x)==="[object Date]"}return Wh}CO();var mj="popstate";function EO(n={}){function e(s,r){let{pathname:o,search:a,hash:u}=s.location;return Mb("",{pathname:o,search:a,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:Pf(r)}return NO(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substring(2,10)}function gj(n,e){return{usr:n.state,key:n.key,idx:e}}function Mb(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Kd(e):e,state:t,key:e&&e.key||s||jO()}}function Pf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Kd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function NO(n,e,t,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,a=r.history,u="POP",d=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){u="POP";let E=p(),A=E==null?null:E-h;h=E,d&&d({action:u,location:b.location,delta:A})}function x(E,A){u="PUSH";let j=Mb(b.location,E,A);h=p()+1;let k=gj(j,h),P=b.createHref(j);try{a.pushState(k,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(P)}o&&d&&d({action:u,location:b.location,delta:1})}function v(E,A){u="REPLACE";let j=Mb(b.location,E,A);h=p();let k=gj(j,h),P=b.createHref(j);a.replaceState(k,"",P),o&&d&&d({action:u,location:b.location,delta:0})}function w(E){return kO(E)}let b={get action(){return u},get location(){return n(r,a)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(mj,g),d=E,()=>{r.removeEventListener(mj,g),d=null}},createHref(E){return e(r,E)},createURL:w,encodeLocation(E){let A=w(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:v,go(E){return a.go(E)}};return b}function kO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Pf(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function jT(n,e,t="/"){return TO(n,e,t,!1)}function TO(n,e,t,s){let r=typeof e=="string"?Kd(e):e,o=fo(r.pathname||"/",t);if(o==null)return null;let a=NT(n);PO(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let h=VO(o);u=BO(a[d],h,s)}return u}function NT(n,e=[],t=[],s=""){let r=(o,a,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};d.relativePath.startsWith("/")&&(At(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let h=oo([s,d.relativePath]),p=t.concat(d);o.children&&o.children.length>0&&(At(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),NT(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:OO(h,o.index),routesMeta:p})};return n.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,a);else for(let d of kT(o.path))r(o,a,d)}),e}function kT(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let a=kT(s.join("/")),u=[];return u.push(...a.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...a),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function PO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FO(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var _O=/^:[\w-]+$/,RO=3,LO=2,IO=1,MO=10,DO=-2,xj=n=>n==="*";function OO(n,e){let t=n.split("/"),s=t.length;return t.some(xj)&&(s+=DO),e&&(s+=LO),t.filter(r=>!xj(r)).reduce((r,o)=>r+(_O.test(o)?RO:o===""?IO:MO),s)}function FO(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function BO(n,e,t=!1){let{routesMeta:s}=n,r={},o="/",a=[];for(let u=0;u<s.length;++u){let d=s[u],h=u===s.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=Ox({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),x=d.route;if(!g&&h&&t&&!s[s.length-1].route.index&&(g=Ox({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:oo([o,g.pathname]),pathnameBase:WO(oo([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=oo([o,g.pathnameBase]))}return a}function Ox(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=$O(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let w=u[x]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[x];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:n}}function $O(n,e=!1,t=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function VO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function zO(n,e="/"){let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?Kd(n):n;return{pathname:t?t.startsWith("/")?t:UO(t,e):e,search:GO(s),hash:KO(r)}}function UO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Uv(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function DS(n){let e=HO(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function OS(n,e,t,s=!1){let r;typeof n=="string"?r=Kd(n):(r={...n},At(!r.pathname||!r.pathname.includes("?"),Uv("?","pathname","search",r)),At(!r.pathname||!r.pathname.includes("#"),Uv("#","pathname","hash",r)),At(!r.search||!r.search.includes("#"),Uv("#","search","hash",r)));let o=n===""||r.pathname==="",a=o?"/":r.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!s&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),g-=1;r.pathname=x.join("/")}u=g>=0?e[g]:"/"}let d=zO(r,u),h=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var oo=n=>n.join("/").replace(/\/\/+/g,"/"),WO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TT=["POST","PUT","PATCH","DELETE"];new Set(TT);var XO=["GET",...TT];new Set(XO);var qd=C.createContext(null);qd.displayName="DataRouter";var wy=C.createContext(null);wy.displayName="DataRouterState";var PT=C.createContext({isTransitioning:!1});PT.displayName="ViewTransition";var YO=C.createContext(new Map);YO.displayName="Fetchers";var QO=C.createContext(null);QO.displayName="Await";var Lr=C.createContext(null);Lr.displayName="Navigation";var am=C.createContext(null);am.displayName="Location";var er=C.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var FS=C.createContext(null);FS.displayName="RouteError";function JO(n,{relative:e}={}){At(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=C.useContext(Lr),{hash:r,pathname:o,search:a}=lm(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:oo([t,o])),s.createHref({pathname:u,search:a,hash:r})}function Xd(){return C.useContext(am)!=null}function dt(){return At(Xd(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(am).location}var _T="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RT(n){C.useContext(Lr).static||C.useLayoutEffect(n)}function je(){let{isDataRoute:n}=C.useContext(er);return n?fF():ZO()}function ZO(){At(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(qd),{basename:e,navigator:t}=C.useContext(Lr),{matches:s}=C.useContext(er),{pathname:r}=dt(),o=JSON.stringify(DS(s)),a=C.useRef(!1);return RT(()=>{a.current=!0}),C.useCallback((d,h={})=>{if(Pr(a.current,_T),!a.current)return;if(typeof d=="number"){t.go(d);return}let p=OS(d,JSON.parse(o),r,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:oo([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,o,r,n])}var eF=C.createContext(null);function tF(n){let e=C.useContext(er).outlet;return e&&C.createElement(eF.Provider,{value:n},e)}function ds(){let{matches:n}=C.useContext(er),e=n[n.length-1];return e?e.params:{}}function lm(n,{relative:e}={}){let{matches:t}=C.useContext(er),{pathname:s}=dt(),r=JSON.stringify(DS(t));return C.useMemo(()=>OS(n,JSON.parse(r),s,e==="path"),[n,r,s,e])}function nF(n,e){return LT(n,e)}function LT(n,e,t,s){var A;At(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=C.useContext(Lr),{matches:o}=C.useContext(er),a=o[o.length-1],u=a?a.params:{},d=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let j=p&&p.path||"";IT(d,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let g=dt(),x;if(e){let j=typeof e=="string"?Kd(e):e;At(h==="/"||((A=j.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=g;let v=x.pathname||"/",w=v;if(h!=="/"){let j=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=jT(n,{pathname:w});Pr(p||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=aF(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:oo([h,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:oo([h,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,s);return e&&E?C.createElement(am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function sF(){let n=hF(),e=qO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:r},t):null,a)}var rF=C.createElement(sF,null),iF=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(er.Provider,{value:this.props.routeContext},C.createElement(FS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oF({routeContext:n,match:e,children:t}){let s=C.useContext(qd);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(er.Provider,{value:n},t)}function aF(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let d=r.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);At(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let a=!1,u=-1;if(t)for(let d=0;d<r.length;d++){let h=r[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=t,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){a=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((d,h,p)=>{let g,x=!1,v=null,w=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||rF,a&&(u<0&&p===0?(IT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):u===p&&(x=!0,w=h.route.hydrateFallbackElement||null)));let b=e.concat(r.slice(0,p+1)),E=()=>{let A;return g?A=v:x?A=w:h.route.Component?A=C.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,C.createElement(oF,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?C.createElement(iF,{location:t.location,revalidation:t.revalidation,component:v,error:g,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}function BS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lF(n){let e=C.useContext(qd);return At(e,BS(n)),e}function cF(n){let e=C.useContext(wy);return At(e,BS(n)),e}function uF(n){let e=C.useContext(er);return At(e,BS(n)),e}function $S(n){let e=uF(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dF(){return $S("useRouteId")}function hF(){var s;let n=C.useContext(FS),e=cF("useRouteError"),t=$S("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function fF(){let{router:n}=lF("useNavigate"),e=$S("useNavigate"),t=C.useRef(!1);return RT(()=>{t.current=!0}),C.useCallback(async(r,o={})=>{Pr(t.current,_T),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var yj={};function IT(n,e,t){!e&&!yj[n]&&(yj[n]=!0,Pr(!1,t))}C.memo(pF);function pF({routes:n,future:e,state:t}){return LT(n,void 0,t,e)}function MT({to:n,replace:e,state:t,relative:s}){At(Xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=C.useContext(Lr);Pr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=C.useContext(er),{pathname:a}=dt(),u=je(),d=OS(n,DS(o),a,s==="path"),h=JSON.stringify(d);return C.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:s})},[u,h,s,e,t]),null}function mF(n){return tF(n.context)}function Ae(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gF({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:r,static:o=!1}){At(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:a,navigator:r,static:o,future:{}}),[a,r,o]);typeof t=="string"&&(t=Kd(t));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:x="default"}=t,v=C.useMemo(()=>{let w=fo(d,a);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:x},navigationType:s}},[a,d,h,p,g,x,s]);return Pr(v!=null,`<Router basename="${a}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:C.createElement(Lr.Provider,{value:u},C.createElement(am.Provider,{children:e,value:v}))}function xF({children:n,location:e}){return nF(Db(n),e)}function Db(n,e=[]){let t=[];return C.Children.forEach(n,(s,r)=>{if(!C.isValidElement(s))return;let o=[...e,r];if(s.type===C.Fragment){t.push.apply(t,Db(s.props.children,o));return}At(s.type===Ae,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Db(s.props.children,o)),t.push(a)}),t}var Yg="get",Qg="application/x-www-form-urlencoded";function Sy(n){return n!=null&&typeof n.tagName=="string"}function yF(n){return Sy(n)&&n.tagName.toLowerCase()==="button"}function vF(n){return Sy(n)&&n.tagName.toLowerCase()==="form"}function bF(n){return Sy(n)&&n.tagName.toLowerCase()==="input"}function wF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SF(n,e){return n.button===0&&(!e||e==="_self")&&!wF(n)}var Lg=null;function AF(){if(Lg===null)try{new FormData(document.createElement("form"),0),Lg=!1}catch{Lg=!0}return Lg}var CF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hv(n){return n!=null&&!CF.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qg}"`),null):n}function EF(n,e){let t,s,r,o,a;if(vF(n)){let u=n.getAttribute("action");s=u?fo(u,e):null,t=n.getAttribute("method")||Yg,r=Hv(n.getAttribute("enctype"))||Qg,o=new FormData(n)}else if(yF(n)||bF(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(s=d?fo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Yg,r=Hv(n.getAttribute("formenctype"))||Hv(u.getAttribute("enctype"))||Qg,o=new FormData(u,n),!AF()){let{name:h,type:p,value:g}=n;if(p==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,g)}}else{if(Sy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yg,s=null,r=Qg,a=n}return o&&r==="text/plain"&&(a=o,o=void 0),{action:s,method:t.toLowerCase(),encType:r,formData:o,body:a}}function VS(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function jF(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NF(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kF(n,e,t){let s=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let a=await jF(o,t);return a.links?a.links():[]}return[]}));return RF(s.flat(1).filter(NF).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function vj(n,e,t,s,r,o){let a=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var p;return t[h].pathname!==d.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>a(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{var g;let p=s.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function TF(n,e,{includeHydrateFallback:t}={}){return PF(n.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function PF(n){return[...new Set(n)]}function _F(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function RF(n,e){let t=new Set;return new Set(e),n.reduce((s,r)=>{let o=JSON.stringify(_F(r));return t.has(o)||(t.add(o),s.push({key:o,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LF=new Set([100,101,204,205]);function IF(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&fo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DT(){let n=C.useContext(qd);return VS(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MF(){let n=C.useContext(wy);return VS(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zS=C.createContext(void 0);zS.displayName="FrameworkContext";function OT(){let n=C.useContext(zS);return VS(n,"You must render this element inside a <HydratedRouter> element"),n}function DF(n,e){let t=C.useContext(zS),[s,r]=C.useState(!1),[o,a]=C.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=C.useRef(null);C.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let b=A=>{A.forEach(j=>{a(j.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[n]),C.useEffect(()=>{if(s){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[s]);let v=()=>{r(!0)},w=()=>{r(!1),a(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Gh(u,v),onBlur:Gh(d,w),onMouseEnter:Gh(h,v),onMouseLeave:Gh(p,w),onTouchStart:Gh(g,v)}]:[!1,x,{}]}function Gh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function OF({page:n,...e}){let{router:t}=DT(),s=C.useMemo(()=>jT(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?C.createElement(BF,{page:n,matches:s,...e}):null}function FF(n){let{manifest:e,routeModules:t}=OT(),[s,r]=C.useState([]);return C.useEffect(()=>{let o=!1;return kF(n,e,t).then(a=>{o||r(a)}),()=>{o=!0}},[n,e,t]),s}function BF({page:n,matches:e,...t}){let s=dt(),{manifest:r,routeModules:o}=OT(),{basename:a}=DT(),{loaderData:u,matches:d}=MF(),h=C.useMemo(()=>vj(n,e,d,r,s,"data"),[n,e,d,r,s]),p=C.useMemo(()=>vj(n,e,d,r,s,"assets"),[n,e,d,r,s]),g=C.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let w=new Set,b=!1;if(e.forEach(A=>{var k;let j=r.routes[A.route.id];!j||!j.hasLoader||(!h.some(P=>P.route.id===A.route.id)&&A.route.id in u&&((k=o[A.route.id])!=null&&k.shouldRevalidate)||j.hasClientLoader?b=!0:w.add(A.route.id))}),w.size===0)return[];let E=IF(n,a);return b&&w.size>0&&E.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[a,u,s,r,h,e,n,o]),x=C.useMemo(()=>TF(p,r),[p,r]),v=FF(p);return C.createElement(C.Fragment,null,g.map(w=>C.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),x.map(w=>C.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),v.map(({key:w,link:b})=>C.createElement("link",{key:w,...b})))}function $F(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FT&&(window.__reactRouterVersion="7.6.1")}catch{}function VF({basename:n,children:e,window:t}){let s=C.useRef();s.current==null&&(s.current=EO({window:t,v5Compat:!0}));let r=s.current,[o,a]=C.useState({action:r.action,location:r.location}),u=C.useCallback(d=>{C.startTransition(()=>a(d))},[a]);return C.useLayoutEffect(()=>r.listen(u),[r,u]),C.createElement(gF,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$T=C.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:r,reloadDocument:o,replace:a,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...x},v){let{basename:w}=C.useContext(Lr),b=typeof h=="string"&&BT.test(h),E,A=!1;if(typeof h=="string"&&b&&(E=h,FT))try{let B=new URL(window.location.href),z=h.startsWith("//")?new URL(B.protocol+h):new URL(h),K=fo(z.pathname,w);z.origin===B.origin&&K!=null?h=K+z.search+z.hash:A=!0}catch{Pr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=JO(h,{relative:r}),[k,P,R]=DF(s,x),M=WF(h,{replace:a,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:g});function D(B){e&&e(B),B.defaultPrevented||M(B)}let O=C.createElement("a",{...x,...R,href:E||j,onClick:A||o?e:D,ref:$F(v,P),target:d,"data-discover":!b&&t==="render"?"true":void 0});return k&&!b?C.createElement(C.Fragment,null,O,C.createElement(OF,{page:j})):O});$T.displayName="Link";var zF=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:r=!1,style:o,to:a,viewTransition:u,children:d,...h},p){let g=lm(a,{relative:h.relative}),x=dt(),v=C.useContext(wy),{navigator:w,basename:b}=C.useContext(Lr),E=v!=null&&YF(g)&&u===!0,A=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,j=x.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(j=j.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&b&&(k=fo(k,b)||k);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=j===A||!r&&j.startsWith(A)&&j.charAt(P)==="/",M=k!=null&&(k===A||!r&&k.startsWith(A)&&k.charAt(A.length)==="/"),D={isActive:R,isPending:M,isTransitioning:E},O=R?e:void 0,B;typeof s=="function"?B=s(D):B=[s,R?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(D):o;return C.createElement($T,{...h,"aria-current":O,className:B,ref:p,style:z,to:a,viewTransition:u},typeof d=="function"?d(D):d)});zF.displayName="NavLink";var UF=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:r,state:o,method:a=Yg,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...x},v)=>{let w=qF(),b=XF(u,{relative:h}),E=a.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&BT.test(u),j=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let P=k.nativeEvent.submitter,R=(P==null?void 0:P.getAttribute("formmethod"))||a;w(P||k.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:r,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return C.createElement("form",{ref:v,method:E,action:b,onSubmit:s?d:j,...x,"data-discover":!A&&n==="render"?"true":void 0})});UF.displayName="Form";function HF(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(n){let e=C.useContext(qd);return At(e,HF(n)),e}function WF(n,{target:e,replace:t,state:s,preventScrollReset:r,relative:o,viewTransition:a}={}){let u=je(),d=dt(),h=lm(n,{relative:o});return C.useCallback(p=>{if(SF(p,e)){p.preventDefault();let g=t!==void 0?t:Pf(d)===Pf(h);u(n,{replace:g,state:s,preventScrollReset:r,relative:o,viewTransition:a})}},[d,u,h,t,s,e,n,r,o,a])}var GF=0,KF=()=>`__${String(++GF)}__`;function qF(){let{router:n}=VT("useSubmit"),{basename:e}=C.useContext(Lr),t=dF();return C.useCallback(async(s,r={})=>{let{action:o,method:a,encType:u,formData:d,body:h}=EF(s,e);if(r.navigate===!1){let p=r.fetcherKey||KF();await n.fetch(p,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||a,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||a,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function XF(n,{relative:e}={}){let{basename:t}=C.useContext(Lr),s=C.useContext(er);At(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...lm(n||".",{relative:e})},a=dt();if(n==null){o.search=a.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:oo([t,o.pathname])),Pf(o)}function YF(n,e={}){let t=C.useContext(PT);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VT("useViewTransitionState"),r=lm(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=fo(t.currentLocation.pathname,s)||t.currentLocation.pathname,a=fo(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ox(r.pathname,a)!=null||Ox(r.pathname,o)!=null}[...LF];var Yd=hT();const QF=by(Yd);function JF(){const[n,e]=C.useState(!1),[t,s]=C.useState(!1);return C.useEffect(()=>{const r=setTimeout(()=>{e(!0)},300),o=setTimeout(()=>{s(!0)},1e3);return()=>{clearTimeout(r),clearTimeout(o)}},[]),c.jsx("div",{className:"h-full flex flex-col",children:c.jsxs("div",{className:"h-full flex flex-col relative bg-white",children:[c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center space-y-4",children:c.jsx("div",{className:`transform transition-all duration-1000 ease-out ${n?"opacity-100 scale-100":"opacity-0 scale-90"}`,children:c.jsx("img",{src:"/crepe-newlogo2.png",alt:"Crepe 메인 로고",className:"w-65 h-60"})})}),c.jsxs("div",{className:`absolute bottom-10 left-0 right-0 flex justify-center text-lg text-slate-700 transition-all duration-1000 ease-in-out ${t?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[c.jsx("span",{children:"편리한 블록체인 토큰결제,"}),c.jsx("span",{className:"text-[#1C355E] font-semibold ml-1",children:"Crepe"})]})]})})}/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),bj=n=>{const e=e3(n);return e.charAt(0).toUpperCase()+e.slice(1)},zT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),t3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:a,...u},d)=>C.createElement("svg",{ref:d,...n3,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:zT("lucide",r),...!o&&!t3(u)&&{"aria-hidden":"true"},...u},[...a.map(([h,p])=>C.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(n,e)=>{const t=C.forwardRef(({className:s,...r},o)=>C.createElement(s3,{ref:o,iconNode:e,className:zT(`lucide-${ZF(bj(n))}`,`lucide-${n}`,s),...r}));return t.displayName=bj(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],i3=ht("arrow-up-down",r3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],UT=ht("camera",o3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],l3=ht("chart-no-axes-column",a3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qd=ht("check",c3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],US=ht("chevron-down",u3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ay=ht("chevron-right",d3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HS=ht("chevron-up",h3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HT=ht("circle-alert",f3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m3=ht("circle-check-big",p3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],wj=ht("circle-dollar-sign",g3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],y3=ht("circle-help",x3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],WT=ht("clock",v3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],GT=ht("copy",b3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],S3=ht("credit-card",w3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],KT=ht("heart",A3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],E3=ht("house",C3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],N3=ht("info",j3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],T3=ht("log-out",k3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],_3=ht("qr-code",P3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qT=ht("refresh-cw",R3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XT=ht("settings",L3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],WS=ht("shield",I3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],GS=ht("shopping-bag",M3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],YT=ht("shopping-cart",D3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],F3=ht("user",O3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],$3=ht("wallet",B3);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],z3=ht("x",V3),Fx={blue:"#0C2B5F"};function U3({progress:n,isStore:e=!1,className:t=""}){const s=e?6:5,[r,o]=C.useState(0),a=Math.min(100,Math.max(0,n/(s-1)*100)),u=n>1?Math.min(100,Math.max(0,(n-1)/(s-1)*100)):0;C.useEffect(()=>{o(u);const h=setTimeout(()=>{o(a)},100);return()=>clearTimeout(h)},[n,u,a]);const d=()=>`
      @keyframes shimmer {
        0% {
          background-position: -200px 0;
        }
        100% {
          background-position: calc(200px + 100%) 0;
        }
      }
    `;return c.jsx("div",{className:`w-full py-4 px-6 mt-4 ${t}`,children:c.jsxs("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden relative",children:[c.jsx("div",{className:"h-full absolute transition-all duration-1000 ease-out",style:{width:`${r}%`,backgroundColor:Fx.blue}}),r>0&&c.jsx("div",{className:"absolute h-full opacity-30",style:{width:`${r}%`,backgroundColor:Fx.blue,backgroundImage:`
                linear-gradient(
                  90deg, 
                  transparent, 
                  rgba(255, 255, 255, 0.5), 
                  transparent
                )
              `,backgroundSize:"200px 100%",animation:"shimmer 2s infinite linear"}}),c.jsx("style",{dangerouslySetInnerHTML:{__html:d()}})]})})}function Me({title:n,progress:e,isStore:t=!1,onBackClick:s,disableBack:r}){const o=je(),a=()=>{s?s():o(-1)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{backgroundColor:Fx.blue},className:"text-white",children:c.jsxs("div",{className:"h-14 flex items-center px-6",children:[!r&&c.jsx("button",{className:"mr-4",onClick:a,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("h1",{className:"text-lg font-medium flex-1 text-center pr-8 text-white",children:n})]})}),e!==void 0&&c.jsx(U3,{progress:e,isStore:t})]})}function H3({username:n,onLogout:e,hasOtpEnabled:t=!1}){return c.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-black text-xl font-bold",children:n.charAt(0).toUpperCase()})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n}),t&&c.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[c.jsx(WS,{size:12,className:"text-green-600"}),c.jsx("span",{className:"text-xs font-medium text-green-600",children:"2차인증"})]})]}),c.jsx("p",{className:"text-gray-500 text-sm",children:"프로필 관리"})]})]}),c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"로그아웃",children:[c.jsx(T3,{size:18}),c.jsx("span",{className:"text-sm font-medium",children:"로그아웃"})]})]})})}function W3({menuItems:n}){return c.jsx("div",{className:"bg-white rounded-xl shadow-sm",children:n.map((e,t)=>c.jsxs("button",{onClick:e.onClick,className:`w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors ${t===0?"rounded-t-xl":""} ${t===n.length-1?"rounded-b-xl":"border-b border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e.icon&&c.jsx("div",{className:"flex-shrink-0",children:e.icon}),c.jsx("span",{className:"text-gray-900 font-medium text-left",children:e.label}),e.badge&&c.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${e.badge==="활성화됨"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:e.badge})]}),c.jsx(Ay,{size:16,className:"text-gray-400"})]},t))})}const G3=({icon:n,label:e,isActive:t,onClick:s})=>c.jsxs("button",{onClick:s,className:`flex flex-col items-center ${t?"text-blue-900":"text-gray-500"}`,children:[n,c.jsx("span",{className:"text-xs mt-1 text-white",children:e})]});function K3(n){try{const e=n.split(".")[1];if(!e)return null;const t=e.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(t).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(s)}catch(e){return console.error("JWT 파싱 중 오류 발생:",e),null}}const ot=()=>{const n=je(),e=dt(),t=sessionStorage.getItem("accessToken")||"";let s="";if(t){const a=K3(t);a&&a.role&&(s=a.role)}const r=s==="SELLER",o=[{icon:c.jsx(E3,{className:"w-6 h-6",color:"white"}),label:"홈",isActive:e.pathname==="/my/coin",onClick:()=>n("/my/coin")},{icon:c.jsx(GS,{className:"w-6 h-6",color:"white"}),label:"쇼핑몰",isActive:e.pathname==="/mall"||e.pathname==="/store",onClick:()=>n(r?"/store":"/mall")},{icon:c.jsx(F3,{className:"w-6 h-6",color:"white"}),label:"마이페이지",isActive:e.pathname.includes("/my"),onClick:()=>n(r?"/store/my":"/user/my")}];return c.jsx("nav",{className:`bg-[${Fx.blue}] border-t flex justify-around py-3`,children:o.map((a,u)=>c.jsx(G3,{icon:a.icon,label:a.label,isActive:a.isActive,onClick:a.onClick},u))})},Ir="http://localhost:8080";async function q3(n,e){return await fetch(`${Ir}/api/sms/code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:n,smsType:e})})}async function X3(n,e,t){return await fetch(`${Ir}/api/sms/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n,phone:e,smsType:t})})}async function Y3(n){const e=await fetch(`${Ir}/api/check/email-duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(e.status===200)return null;if(e.status===403)return(await e.json()).message;{const t=await e.text();throw new Error(t||"이메일 중복 확인 중 오류가 발생했습니다.")}}async function Q3(n){const e=await fetch(`${Ir}/api/check/nickname-duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nickname:n})});if(e.status===200)return!1;if(e.status===403)return(await e.json()).message;{const t=await e.text();throw new Error(t||"닉네임 중복 확인 중 오류가 발생했습니다.")}}async function J3(n){return await fetch(`${Ir}/api/user/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}async function Z3({email:n,password:e,captchaKey:t,captchaValue:s}){return await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:e,captchaKey:t,captchaValue:s})})}async function e5(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${Ir}/api/change/password`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(n)});if(!t.ok){const s=await t.text();throw new Error(s||"비밀번호 변경에 실패했습니다.")}}async function t5(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${Ir}/api/change/phone`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(n)});if(!t.ok){const s=await t.text();throw new Error(s||"전화번호 변경에 실패했습니다.")}}async function n5(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${Ir}/api/change/nickname`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(n)});if(!t.ok){const s=await t.text();throw new Error(s||"닉네임 변경에 실패했습니다.")}}async function s5(){const n=sessionStorage.getItem("accessToken"),e=await fetch(`${Ir}/api/user/my`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(!e.ok)throw new Error("사용자 정보를 불러오지 못했습니다.");return await e.json()}async function r5(n){const e=new FormData;e.append("file",n);const t=await fetch(`${Ir}/api/ocr/id-card`,{method:"POST",body:e});if(!t.ok)throw new Error("OCR 처리 중 오류가 발생했습니다.");return await t.json()}async function i5(){const n=sessionStorage.getItem("accessToken"),e=await fetch(`${Ir}/api/pay`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error("사용자의 결제내역 정보를 불러오지 못했습니다.");return await e.json()}const qn="http://localhost:8080";async function o5(n){return await fetch(`${qn}/api/store/signup`,{method:"POST",body:n})}async function a5(n){const e=new FormData;e.append("file",n);const t=await fetch(`${qn}/api/ocr/business-license`,{method:"POST",body:e});if(!t.ok)throw new Error("사업자등록증 업로드 중 오류가 발생했습니다.");return await t.json()}async function KS(){const n=sessionStorage.getItem("accessToken"),e=await fetch(`${qn}/api/store/my`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok)throw new Error("내 가게 정보를 불러올 수 없습니다.");return await e.json()}async function l5(n){const e=sessionStorage.getItem("accessToken");return await fetch(`${qn}/api/store/change/name`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({newStoreName:n})})}async function c5(n){const e=sessionStorage.getItem("accessToken");return await fetch(`${qn}/api/store/change/address`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({newAddress:n})})}async function u5(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${qn}/api/store/menu/${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("메뉴 상세 조회에 실패했습니다.");return await t.json()}async function d5(n){const e=sessionStorage.getItem("accessToken");return await fetch(`${qn}/api/store/menu`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:n})}const h5=async n=>{const e=sessionStorage.getItem("accessToken");if(!(await fetch(`${qn}/api/store/change/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({storeStatus:n})})).ok)throw new Error("상태 변경 실패")};async function f5(n,e){const t=sessionStorage.getItem("accessToken"),s=await fetch(`${qn}/api/store/menu/${n}`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`},body:e});if(!s.ok){const r=await s.text();throw new Error(r||"메뉴 수정에 실패했습니다.")}}async function p5(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${qn}/api/store/menu/${n}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.text();throw new Error(s||"메뉴 삭제에 실패했습니다.")}}async function m5(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${qn}/api/store/select/coin`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({supportedCoins:n})});if(!t.ok){const s=await t.text();throw new Error(s||"코인 지원 설정 업데이트 실패")}return await t.json()}async function g5(){const n=sessionStorage.getItem("accessToken"),e=await fetch(`${qn}/api/store/orders`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}async function x5(n,e){const t=sessionStorage.getItem("accessToken");return await fetch(`${qn}/api/store/orders/${n}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({action:"accept",preparationTime:e})})}async function y5(n,e){const t=sessionStorage.getItem("accessToken");return await fetch(`${qn}/api/store/orders/${n}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({action:"refuse",refusalReason:e})})}async function v5(n){const e=sessionStorage.getItem("accessToken");return await fetch(`${qn}/api/store/orders/${n}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({action:"complete"})})}const Sj="http://localhost:8080",QT=C.createContext(null),b5=({children:n})=>{const[e,t]=C.useState(!1),[s,r]=C.useState(!0),o=C.useRef(null),a=C.useRef(null),u=C.useRef(0),d=5,h=()=>{const b=sessionStorage.getItem("accessToken");if(!b){console.log("🔐 토큰이 없어서 SSE 연결을 건너뜁니다.");return}o.current&&(console.log("🔄 기존 SSE 연결을 해제합니다."),o.current.close(),o.current=null),a.current&&(clearTimeout(a.current),a.current=null);try{console.log("🔗 User SSE 연결 시도 중...",`${Sj}/api/auth/events`),console.log("🔑 토큰 (앞 50자):",b.substring(0,50)+"...");const E=`${Sj}/api/auth/events?token=${encodeURIComponent(b)}`;console.log("📏 SSE URL 길이:",E.length);const A=new EventSource(E);A.onopen=()=>{console.log("✅ User SSE 연결이 성공적으로 열렸습니다."),console.log("📊 EventSource readyState:",A.readyState),u.current=0},A.addEventListener("connected",j=>{console.log("✅ User SSE 연결 확인:",j.data)}),A.addEventListener("keepalive",j=>{console.log("💓 User Keep-alive:",j.data)}),A.onmessage=j=>{console.log("📨 User SSE 일반 메시지 수신:",j),console.log("   - data:",j.data),console.log("   - type:",j.type),console.log("   - lastEventId:",j.lastEventId)},A.addEventListener("duplicate-login",j=>{console.log("🚨 User 중복 로그인 감지:",j.data),alert("다른 기기에서 로그인되어 현재 세션이 종료됩니다."),p()}),A.onerror=j=>{switch(console.error("❌ User SSE 연결 오류:",j),console.log("📊 EventSource readyState:",A.readyState),console.log("🔗 EventSource url:",A.url),A.readyState){case EventSource.CONNECTING:console.log("🔄 User SSE 연결 시도 중...");break;case EventSource.OPEN:console.log("✅ User SSE 연결이 열려있음");break;case EventSource.CLOSED:if(console.log("❌ User SSE 연결이 닫혔습니다."),u.current<d){u.current++;const k=Math.min(1e3*u.current,1e4);console.log(`🔄 ${k/1e3}초 후 User SSE 재연결 시도 (${u.current}/${d})`),a.current=setTimeout(()=>{h()},k)}else console.log("❌ User SSE 최대 재연결 시도 횟수 초과");break;default:console.log("❓ User SSE 알 수 없는 상태:",A.readyState)}A.close()},o.current=A}catch(E){console.error("❌ User SSE 연결 설정 실패:",E)}},p=()=>{console.log("🔄 User 강제 로그아웃 처리 중..."),o.current&&(o.current.close(),o.current=null),sessionStorage.removeItem("accessToken"),sessionStorage.removeItem("refreshToken"),sessionStorage.removeItem("userEmail"),t(!1),window.location.pathname!=="/login"&&(console.log("🔄 로그인 페이지로 리다이렉트..."),window.location.href="/login")};C.useEffect(()=>((()=>{try{const E=sessionStorage.getItem("accessToken"),A=sessionStorage.getItem("userEmail");console.log("🔍 초기 토큰 확인:",E?"토큰 있음":"토큰 없음"),console.log("📧 초기 이메일 확인:",A||"이메일 없음"),E?(console.log("💾 저장된 User 토큰 발견, 인증 상태 설정 중..."),t(!0),setTimeout(()=>{console.log("🔄 SSE 연결 지연 시작..."),h()},100)):(console.log("❌ 저장된 User 토큰이 없습니다."),t(!1))}catch(E){console.error("User 초기 인증 확인 에러:",E),t(!1)}finally{r(!1)}})(),()=>{console.log("🧹 User AuthProvider 언마운트, SSE 연결 정리 중..."),o.current&&o.current.close(),a.current&&clearTimeout(a.current)}),[]);const g=(b,E,A)=>{console.log("🔐 User 로그인 처리 중..."),console.log("📧 로그인 이메일:",A),sessionStorage.setItem("accessToken",b),sessionStorage.setItem("refreshToken",E),A&&(sessionStorage.setItem("userEmail",A),console.log("✅ 사용자 이메일 저장됨:",A)),t(!0),setTimeout(()=>{console.log("🔄 로그인 후 SSE 연결 시작..."),h()},500)},x=()=>{console.log("🚪 User 로그아웃 처리 중..."),o.current&&(o.current.close(),o.current=null),sessionStorage.removeItem("accessToken"),sessionStorage.removeItem("refreshToken"),sessionStorage.removeItem("userEmail"),t(!1),console.log("✅ User 로그아웃 완료")},v=()=>!!sessionStorage.getItem("accessToken"),w=()=>sessionStorage.getItem("userEmail");return c.jsx(QT.Provider,{value:{isAuthenticated:e,isLoading:s,login:g,logout:x,checkAuth:v,getUserEmail:w},children:n})},JT=()=>{const n=C.useContext(QT);if(!n)throw new Error("useAuthContext는 AuthProvider 내에서 사용되어야 합니다.");return n};function Aj(){const n="http://localhost:8080",e=je(),t=dt(),[s,r]=C.useState("..."),[o,a]=C.useState(!1),[u,d]=C.useState(!0),h=sessionStorage.getItem("accessToken"),{logout:p}=JT(),g=t.pathname.includes("/store"),x=()=>{e(g?"/store/my/edit":"/user/my/edit")},v=async A=>{try{if(console.log("🔍 OTP 상태 조회 시작:",{email:A,BASE_URL:n}),console.log("🔑 사용할 토큰:",h?`${h.substring(0,20)}...`:"null"),!h){console.error("❌ 토큰이 없습니다. 로그인이 필요합니다."),a(!1);return}const j=await fetch(`${n}/api/status`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({email:A})});if(console.log("📨 OTP 상태 응답:",{status:j.status,statusText:j.statusText,url:j.url,headers:Object.fromEntries(j.headers.entries())}),j.status===401){console.error("❌ 인증 실패 (401): 토큰이 유효하지 않거나 만료되었습니다."),p(),e("/login",{replace:!0});return}if(!j.ok){const P=await j.text();console.error("❌ OTP 상태 조회 HTTP 오류:",{status:j.status,statusText:j.statusText,errorText:P});return}const k=await j.json();console.log("✅ OTP 상태 응답 데이터:",k),k.status==="success"?k.data&&k.data.enabled?(a(!0),console.log("🛡️ OTP 활성화됨")):(a(!1),console.log("🔓 OTP 비활성화 또는 미설정")):(console.warn("⚠️ OTP 상태 조회 실패:",k.message),a(!1))}catch(j){console.error("❌ OTP 상태 조회 네트워크 오류:",j),a(!1)}};C.useEffect(()=>{(async()=>{try{if(!h){console.warn("⚠️ 토큰이 없어서 사용자 데이터 조회를 건너뜁니다.");return}if(console.log("👤 사용자 데이터 조회 시작...",{isSeller:g}),g){const j=await KS();console.log("🏪 스토어 데이터:",j),r(j.storeName),j.email?await v(j.email):console.warn("⚠️ 스토어 이메일 정보가 없습니다.")}else{const j=await s5();console.log("👤 사용자 데이터:",j),r(j.nickname),j.email?await v(j.email):console.warn("⚠️ 사용자 이메일 정보가 없습니다.")}}catch(j){console.error("❌ 사용자 정보 조회 실패:",j)}finally{d(!1)}})()},[h,g,n]);const w=()=>{console.log("🚪 로그아웃 버튼 클릭"),p(),e("/login",{replace:!0})},b=()=>{e("/otp/setup")},E=()=>{const A=[{label:"내 정보 수정",onClick:x,icon:c.jsx(XT,{size:18,color:"#6366f1"})}];return A.push({label:o?"2차 인증 관리":"2차 인증 설정",onClick:b,icon:c.jsx(WS,{size:18,color:o?"#10b981":"#6b7280"}),badge:o?"활성화됨":"미설정"}),g?A.push({label:"결산리포트",onClick:()=>e("/settlement"),icon:c.jsx(l3,{size:18,color:"#10b981"})}):A.push({label:"내 주문 내역",onClick:()=>e("/my/orders"),icon:c.jsx(GS,{size:18,color:"#10b981"})},{label:"결제 내역",onClick:()=>e("/my/payments"),icon:c.jsx(S3,{size:18,color:"#f59e0b"})}),A.push({label:"고객 센터",onClick:()=>e(g?"/store/my/customer-support":"/home/my/customer-support"),icon:c.jsx(y3,{size:18,color:"#0ea5e9"})}),A};return u?c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsx(Me,{title:g?"판매자 페이지":"마이페이지"}),c.jsx("main",{className:"flex-1 p-4 bg-gray-50 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),c.jsx(ot,{})]}):c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsx(Me,{title:g?"판매자 페이지":"마이페이지"}),c.jsxs("main",{className:"flex-1 p-4 bg-gray-50",children:[c.jsx(H3,{username:s,onLogout:w,hasOtpEnabled:o}),c.jsx(W3,{menuItems:E()})]}),c.jsx(ot,{})]})}function w5({onSuccess:n,onSubmit:e}){const[t,s]=C.useState(""),[r,o]=C.useState(""),[a,u]=C.useState(""),[d,h]=C.useState(""),[p,g]=C.useState(!1),x=()=>{t?g(!0):h("비밀번호를 입력해주세요.")},v=async()=>{if(!p){h("현재 비밀번호를 먼저 확인해주세요.");return}if(!r){h("새로운 비밀번호를 입력해주세요.");return}if(r!==a){h("비밀번호가 일치하지 않습니다.");return}try{await e({oldPassword:t,newPassword:r}),n()}catch(w){console.error("비밀번호 변경 실패",w),h("비밀번호 변경 중 오류가 발생했습니다.")}};return c.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 shadow-sm",children:[c.jsx("h2",{className:"text-lg font-medium mb-2",children:"비밀번호 변경"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"기존 비밀번호를 입력해주세요."}),c.jsxs("div",{className:"flex",children:[c.jsx("input",{type:"password",value:t,onChange:w=>s(w.target.value),className:"flex-1 border rounded p-2",placeholder:"비밀번호를 입력해주세요.",disabled:p}),c.jsx("button",{onClick:x,className:`ml-2 border px-3 py-2 rounded ${p?"bg-gray-100 text-gray-500 border-gray-300":"bg-white border-[#0a2e65] text-[#0a2e65]"}`,disabled:p,children:"비밀번호확인"})]})]}),d&&c.jsx("p",{className:"text-red-500 text-sm mb-2",children:d}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"새로운 비밀번호 입력"}),c.jsx("input",{type:"password",value:r,onChange:w=>o(w.target.value),className:"w-full border rounded p-2",placeholder:"비밀번호를 입력해주세요.",disabled:!p}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"영문, 숫자, 특수기호를 혼합 8~16자리의 비밀번호"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"새로운 비밀번호 확인"}),c.jsx("input",{type:"password",value:a,onChange:w=>u(w.target.value),className:"w-full border rounded p-2",placeholder:"비밀번호를 입력해주세요.",disabled:!p}),r&&a&&r!==a&&c.jsx("p",{className:"text-xs text-red-500 mt-1",children:"비밀번호가 일치하지 않습니다."})]}),c.jsx("button",{onClick:v,className:`w-full py-3 rounded ${p?"bg-[#0a2e65] text-white":"bg-gray-300 text-gray-500"}`,disabled:!p,children:"변경하기"})]})}function S5({onSuccess:n,onSubmit:e}){const[t,s]=C.useState(""),[r,o]=C.useState(""),[a,u]=C.useState(""),[d,h]=C.useState(!1),[p,g]=C.useState(""),x=()=>{if(!a){g("닉네임을 입력해주세요.");return}h(!0),g("")},v=async()=>{if(!d){g("닉네임 중복 확인을 먼저 해주세요.");return}try{await e({newNickname:a}),n()}catch(w){console.error("닉네임 변경 실패",w),g("닉네임 변경 중 오류가 발생했습니다.")}};return c.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 shadow-sm",children:[c.jsx("h2",{className:"text-lg font-medium mb-2",children:"닉네임 변경"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"닉네임을 입력해주세요."}),c.jsxs("div",{className:"flex",children:[c.jsx("input",{type:"text",value:a,onChange:w=>{u(w.target.value),h(!1)},className:"flex-1 border rounded p-2",placeholder:"닉네임을 입력해주세요."}),c.jsx("button",{onClick:x,className:"ml-2 bg-white border border-[#0a2e65] text-[#0a2e65] px-3 py-2 rounded",children:"중복확인"})]}),p?c.jsx("p",{className:"text-xs text-red-500 mt-1",children:p}):d?c.jsx("p",{className:"text-xs text-green-500 mt-1",children:"사용 가능한 닉네임입니다."}):null]}),c.jsx("button",{onClick:v,className:`w-full py-3 rounded ${d?"bg-[#0a2e65] text-white":"bg-gray-300 text-gray-500"}`,disabled:!d,children:"변경하기"})]})}const Cj="http://localhost:8080";function A5({onSuccess:n,onSubmit:e}){const[t,s]=C.useState(""),[r,o]=C.useState(""),[a,u]=C.useState(!1),[d,h]=C.useState(!1),[p,g]=C.useState(""),[x,v]=C.useState(""),w=j=>/^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/.test(j),b=async()=>{if(!t){g("휴대전화번호를 입력해주세요.");return}if(!w(t)){g("휴대전화번호 형식이 올바르지 않습니다.");return}try{if(!(await fetch(`${Cj}/sms/code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,smsType:"CHANGE_PHONE_NUM"})})).ok)throw new Error("인증번호 전송 실패");g(""),u(!0)}catch{g("인증번호 전송 중 오류가 발생했습니다.")}},E=async()=>{if(!r){v("인증번호를 입력해주세요.");return}try{if(!(await fetch(`${Cj}/sms/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:r,phone:t,smsType:"CHANGE_PHONE_NUM"})})).ok)throw new Error("인증 실패");h(!0),v("")}catch{v("인증번호가 맞지 않습니다.")}},A=async()=>{if(!d){v("휴대폰 번호 인증을 먼저 완료해주세요.");return}try{await e({phoneNumber:t}),n()}catch(j){console.error("전화번호 변경 실패",j),g("전화번호 변경 중 오류가 발생했습니다.")}};return c.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 shadow-sm",children:[c.jsx("h2",{className:"text-lg font-medium mb-2",children:"휴대폰 변경"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"휴대전화번호를 입력해주세요."}),c.jsxs("div",{className:"flex",children:[c.jsx("input",{type:"tel",value:t,onChange:j=>{s(j.target.value),u(!1),h(!1)},className:`flex-1 border rounded p-2 ${p?"border-red-500":""}`,placeholder:"휴대전화번호를 입력해주세요.",disabled:d}),c.jsx("button",{onClick:b,className:`ml-2 border px-3 py-2 rounded ${d?"bg-gray-100 text-gray-500 border-gray-300":"bg-white border-[#0a2e65] text-[#0a2e65]"}`,disabled:d,children:"인증번호 전송"})]}),p&&c.jsx("p",{className:"text-xs text-red-500 mt-1",children:p})]}),a&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"인증번호 입력"}),c.jsxs("div",{className:"flex",children:[c.jsx("input",{type:"text",value:r,onChange:j=>o(j.target.value),className:`flex-1 border rounded p-2 ${x?"border-red-500":""}`,placeholder:"인증번호를 입력해주세요.",disabled:d}),c.jsx("button",{onClick:E,className:`ml-2 border px-3 py-2 rounded ${d?"bg-gray-100 text-gray-500 border-gray-300":"bg-white border-[#0a2e65] text-[#0a2e65]"}`,disabled:d,children:"번호 확인"})]}),x?c.jsx("p",{className:"text-xs text-red-500 mt-1",children:x}):d?c.jsx("p",{className:"text-xs text-green-500 mt-1",children:"인증이 완료되었습니다."}):null]}),c.jsx("button",{onClick:A,className:`w-full py-3 rounded ${d?"bg-[#0a2e65] text-white":"bg-gray-300 text-gray-500"}`,disabled:!d,children:"변경하기"})]})}function C5({isOpen:n,onClose:e,title:t}){return n?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-sm w-full",children:[c.jsx("h3",{className:"text-center text-lg font-medium mb-6",children:t}),c.jsx("div",{className:"flex justify-center",children:c.jsx("button",{onClick:e,className:"bg-[#0a2e65] text-white px-8 py-2 rounded w-full",children:"닫기"})})]})}):null}function E5(){const[n,e]=C.useState(!1),[t,s]=C.useState(""),r=sessionStorage.getItem("accessToken"),o=()=>{s("비밀번호 변경 완료"),e(!0)},a=()=>{s("닉네임 변경 완료"),e(!0)},u=()=>{s("휴대폰 변경 완료"),e(!0)},d=async g=>{if(!r)throw new Error("로그인이 필요합니다.");await e5(g)},h=async g=>{if(!r)throw new Error("로그인이 필요합니다.");await n5(g)},p=async g=>{if(!r)throw new Error("로그인이 필요합니다.");await t5(g)};return c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsx(Me,{title:"내 정보 수정"}),c.jsxs("main",{className:"flex-1 p-4 bg-gray-50 overflow-auto",children:[c.jsx(w5,{onSuccess:o,onSubmit:d}),c.jsx(S5,{onSuccess:a,onSubmit:h}),c.jsx(A5,{onSuccess:u,onSubmit:p})]}),c.jsx(C5,{isOpen:n,onClose:()=>e(!1),title:t})]})}function j5({selectedPeriod:n,onPeriodChange:e,periods:t}){return c.jsx("div",{className:"py-5 px-8 flex gap-3 overflow-x-auto justify-center",children:t.map(s=>c.jsx("button",{onClick:()=>e(s),className:`
            px-6 py-2.5 
            rounded-full 
            text-sm 
            font-medium 
            transition-all 
            duration-150
            active:scale-95
            ${n===s?"bg-[#0a2e65] text-white shadow-md":"bg-white text-gray-700 border border-gray-200 shadow-sm hover:bg-gray-50"}
          `,children:s},s))})}function N5({totalValue:n}){return c.jsxs("div",{className:"mx-4 mb-4 bg-white rounded-lg p-6 shadow-md border border-gray-100",children:[c.jsx("p",{className:"text-gray-500 mb-1",children:"총 결산"}),c.jsxs("p",{className:"text-2xl font-bold",children:[n.toLocaleString()," KRW"]})]})}function k5({assets:n}){return c.jsx("div",{className:"flex-1 px-4 pb-4 overflow-auto mt-2",children:n.map(e=>c.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 flex items-center",children:[c.jsxs("div",{className:"w-10 h-10 mr-3 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:[e.code==="XRP"&&c.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M19.6 5L14.7 10.7C13.4 12.3 11.2 12.3 9.9 10.7L5 5M5 19L9.9 13.3C11.2 11.7 13.4 11.7 14.7 13.3L19.6 19",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.code==="SOL"&&c.jsx("div",{className:"w-6 h-6 bg-[#9945FF] rounded-full flex items-center justify-center",children:c.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})}),e.code==="USDT"&&c.jsx("div",{className:"w-6 h-6 bg-[#26A17B] rounded-full flex items-center justify-center text-white text-xs font-bold",children:"T"})]}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"w-24",children:[c.jsx("p",{className:"font-medium truncate",children:e.name}),c.jsx("p",{className:"text-xs text-gray-500",children:e.code})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"w-16 text-lg font-medium text-right",style:{fontVariantNumeric:"tabular-nums"},children:[e.percentage,"%"]}),c.jsxs("div",{className:"text-right w-24",children:[c.jsxs("p",{className:"font-medium text-[#4a6ee0]",children:[e.amount," ",e.code]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[e.value.toLocaleString()," KRW"]})]})]})]})})]},e.code))})}const T5=["이번달","지난달","3개월","6개월","12개월"],Ej=[{name:"리플",code:"XRP",logo:"/placeholder.svg?height=40&width=40",percentage:15,amount:.3,value:1e3},{name:"솔라나",code:"SOL",logo:"/placeholder.svg?height=40&width=40",percentage:15,amount:.3,value:1e3},{name:"테더",code:"USDT",logo:"/placeholder.svg?height=40&width=40",percentage:15,amount:.3,value:1e3}];function P5(){je();const n=dt(),[e,t]=C.useState("이번달"),s=Ej.reduce((r,o)=>r+o.value,0);return n.pathname.includes("/store"),c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsx(Me,{title:"결산 리포트"}),c.jsx(j5,{selectedPeriod:e,onPeriodChange:t,periods:T5}),c.jsx(N5,{totalValue:s}),c.jsx(k5,{assets:Ej}),c.jsx(ot,{})]})}function $e({text:n,onClick:e,color:t="blue",className:s="",disabled:r=!1,fullWidth:o=!0}){const a={blue:"bg-[#0C2B5F] text-white",gray:"bg-gray-400 text-white",primary:"bg-[#0a2e64] text-white"};return c.jsx("button",{className:`
        ${a[t]}
        py-3
        text-lg
        font-medium
        rounded-lg
        shadow-md
        ${o?"w-full":""}
        ${r?"opacity-50 cursor-not-allowed":""}
        ${s}
      `,onClick:e,disabled:r,children:n})}function _5(){const n=je();return c.jsxs("div",{className:"h-screen flex flex-col justify-between px-5 py-10",children:[c.jsxs("div",{className:"mt-8 text-center space-y-2",children:[c.jsx("div",{className:"flex items-center justify-center space-x-2",children:c.jsx("img",{src:"/crepe-newlogo2.png",alt:"Crepe 로고",className:"w-[370px] h-[210px] object-contain mb-[-20px]"})}),c.jsxs("p",{className:"text-xl font-semibold text-center leading-snug text-slate-700",children:["지갑 없이도, ",c.jsx("br",{}),"가상화폐를 포인트로 간편하게!"]})]}),c.jsx("div",{className:"w-full mt-20 mb-10 px-5",children:c.jsxs("div",{className:"flex flex-col space-y-3",children:[c.jsxs("div",{className:"text-center text-sm",children:[c.jsx("span",{children:"이미 가입하셨나요? "}),c.jsx("button",{className:"text-[#0a5ca8] font-medium",onClick:()=>n("/login"),children:"로그인 하기"})]}),c.jsx($e,{text:"지금 시작하기",onClick:()=>n("/terms"),className:"w-full rounded-[9px] font-medium bg-[#0C2B5F] text-white py-3 mx-auto px-4"}),c.jsxs("div",{className:"text-center text-sm",children:[c.jsx("span",{children:"사장님이신가요? "}),c.jsx("button",{className:"text-[#0a5ca8] font-medium",onClick:()=>n("/store/terms"),children:"가맹점 회원가입하기"})]})]})})]})}const Ig={checkedBorder:"#0a2158",checkedText:"#0a2158",uncheckedBorder:"gray-300",uncheckedText:"transparent"};function Na({checked:n,onClick:e}){return c.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center ${n?`border-[${Ig.checkedBorder}] text-[${Ig.checkedText}]`:`border-${Ig.uncheckedBorder} text-${Ig.uncheckedText}`}`,onClick:e,children:n&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})}function _f({className:n="text-gray-400",width:e=20,height:t=20,stroke:s="currentColor"}){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:c.jsx("path",{d:"M9 18l6-6-6-6"})})}function R5({onNext:n,isStore:e}){const[t,s]=C.useState({all:!1,terms:!1,privacy:!1}),r=()=>{const u=!t.all;s({all:u,terms:u,privacy:u})},o=u=>{const d={...t,[u]:!t[u]};d.all=d.terms&&d.privacy,s(d)},a=t.terms&&t.privacy;return c.jsxs("div",{className:"h-full flex flex-col bg-white",children:[c.jsx(Me,{title:"시작하기",isStore:e}),c.jsxs("main",{className:"flex-1 overflow-auto px-5 pb-24 flex flex-col",children:[c.jsx("div",{className:"flex-1 flex flex-col justify-center items-center mb-8",children:c.jsxs("div",{className:"text-center -mt-16",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:"서비스 이용을 위해"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"이용약관 동의가 필요합니다"})]})}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 mb-6 shadow-sm",children:[c.jsxs("div",{className:"flex items-center py-4 cursor-pointer hover:bg-gray-100 rounded-lg px-3 transition-colors",onClick:r,children:[c.jsx(Na,{checked:t.all}),c.jsx("span",{className:"ml-3 text-base font-medium text-gray-800",children:"모든 약관에 동의합니다."})]}),c.jsx("div",{className:"h-px bg-gray-200 my-2 mx-1"}),c.jsxs("div",{className:"flex items-center justify-between py-4 cursor-pointer hover:bg-gray-100 rounded-lg px-3 transition-colors",onClick:()=>o("terms"),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Na,{checked:t.terms}),c.jsxs("span",{className:"ml-3 text-base text-gray-800",children:["이용약관 ",c.jsx("span",{className:"text-gray-500 font-medium",children:"(필수)"})]})]}),c.jsx(_f,{className:"text-gray-400"})]}),c.jsxs("div",{className:"flex items-center justify-between py-4 cursor-pointer hover:bg-gray-100 rounded-lg px-3 transition-colors",onClick:()=>o("privacy"),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Na,{checked:t.privacy}),c.jsxs("span",{className:"ml-3 text-base text-gray-800",children:["개인정보 처리방침 ",c.jsx("span",{className:"text-gray-500 font-medium",children:"(필수)"})]})]}),c.jsx(_f,{className:"text-gray-400"})]})]})]}),c.jsx("div",{className:"p-5 bg-white",children:c.jsx($e,{text:"다음",onClick:n,className:`w-full py-3.5 rounded-lg font-medium text-white ${a?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,disabled:!a})})]})}function jj(){const n=je(),t=dt().pathname.includes("/store/"),s=()=>{n(t?"/store/email":"/email")};return c.jsx(R5,{onNext:s,isStore:t})}function Js({label:n,type:e="text",value:t,onChange:s,onBlur:r,placeholder:o="",isValid:a,showValidation:u=!1,showPassword:d,togglePasswordVisibility:h,disabled:p=!1}){return c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:n}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:e==="password"&&d?"text":e,value:t,onChange:s,onBlur:r,placeholder:o,disabled:p,className:`w-full border-b border-gray-300 py-2 focus:outline-none ${p?"bg-gray-100 cursor-not-allowed":"focus:border-blue-500"}`}),u&&c.jsx("div",{className:"absolute right-8 top-2",children:c.jsx(Na,{checked:!!a})}),e==="password"&&c.jsx("button",{type:"button",onClick:h,className:"absolute right-0 top-2 text-gray-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d?c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),c.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),c.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),c.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]})})})]})]})}function L5({email:n,password:e,onEmailChange:t,onPasswordChange:s,onEmailBlur:r,onNext:o,isStore:a,emailMessage:u,emailMessageColor:d,isEmailValid:h,passwordMessage:p}){const[g,x]=ls.useState(!1),v=()=>{x(!g)},w=!h||!e;return c.jsxs("div",{className:"h-full flex flex-col bg-white",children:[c.jsx(Me,{title:"회원가입",progress:1,isStore:a}),c.jsxs("main",{className:"flex-1 overflow-auto px-6 pt-6 pb-24 flex flex-col",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"회원가입을 위한"}),c.jsx("p",{className:"text-2xl font-bold mb-8",children:"정보를 입력해주세요"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx(Js,{label:"Email Address",type:"email",value:n,onChange:b=>t(b.target.value),onBlur:r,placeholder:"이메일을 입력해주세요"}),u&&c.jsx("p",{className:`text-sm ${d}`,children:u})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx(Js,{label:"Password",type:g?"text":"password",value:e,onChange:b=>s(b.target.value),placeholder:"비밀번호를 입력해주세요",showPassword:g,togglePasswordVisibility:v,disabled:!h}),p&&c.jsx("p",{className:"text-red-500 text-sm",children:p})]})]}),c.jsx("div",{className:"flex-grow"})]}),c.jsx("div",{className:"p-5 bg-white",children:c.jsx($e,{text:"다음",onClick:o,className:`w-full py-3.5 rounded-lg font-medium text-white ${w?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:w})})]})}function Nj(){const n=je(),t=dt().pathname.includes("/store/"),[s,r]=C.useState(""),[o,a]=C.useState(""),[u,d]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(!1),[v,w]=C.useState(""),[b,E]=C.useState(!1),A=R=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%?&])[A-Za-z\d@$!%?&]{10,}$/.test(R),j=async()=>{if(!s.trim()){d("이메일을 입력해주세요."),p("text-red-500"),x(!1);return}try{const R=await Y3(s.trim());R?(d(R),p("text-red-500"),x(!1)):(d("사용 가능한 이메일입니다."),p("text-green-500"),x(!0))}catch(R){console.error("이메일 중복 확인 중 오류 발생:",R),d("이메일 중복 확인 중 오류가 발생했습니다."),p("text-red-500"),x(!1)}},k=R=>{a(R),A(R)?(w(""),E(!0)):(w("비밀번호는 10자 이상, 숫자/대문자/소문자/특수문자(@$!%?&)를 포함해야 합니다."),E(!1))},P=()=>{if(!s.trim()||!o.trim()){d("이메일과 비밀번호를 모두 입력해주세요."),p("text-red-500");return}if(!b){w("비밀번호를 올바르게 입력해주세요.");return}const R={email:s.trim(),password:o.trim()};sessionStorage.setItem("signUpData",JSON.stringify(R)),n(t?"/store/phone":"/phone")};return c.jsx(L5,{email:s,password:o,onEmailChange:R=>{r(R),d(""),x(!1)},onPasswordChange:k,onEmailBlur:j,onNext:P,isStore:t,emailMessage:u,emailMessageColor:h,isEmailValid:g,passwordMessage:v})}function I5({onNext:n,isStore:e,onPhoneNumberChange:t,phoneMessage:s,isSending:r}){const[o,a]=C.useState(""),[u,d]=C.useState("");C.useEffect(()=>{if(o){let p=o.replace(/[^0-9]/g,"");p.length>3&&p.length<=7?p=`${p.slice(0,3)}-${p.slice(3)}`:p.length>7&&(p=`${p.slice(0,3)}-${p.slice(3,7)}-${p.slice(7,11)}`),d(p)}else d("")},[o]);const h=p=>{const g=p.target.value.replace(/[^0-9-]/g,"");a(g.replace(/-/g,"")),t(g.replace(/-/g,""))};return c.jsxs("div",{className:"h-full flex flex-col bg-white",children:[c.jsx(Me,{title:"회원가입",progress:2,isStore:e}),c.jsxs("div",{className:"flex-1 flex flex-col p-5",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"휴대폰 번호를"}),c.jsx("p",{className:"text-2xl font-bold mb-8",children:"입력해주세요"})]}),c.jsx("div",{className:"flex-1 px-4",children:c.jsxs("div",{className:"border-b border-gray-300 py-2",children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Phone Number"}),c.jsx("input",{type:"tel",value:u,onChange:h,placeholder:"010-0000-0000",className:"w-full focus:outline-none text-gray-800 text-lg"}),s&&c.jsx("p",{className:"text-sm mt-2 text-red-500",children:s})]})})]}),c.jsx("div",{className:"p-5",children:c.jsx($e,{text:r?"요청 중...":"인증번호 요청",onClick:n,color:"primary",disabled:r})})]})}function kj(){const n=je(),[e,t]=C.useState(""),[s,r]=C.useState(!1),[o,a]=C.useState(""),u=location.pathname.includes("/store/"),d=async()=>{if(!e||e.length<10){a("유효한 전화번호를 입력해주세요.");return}const h=e.replace(/-/g,"");if(!s){r(!0);try{const p=await q3(h,"SIGN_UP");if(p.ok){const g=sessionStorage.getItem("signUpData")||"{}",x=JSON.parse(g);x.phoneNumber=h,sessionStorage.setItem("signUpData",JSON.stringify(x)),n(u?"/store/phone/verification":"/phone/verification")}else{const g=await p.json();a(g.message||"SMS 전송 중 오류가 발생했습니다.")}}catch(p){console.error("SMS 전송 중 오류 발생:",p),a("SMS 전송 중 오류가 발생했습니다.")}finally{r(!1)}}};return c.jsx(I5,{onNext:d,isStore:u,onPhoneNumberChange:t,phoneMessage:o,isSending:s})}function Tj({isStore:n}){const[e,t]=C.useState(["","","","","",""]),[s,r]=C.useState(""),o=je(),a=dt(),u=(p,g)=>{if(g.length<=1){const x=[...e];if(x[p]=g,t(x),g&&p<5){const v=document.getElementById(`code-${p+1}`);v&&v.focus()}}};C.useEffect(()=>{e.every(g=>g!=="")&&d()},[e]);const d=async()=>{const p=e.join("");if(p.length!==6){r("6자리 인증 코드를 입력해주세요.");return}try{const g=sessionStorage.getItem("signUpData");if(!g){r("회원가입 정보를 찾을 수 없습니다.");return}const{phoneNumber:x}=JSON.parse(g),v=await X3(p,x,"SIGN_UP");if(v.ok){const w=JSON.parse(g);w.phoneNumber=x,sessionStorage.setItem("signUpData",JSON.stringify(w)),a.pathname.includes("/store")?o("/store/register"):o("/additional/info")}else{const w=await v.json();r(w.message||"인증에 실패했습니다.")}}catch(g){console.error("인증 요청 중 오류 발생:",g),r("인증 요청 중 오류가 발생했습니다.")}},h=()=>{a.pathname.includes("/store/")?o("/store/phone"):o("/phone")};return c.jsxs("div",{className:"h-full flex flex-col bg-white",children:[c.jsx(Me,{title:"회원가입",progress:3,isStore:n}),c.jsxs("main",{className:"flex-1 overflow-auto px-6 pt-6 pb-24 flex flex-col",children:[c.jsxs("div",{className:"mb-10",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"휴대폰 번호 인증"}),c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"휴대폰에 전송된 6자리 숫자를 입력해주세요"}),c.jsx("button",{className:"text-blue-600 text-sm font-medium",onClick:h,children:"번호 변경"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"grid grid-cols-6 gap-2 mb-4",children:e.map((p,g)=>c.jsx("input",{id:`code-${g}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:p,onChange:x=>u(g,x.target.value),className:"w-full h-14 bg-transparent border-b-2 border-gray-200 text-center text-xl font-medium focus:border-blue-500 focus:outline-none transition-all"},g))}),s&&c.jsx("p",{className:"text-red-500 text-sm mb-4",children:s}),c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("span",{className:"text-gray-500 text-sm",children:"코드가 전송되지 않았나요? "}),c.jsx("button",{className:"text-blue-600 text-sm font-medium",children:"코드 재전송"})]})]}),c.jsx("div",{className:"flex-grow"})]})]})}function M5(){const n=je(),[e,t]=C.useState(""),[s,r]=C.useState(""),[o,a]=C.useState(""),[u,d]=C.useState(""),[h,p]=C.useState(!1),g=e.trim()&&h;C.useEffect(()=>{const v=async()=>{if(!s.trim()){a("닉네임을 입력해주세요."),d("text-red-500"),p(!1);return}try{await Q3(s.trim())?(a("이미 사용중인 닉네임입니다."),d("text-red-500"),p(!1)):(a("사용 가능한 닉네임입니다."),d("text-green-500"),p(!0))}catch(w){console.error("닉네임 중복 확인 중 오류 발생:",w),a("닉네임 중복 확인 중 오류가 발생했습니다."),d("text-red-500"),p(!1)}};s.trim()?v():(a(""),p(!1))},[s]);const x=async()=>{if(!g){alert("이름과 닉네임을 모두 입력해주세요.");return}try{const v=sessionStorage.getItem("signUpData");if(!v){alert("회원가입 정보를 찾을 수 없습니다.");return}const b={...JSON.parse(v),name:e.trim(),nickname:s.trim()},E=await J3(b);if(E.ok)sessionStorage.removeItem("signUpData"),sessionStorage.removeItem("accessToken"),sessionStorage.removeItem("refreshToken"),n("/signup-complete");else{const A=await E.json();alert(`회원가입 실패: ${A.message}`)}}catch(v){console.error("회원가입 요청 중 오류 발생:",v),alert("회원가입 요청 중 오류가 발생했습니다.")}};return c.jsxs("div",{className:"h-full flex flex-col bg-white",children:[c.jsx(Me,{title:"회원가입",progress:4}),c.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:"추가 정보 입력"}),c.jsx("p",{className:"text-gray-500",children:"시작하기 위한 정보를 입력해주세요"})]}),c.jsxs("div",{className:"flex-1 space-y-6 px-1",children:[c.jsx(Js,{label:"이름",value:e,onChange:v=>t(v.target.value),placeholder:"이름을 입력해주세요"}),c.jsxs("div",{children:[c.jsx(Js,{label:"닉네임",value:s,onChange:v=>r(v.target.value),placeholder:"닉네임을 입력해주세요"}),o&&c.jsx("p",{className:`text-sm mt-1 ${u}`,children:o})]})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center mt-auto mb-8",children:[c.jsx("div",{className:"bg-gray-50 p-3 rounded-full shadow-sm mb-4",children:c.jsx("img",{src:"/lock.png",alt:"Lock Icon",className:"w-6 h-6 text-gray-400"})}),c.jsx("p",{className:"text-center text-sm text-gray-500",children:"모든 개인정보는 암호화되어 안전하게 저장됩니다."})]})]}),c.jsx("div",{className:"p-6 pt-0",children:c.jsx($e,{text:g?"제출하기":"계속하기",onClick:x,color:g?"primary":"gray",disabled:!g})})]})}const D5=()=>c.jsx("style",{children:`
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }
    `});function O5(){const n=je(),[e,t]=C.useState(!1),[s,r]=C.useState(!1),[o,a]=C.useState(!1);C.useEffect(()=>{const d=setTimeout(()=>t(!0),200),h=setTimeout(()=>r(!0),700),p=setTimeout(()=>a(!0),1200);return()=>{clearTimeout(d),clearTimeout(h),clearTimeout(p)}},[]);const u=()=>{n("/login")};return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsx(D5,{}),c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:c.jsxs("div",{className:`transition-all duration-700 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} flex flex-col items-center space-y-0.5`,children:[c.jsxs("div",{className:"flex items-center gap-0",children:[c.jsx("img",{src:"/crepe-newlogosmall.png",alt:"Crepe Logo",className:"w-[120px] h-[100px] object-contain"}),c.jsx("span",{className:"text-2xl font-bold text-slate-700 leading-none pb-[3px]",children:"에"})]}),c.jsx("p",{className:"text-2xl font-bold text-slate-700 leading-tight ml-4",children:"오신 것을 환영합니다"})]})}),c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("div",{className:`relative w-50 h-52 transition-all duration-700 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:s?{animation:"float 3s ease-in-out infinite"}:{},children:c.jsx("img",{src:"/crepe-newlogo.png",alt:"Crepe Logo",className:"w-full h-full"})})}),c.jsx("div",{className:"pt-5 pb-10 px-5",children:c.jsx($e,{text:"다음",onClick:u})})]})}function F5({onSubmit:n,children:e}){return c.jsx("form",{onSubmit:t=>{t.preventDefault(),n()},className:"flex flex-col w-full",children:e})}function B5({onSignup:n,onStoreSignup:e,buttonClassName:t}){const[s,r]=C.useState(""),[o,a]=C.useState(""),[u,d]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),v=je(),{login:w,isAuthenticated:b}=JT();C.useEffect(()=>{E(),b&&v("/my/coin")},[b,v]);const E=async()=>{try{const P=await(await fetch("http://localhost:8080/api/captcha")).json();p(P.captchaKey);const R=`https://naveropenapi.apigw.ntruss.com/captcha-bin/v1/ncaptcha?key=${P.captchaKey}`;d(R),x("")}catch(j){console.error("캡차 불러오기 실패:",j)}},A=async()=>{if(!s||!o||!g){alert("아이디와 비밀번호를 입력해 주세요.");return}try{const j=await Z3({email:s,password:o,captchaKey:h,captchaValue:g});if(!j.ok){const R=await j.json();alert(R.message||"로그인에 실패했습니다."),E();return}const{accessToken:k,refreshToken:P}=await j.json();w(k,P,s),console.log("✅ 로그인 성공 - 이메일 저장됨:",s),setTimeout(()=>{v("/my/coin")},1e3)}catch(j){console.error("로그인 오류:",j),alert("로그인 중 오류가 발생했습니다."),E()}};return c.jsxs("div",{className:"min-h-screen flex flex-col px-5 pt-12 pb-10",children:[c.jsx("img",{src:"/crepe-newlogo2.png",alt:"Logo",className:"object-contain w-[500px] aspect-[2.51] mx-auto"}),c.jsxs("div",{className:"mt-4 w-full",children:[c.jsx(F5,{onSubmit:A,children:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("input",{type:"text",placeholder:"아이디 (이메일)",value:s,onChange:j=>r(j.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx("input",{type:"password",placeholder:"비밀번호",value:o,onChange:j=>a(j.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3 border border-gray-100 mt-12",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-bold text-gray-700",children:"보안 확인"}),c.jsxs("button",{type:"button",onClick:E,className:"text-amber-500 hover:text-amber-600 flex items-center text-sm",children:[c.jsx(qT,{size:14,className:"mr-1"}),"새로운 보안문자 받기"]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"bg-white rounded-md overflow-hidden border border-gray-200 sm:w-1/2",children:c.jsx("img",{src:u,alt:"CAPTCHA",className:"w-full h-25 object-cover"})}),c.jsx("div",{className:"sm:w-1/2 flex items-center",children:c.jsx("input",{type:"text",value:g,onChange:j=>x(j.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-amber-400 focus:border-transparent outline-none transition",placeholder:"보이는 대로 입력해주세요"})})]})]}),c.jsxs("div",{className:"mt-10",children:[c.jsx($e,{text:"로그인",onClick:A,className:`w-full rounded-[9px] font-medium bg-[#0C2B5F] text-white ${t}`}),c.jsxs("div",{className:"flex justify-center gap-4 mt-4 mb-4 text-sm text-gray-500",children:[c.jsx("button",{onClick:n,className:"hover:underline",children:"유저 회원가입"}),c.jsx("button",{onClick:e,className:"hover:underline",children:"가맹점 회원가입"}),c.jsx("button",{onClick:()=>v("/under-development"),className:"hover:underline",children:"아이디 비밀번호 찾기"})]})]})]})]})}function $5(){const n=je();return c.jsx(B5,{onSignup:()=>n("/terms"),onStoreSignup:()=>n("/store/terms")})}function qS({label:n="대표 이미지",previewLabel:e="첨부된 이미지",onChange:t,value:s}){const[r,o]=C.useState(null);C.useEffect(()=>{if(!s){o(null);return}if(typeof s=="string")o(s);else{const u=new FileReader;u.onload=d=>{var h;o((h=d.target)==null?void 0:h.result)},u.readAsDataURL(s)}},[s]);const a=u=>{if(u.target.files&&u.target.files[0]){const d=u.target.files[0];t(d);const h=new FileReader;h.onload=p=>{var g;o((g=p.target)==null?void 0:g.result)},h.readAsDataURL(d)}};return c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-3",children:n}),c.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[c.jsx("div",{className:"border border-gray-300 rounded-lg p-3 flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center text-gray-500",children:[c.jsx(UT,{className:"mr-2",size:20}),c.jsx("span",{children:"컴퓨터에서 업로드"})]})}),c.jsx("input",{id:"image-upload",type:"file",accept:"image/*",className:"hidden",onChange:a})]}),r&&c.jsxs("div",{className:"mt-1",children:[c.jsx("p",{className:"text-sm text-gray-500",children:e}),c.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden w-24 h-24",children:c.jsx("img",{src:r,alt:"업로드된 이미지 미리보기",className:"w-full h-full object-cover"})})]})]})}function Wv({label:n,type:e="text",value:t,onChange:s,placeholder:r="",isValid:o,showValidation:a=!1,showPassword:u,togglePasswordVisibility:d,className:h}){return c.jsxs("div",{className:"mb-4",children:[n&&c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:n}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:e==="password"&&u?"text":e,value:t,onChange:s,placeholder:r,className:`w-full border-b border-gray-300 py-2 focus:outline-none focus:border-blue-500 ${h}`}),a&&c.jsx("div",{className:"absolute right-8 top-2",children:c.jsx(Na,{checked:!!o})}),e==="password"&&c.jsx("button",{type:"button",onClick:d,className:"absolute right-0 top-2 text-gray-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u?c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),c.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),c.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),c.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]})})})]})]})}function Pj(n,[e,t]){return Math.min(t,Math.max(e,n))}function Wt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function XS(n,e=[]){let t=[];function s(o,a){const u=C.createContext(a),d=t.length;t=[...t,a];const h=g=>{var A;const{scope:x,children:v,...w}=g,b=((A=x==null?void 0:x[n])==null?void 0:A[d])||u,E=C.useMemo(()=>w,Object.values(w));return c.jsx(b.Provider,{value:E,children:v})};h.displayName=o+"Provider";function p(g,x){var b;const v=((b=x==null?void 0:x[n])==null?void 0:b[d])||u,w=C.useContext(v);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const r=()=>{const o=t.map(a=>C.createContext(a));return function(u){const d=(u==null?void 0:u[n])||o;return C.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return r.scopeName=n,[s,V5(r,...e)]}function V5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const a=s.reduce((u,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...u,...g}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function _j(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ZT(...n){return e=>{let t=!1;const s=n.map(r=>{const o=_j(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():_j(n[r],null)}}}}function wn(...n){return C.useCallback(ZT(...n),n)}function Bx(n){const e=z5(n),t=C.forwardRef((s,r)=>{const{children:o,...a}=s,u=C.Children.toArray(o),d=u.find(H5);if(d){const h=d.props.children,p=u.map(g=>g===d?C.Children.count(h)>1?C.Children.only(null):C.isValidElement(h)?h.props.children:null:g);return c.jsx(e,{...a,ref:r,children:C.isValidElement(h)?C.cloneElement(h,void 0,p):null})}return c.jsx(e,{...a,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function z5(n){const e=C.forwardRef((t,s)=>{const{children:r,...o}=t;if(C.isValidElement(r)){const a=G5(r),u=W5(o,r.props);return r.type!==C.Fragment&&(u.ref=s?ZT(s,a):a),C.cloneElement(r,u)}return C.Children.count(r)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var U5=Symbol("radix.slottable");function H5(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===U5}function W5(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{o(...u),r(...u)}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function G5(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function K5(n){const e=n+"CollectionProvider",[t,s]=XS(e),[r,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:E,children:A}=b,j=ls.useRef(null),k=ls.useRef(new Map).current;return c.jsx(r,{scope:E,itemMap:k,collectionRef:j,children:A})};a.displayName=e;const u=n+"CollectionSlot",d=Bx(u),h=ls.forwardRef((b,E)=>{const{scope:A,children:j}=b,k=o(u,A),P=wn(E,k.collectionRef);return c.jsx(d,{ref:P,children:j})});h.displayName=u;const p=n+"CollectionItemSlot",g="data-radix-collection-item",x=Bx(p),v=ls.forwardRef((b,E)=>{const{scope:A,children:j,...k}=b,P=ls.useRef(null),R=wn(E,P),M=o(p,A);return ls.useEffect(()=>(M.itemMap.set(P,{ref:P,...k}),()=>void M.itemMap.delete(P))),c.jsx(x,{[g]:"",ref:R,children:j})});v.displayName=p;function w(b){const E=o(n+"CollectionConsumer",b);return ls.useCallback(()=>{const j=E.collectionRef.current;if(!j)return[];const k=Array.from(j.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((M,D)=>k.indexOf(M.ref.current)-k.indexOf(D.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:h,ItemSlot:v},w,s]}var q5=C.createContext(void 0);function X5(n){const e=C.useContext(q5);return n||e||"ltr"}var Y5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=Y5.reduce((n,e)=>{const t=Bx(`Primitive.${e}`),s=C.forwardRef((r,o)=>{const{asChild:a,...u}=r,d=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(d,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function Q5(n,e){n&&Yd.flushSync(()=>n.dispatchEvent(e))}function wc(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function J5(n,e=globalThis==null?void 0:globalThis.document){const t=wc(n);C.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var Z5="DismissableLayer",Ob="dismissableLayer.update",e4="dismissableLayer.pointerDownOutside",t4="dismissableLayer.focusOutside",Rj,eP=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tP=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:a,onDismiss:u,...d}=n,h=C.useContext(eP),[p,g]=C.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=C.useState({}),w=wn(e,D=>g(D)),b=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=b.indexOf(E),j=p?b.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,P=j>=A,R=r4(D=>{const O=D.target,B=[...h.branches].some(z=>z.contains(O));!P||B||(r==null||r(D),a==null||a(D),D.defaultPrevented||u==null||u())},x),M=i4(D=>{const O=D.target;[...h.branches].some(z=>z.contains(O))||(o==null||o(D),a==null||a(D),D.defaultPrevented||u==null||u())},x);return J5(D=>{j===h.layers.size-1&&(s==null||s(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},x),C.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Rj=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Lj(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Rj)}},[p,x,t,h]),C.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Lj())},[p,h]),C.useEffect(()=>{const D=()=>v({});return document.addEventListener(Ob,D),()=>document.removeEventListener(Ob,D)},[]),c.jsx(Vt.div,{...d,ref:w,style:{pointerEvents:k?P?"auto":"none":void 0,...n.style},onFocusCapture:Wt(n.onFocusCapture,M.onFocusCapture),onBlurCapture:Wt(n.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Wt(n.onPointerDownCapture,R.onPointerDownCapture)})});tP.displayName=Z5;var n4="DismissableLayerBranch",s4=C.forwardRef((n,e)=>{const t=C.useContext(eP),s=C.useRef(null),r=wn(e,s);return C.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),c.jsx(Vt.div,{...n,ref:r})});s4.displayName=n4;function r4(n,e=globalThis==null?void 0:globalThis.document){const t=wc(n),s=C.useRef(!1),r=C.useRef(()=>{});return C.useEffect(()=>{const o=u=>{if(u.target&&!s.current){let d=function(){nP(e4,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function i4(n,e=globalThis==null?void 0:globalThis.document){const t=wc(n),s=C.useRef(!1);return C.useEffect(()=>{const r=o=>{o.target&&!s.current&&nP(t4,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Lj(){const n=new CustomEvent(Ob);document.dispatchEvent(n)}function nP(n,e,t,{discrete:s}){const r=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?Q5(r,o):r.dispatchEvent(o)}var Gv=0;function o4(){C.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Ij()),document.body.insertAdjacentElement("beforeend",n[1]??Ij()),Gv++,()=>{Gv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gv--}},[])}function Ij(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Kv="focusScope.autoFocusOnMount",qv="focusScope.autoFocusOnUnmount",Mj={bubbles:!1,cancelable:!0},a4="FocusScope",sP=C.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...a}=n,[u,d]=C.useState(null),h=wc(r),p=wc(o),g=C.useRef(null),x=wn(e,b=>d(b)),v=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(s){let b=function(k){if(v.paused||!u)return;const P=k.target;u.contains(P)?g.current=P:Vo(g.current,{select:!0})},E=function(k){if(v.paused||!u)return;const P=k.relatedTarget;P!==null&&(u.contains(P)||Vo(g.current,{select:!0}))},A=function(k){if(document.activeElement===document.body)for(const R of k)R.removedNodes.length>0&&Vo(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",E);const j=new MutationObserver(A);return u&&j.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",E),j.disconnect()}}},[s,u,v.paused]),C.useEffect(()=>{if(u){Oj.add(v);const b=document.activeElement;if(!u.contains(b)){const A=new CustomEvent(Kv,Mj);u.addEventListener(Kv,h),u.dispatchEvent(A),A.defaultPrevented||(l4(f4(rP(u)),{select:!0}),document.activeElement===b&&Vo(u))}return()=>{u.removeEventListener(Kv,h),setTimeout(()=>{const A=new CustomEvent(qv,Mj);u.addEventListener(qv,p),u.dispatchEvent(A),A.defaultPrevented||Vo(b??document.body,{select:!0}),u.removeEventListener(qv,p),Oj.remove(v)},0)}}},[u,h,p,v]);const w=C.useCallback(b=>{if(!t&&!s||v.paused)return;const E=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,A=document.activeElement;if(E&&A){const j=b.currentTarget,[k,P]=c4(j);k&&P?!b.shiftKey&&A===P?(b.preventDefault(),t&&Vo(k,{select:!0})):b.shiftKey&&A===k&&(b.preventDefault(),t&&Vo(P,{select:!0})):A===j&&b.preventDefault()}},[t,s,v.paused]);return c.jsx(Vt.div,{tabIndex:-1,...a,ref:x,onKeyDown:w})});sP.displayName=a4;function l4(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(Vo(s,{select:e}),document.activeElement!==t)return}function c4(n){const e=rP(n),t=Dj(e,n),s=Dj(e.reverse(),n);return[t,s]}function rP(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Dj(n,e){for(const t of n)if(!u4(t,{upTo:e}))return t}function u4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function d4(n){return n instanceof HTMLInputElement&&"select"in n}function Vo(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&d4(n)&&e&&n.select()}}var Oj=h4();function h4(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Fj(n,e),n.unshift(e)},remove(e){var t;n=Fj(n,e),(t=n[0])==null||t.resume()}}}function Fj(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function f4(n){return n.filter(e=>e.tagName!=="A")}var us=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},p4=dT[" useId ".trim().toString()]||(()=>{}),m4=0;function YS(n){const[e,t]=C.useState(p4());return us(()=>{t(s=>s??String(m4++))},[n]),e?`radix-${e}`:""}const g4=["top","right","bottom","left"],ka=Math.min,js=Math.max,$x=Math.round,Mg=Math.floor,hi=n=>({x:n,y:n}),x4={left:"right",right:"left",bottom:"top",top:"bottom"},y4={start:"end",end:"start"};function Fb(n,e,t){return js(n,ka(e,t))}function po(n,e){return typeof n=="function"?n(e):n}function mo(n){return n.split("-")[0]}function Jd(n){return n.split("-")[1]}function QS(n){return n==="x"?"y":"x"}function JS(n){return n==="y"?"height":"width"}function Ta(n){return["top","bottom"].includes(mo(n))?"y":"x"}function ZS(n){return QS(Ta(n))}function v4(n,e,t){t===void 0&&(t=!1);const s=Jd(n),r=ZS(n),o=JS(r);let a=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Vx(a)),[a,Vx(a)]}function b4(n){const e=Vx(n);return[Bb(n),e,Bb(e)]}function Bb(n){return n.replace(/start|end/g,e=>y4[e])}function w4(n,e,t){const s=["left","right"],r=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:s:e?s:r;case"left":case"right":return e?o:a;default:return[]}}function S4(n,e,t,s){const r=Jd(n);let o=w4(mo(n),t==="start",s);return r&&(o=o.map(a=>a+"-"+r),e&&(o=o.concat(o.map(Bb)))),o}function Vx(n){return n.replace(/left|right|bottom|top/g,e=>x4[e])}function A4(n){return{top:0,right:0,bottom:0,left:0,...n}}function iP(n){return typeof n!="number"?A4(n):{top:n,right:n,bottom:n,left:n}}function zx(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function Bj(n,e,t){let{reference:s,floating:r}=n;const o=Ta(e),a=ZS(e),u=JS(a),d=mo(e),h=o==="y",p=s.x+s.width/2-r.width/2,g=s.y+s.height/2-r.height/2,x=s[u]/2-r[u]/2;let v;switch(d){case"top":v={x:p,y:s.y-r.height};break;case"bottom":v={x:p,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:g};break;case"left":v={x:s.x-r.width,y:g};break;default:v={x:s.x,y:s.y}}switch(Jd(e)){case"start":v[a]-=x*(t&&h?-1:1);break;case"end":v[a]+=x*(t&&h?-1:1);break}return v}const C4=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:a}=t,u=o.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:r}),{x:p,y:g}=Bj(h,s,d),x=s,v={},w=0;for(let b=0;b<u.length;b++){const{name:E,fn:A}=u[b],{x:j,y:k,data:P,reset:R}=await A({x:p,y:g,initialPlacement:s,placement:x,strategy:r,middlewareData:v,rects:h,platform:a,elements:{reference:n,floating:e}});p=j??p,g=k??g,v={...v,[E]:{...v[E],...P}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(x=R.placement),R.rects&&(h=R.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:r}):R.rects),{x:p,y:g}=Bj(h,x,d)),b=-1)}return{x:p,y:g,placement:x,strategy:r,middlewareData:v}};async function Rf(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:o,rects:a,elements:u,strategy:d}=n,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:x=!1,padding:v=0}=po(e,n),w=iP(v),E=u[x?g==="floating"?"reference":"floating":g],A=zx(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(E)))==null||t?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),j=g==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),P=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},R=zx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:k,strategy:d}):j);return{top:(A.top-R.top+w.top)/P.y,bottom:(R.bottom-A.bottom+w.bottom)/P.y,left:(A.left-R.left+w.left)/P.x,right:(R.right-A.right+w.right)/P.x}}const E4=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:o,platform:a,elements:u,middlewareData:d}=e,{element:h,padding:p=0}=po(n,e)||{};if(h==null)return{};const g=iP(p),x={x:t,y:s},v=ZS(r),w=JS(v),b=await a.getDimensions(h),E=v==="y",A=E?"top":"left",j=E?"bottom":"right",k=E?"clientHeight":"clientWidth",P=o.reference[w]+o.reference[v]-x[v]-o.floating[w],R=x[v]-o.reference[v],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let D=M?M[k]:0;(!D||!await(a.isElement==null?void 0:a.isElement(M)))&&(D=u.floating[k]||o.floating[w]);const O=P/2-R/2,B=D/2-b[w]/2-1,z=ka(g[A],B),K=ka(g[j],B),X=z,ee=D-b[w]-K,J=D/2-b[w]/2+O,ae=Fb(X,J,ee),Y=!d.arrow&&Jd(r)!=null&&J!==ae&&o.reference[w]/2-(J<X?z:K)-b[w]/2<0,G=Y?J<X?J-X:J-ee:0;return{[v]:x[v]+G,data:{[v]:ae,centerOffset:J-ae-G,...Y&&{alignmentOffset:G}},reset:Y}}}),j4=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:o,rects:a,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...E}=po(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const A=mo(r),j=Ta(u),k=mo(u)===u,P=await(d.isRTL==null?void 0:d.isRTL(h.floating)),R=x||(k||!b?[Vx(u)]:b4(u)),M=w!=="none";!x&&M&&R.push(...S4(u,b,w,P));const D=[u,...R],O=await Rf(e,E),B=[];let z=((s=o.flip)==null?void 0:s.overflows)||[];if(p&&B.push(O[A]),g){const J=v4(r,a,P);B.push(O[J[0]],O[J[1]])}if(z=[...z,{placement:r,overflows:B}],!B.every(J=>J<=0)){var K,X;const J=(((K=o.flip)==null?void 0:K.index)||0)+1,ae=D[J];if(ae)return{data:{index:J,overflows:z},reset:{placement:ae}};let Y=(X=z.filter(G=>G.overflows[0]<=0).sort((G,H)=>G.overflows[1]-H.overflows[1])[0])==null?void 0:X.placement;if(!Y)switch(v){case"bestFit":{var ee;const G=(ee=z.filter(H=>{if(M){const te=Ta(H.placement);return te===j||te==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(te=>te>0).reduce((te,ne)=>te+ne,0)]).sort((H,te)=>H[1]-te[1])[0])==null?void 0:ee[0];G&&(Y=G);break}case"initialPlacement":Y=u;break}if(r!==Y)return{reset:{placement:Y}}}return{}}}};function $j(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Vj(n){return g4.some(e=>n[e]>=0)}const N4=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=po(n,e);switch(s){case"referenceHidden":{const o=await Rf(e,{...r,elementContext:"reference"}),a=$j(o,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Vj(a)}}}case"escaped":{const o=await Rf(e,{...r,altBoundary:!0}),a=$j(o,t.floating);return{data:{escapedOffsets:a,escaped:Vj(a)}}}default:return{}}}}};async function k4(n,e){const{placement:t,platform:s,elements:r}=n,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=mo(t),u=Jd(t),d=Ta(t)==="y",h=["left","top"].includes(a)?-1:1,p=o&&d?-1:1,g=po(e,n);let{mainAxis:x,crossAxis:v,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof w=="number"&&(v=u==="end"?w*-1:w),d?{x:v*p,y:x*h}:{x:x*h,y:v*p}}const T4=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:o,placement:a,middlewareData:u}=e,d=await k4(e,n);return a===((t=u.offset)==null?void 0:t.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:r+d.x,y:o+d.y,data:{...d,placement:a}}}}},P4=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:E=>{let{x:A,y:j}=E;return{x:A,y:j}}},...d}=po(n,e),h={x:t,y:s},p=await Rf(e,d),g=Ta(mo(r)),x=QS(g);let v=h[x],w=h[g];if(o){const E=x==="y"?"top":"left",A=x==="y"?"bottom":"right",j=v+p[E],k=v-p[A];v=Fb(j,v,k)}if(a){const E=g==="y"?"top":"left",A=g==="y"?"bottom":"right",j=w+p[E],k=w-p[A];w=Fb(j,w,k)}const b=u.fn({...e,[x]:v,[g]:w});return{...b,data:{x:b.x-t,y:b.y-s,enabled:{[x]:o,[g]:a}}}}}},_4=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:o,middlewareData:a}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=po(n,e),p={x:t,y:s},g=Ta(r),x=QS(g);let v=p[x],w=p[g];const b=po(u,e),E=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const k=x==="y"?"height":"width",P=o.reference[x]-o.floating[k]+E.mainAxis,R=o.reference[x]+o.reference[k]-E.mainAxis;v<P?v=P:v>R&&(v=R)}if(h){var A,j;const k=x==="y"?"width":"height",P=["top","left"].includes(mo(r)),R=o.reference[g]-o.floating[k]+(P&&((A=a.offset)==null?void 0:A[g])||0)+(P?0:E.crossAxis),M=o.reference[g]+o.reference[k]+(P?0:((j=a.offset)==null?void 0:j[g])||0)-(P?E.crossAxis:0);w<R?w=R:w>M&&(w=M)}return{[x]:v,[g]:w}}}},R4=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:o,platform:a,elements:u}=e,{apply:d=()=>{},...h}=po(n,e),p=await Rf(e,h),g=mo(r),x=Jd(r),v=Ta(r)==="y",{width:w,height:b}=o.floating;let E,A;g==="top"||g==="bottom"?(E=g,A=x===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(A=g,E=x==="end"?"top":"bottom");const j=b-p.top-p.bottom,k=w-p.left-p.right,P=ka(b-p[E],j),R=ka(w-p[A],k),M=!e.middlewareData.shift;let D=P,O=R;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(O=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(D=j),M&&!x){const z=js(p.left,0),K=js(p.right,0),X=js(p.top,0),ee=js(p.bottom,0);v?O=w-2*(z!==0||K!==0?z+K:js(p.left,p.right)):D=b-2*(X!==0||ee!==0?X+ee:js(p.top,p.bottom))}await d({...e,availableWidth:O,availableHeight:D});const B=await a.getDimensions(u.floating);return w!==B.width||b!==B.height?{reset:{rects:!0}}:{}}}};function Cy(){return typeof window<"u"}function Zd(n){return oP(n)?(n.nodeName||"").toLowerCase():"#document"}function Ts(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function gi(n){var e;return(e=(oP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function oP(n){return Cy()?n instanceof Node||n instanceof Ts(n).Node:!1}function _r(n){return Cy()?n instanceof Element||n instanceof Ts(n).Element:!1}function mi(n){return Cy()?n instanceof HTMLElement||n instanceof Ts(n).HTMLElement:!1}function zj(n){return!Cy()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ts(n).ShadowRoot}function cm(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=Rr(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(r)}function L4(n){return["table","td","th"].includes(Zd(n))}function Ey(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function e1(n){const e=t1(),t=_r(n)?Rr(n):n;return["transform","translate","scale","rotate","perspective"].some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function I4(n){let e=Pa(n);for(;mi(e)&&!zd(e);){if(e1(e))return e;if(Ey(e))return null;e=Pa(e)}return null}function t1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zd(n){return["html","body","#document"].includes(Zd(n))}function Rr(n){return Ts(n).getComputedStyle(n)}function jy(n){return _r(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Pa(n){if(Zd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||zj(n)&&n.host||gi(n);return zj(e)?e.host:e}function aP(n){const e=Pa(n);return zd(e)?n.ownerDocument?n.ownerDocument.body:n.body:mi(e)&&cm(e)?e:aP(e)}function Lf(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=aP(n),o=r===((s=n.ownerDocument)==null?void 0:s.body),a=Ts(r);if(o){const u=$b(a);return e.concat(a,a.visualViewport||[],cm(r)?r:[],u&&t?Lf(u):[])}return e.concat(r,Lf(r,[],t))}function $b(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function lP(n){const e=Rr(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=mi(n),o=r?n.offsetWidth:t,a=r?n.offsetHeight:s,u=$x(t)!==o||$x(s)!==a;return u&&(t=o,s=a),{width:t,height:s,$:u}}function n1(n){return _r(n)?n:n.contextElement}function Cu(n){const e=n1(n);if(!mi(e))return hi(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:o}=lP(e);let a=(o?$x(t.width):t.width)/s,u=(o?$x(t.height):t.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const M4=hi(0);function cP(n){const e=Ts(n);return!t1()||!e.visualViewport?M4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D4(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ts(n)?!1:e}function Sc(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=n1(n);let a=hi(1);e&&(s?_r(s)&&(a=Cu(s)):a=Cu(n));const u=D4(o,t,s)?cP(o):hi(0);let d=(r.left+u.x)/a.x,h=(r.top+u.y)/a.y,p=r.width/a.x,g=r.height/a.y;if(o){const x=Ts(o),v=s&&_r(s)?Ts(s):s;let w=x,b=$b(w);for(;b&&s&&v!==w;){const E=Cu(b),A=b.getBoundingClientRect(),j=Rr(b),k=A.left+(b.clientLeft+parseFloat(j.paddingLeft))*E.x,P=A.top+(b.clientTop+parseFloat(j.paddingTop))*E.y;d*=E.x,h*=E.y,p*=E.x,g*=E.y,d+=k,h+=P,w=Ts(b),b=$b(w)}}return zx({width:p,height:g,x:d,y:h})}function s1(n,e){const t=jy(n).scrollLeft;return e?e.left+t:Sc(gi(n)).left+t}function uP(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),r=s.left+e.scrollLeft-(t?0:s1(n,s)),o=s.top+e.scrollTop;return{x:r,y:o}}function O4(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const o=r==="fixed",a=gi(s),u=e?Ey(e.floating):!1;if(s===a||u&&o)return t;let d={scrollLeft:0,scrollTop:0},h=hi(1);const p=hi(0),g=mi(s);if((g||!g&&!o)&&((Zd(s)!=="body"||cm(a))&&(d=jy(s)),mi(s))){const v=Sc(s);h=Cu(s),p.x=v.x+s.clientLeft,p.y=v.y+s.clientTop}const x=a&&!g&&!o?uP(a,d,!0):hi(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-d.scrollLeft*h.x+p.x+x.x,y:t.y*h.y-d.scrollTop*h.y+p.y+x.y}}function F4(n){return Array.from(n.getClientRects())}function B4(n){const e=gi(n),t=jy(n),s=n.ownerDocument.body,r=js(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=js(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-t.scrollLeft+s1(n);const u=-t.scrollTop;return Rr(s).direction==="rtl"&&(a+=js(e.clientWidth,s.clientWidth)-r),{width:r,height:o,x:a,y:u}}function $4(n,e){const t=Ts(n),s=gi(n),r=t.visualViewport;let o=s.clientWidth,a=s.clientHeight,u=0,d=0;if(r){o=r.width,a=r.height;const h=t1();(!h||h&&e==="fixed")&&(u=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:u,y:d}}function V4(n,e){const t=Sc(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,o=mi(n)?Cu(n):hi(1),a=n.clientWidth*o.x,u=n.clientHeight*o.y,d=r*o.x,h=s*o.y;return{width:a,height:u,x:d,y:h}}function Uj(n,e,t){let s;if(e==="viewport")s=$4(n,t);else if(e==="document")s=B4(gi(n));else if(_r(e))s=V4(e,t);else{const r=cP(n);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return zx(s)}function dP(n,e){const t=Pa(n);return t===e||!_r(t)||zd(t)?!1:Rr(t).position==="fixed"||dP(t,e)}function z4(n,e){const t=e.get(n);if(t)return t;let s=Lf(n,[],!1).filter(u=>_r(u)&&Zd(u)!=="body"),r=null;const o=Rr(n).position==="fixed";let a=o?Pa(n):n;for(;_r(a)&&!zd(a);){const u=Rr(a),d=e1(a);!d&&u.position==="fixed"&&(r=null),(o?!d&&!r:!d&&u.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||cm(a)&&!d&&dP(n,a))?s=s.filter(p=>p!==a):r=u,a=Pa(a)}return e.set(n,s),s}function U4(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const a=[...t==="clippingAncestors"?Ey(e)?[]:z4(e,this._c):[].concat(t),s],u=a[0],d=a.reduce((h,p)=>{const g=Uj(e,p,r);return h.top=js(g.top,h.top),h.right=ka(g.right,h.right),h.bottom=ka(g.bottom,h.bottom),h.left=js(g.left,h.left),h},Uj(e,u,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function H4(n){const{width:e,height:t}=lP(n);return{width:e,height:t}}function W4(n,e,t){const s=mi(e),r=gi(e),o=t==="fixed",a=Sc(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=hi(0);if(s||!s&&!o)if((Zd(e)!=="body"||cm(r))&&(u=jy(e)),s){const x=Sc(e,!0,o,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else r&&(d.x=s1(r));const h=r&&!s&&!o?uP(r,u):hi(0),p=a.left+u.scrollLeft-d.x-h.x,g=a.top+u.scrollTop-d.y-h.y;return{x:p,y:g,width:a.width,height:a.height}}function Xv(n){return Rr(n).position==="static"}function Hj(n,e){if(!mi(n)||Rr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return gi(n)===t&&(t=t.ownerDocument.body),t}function hP(n,e){const t=Ts(n);if(Ey(n))return t;if(!mi(n)){let r=Pa(n);for(;r&&!zd(r);){if(_r(r)&&!Xv(r))return r;r=Pa(r)}return t}let s=Hj(n,e);for(;s&&L4(s)&&Xv(s);)s=Hj(s,e);return s&&zd(s)&&Xv(s)&&!e1(s)?t:s||I4(n)||t}const G4=async function(n){const e=this.getOffsetParent||hP,t=this.getDimensions,s=await t(n.floating);return{reference:W4(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function K4(n){return Rr(n).direction==="rtl"}const q4={convertOffsetParentRelativeRectToViewportRelativeRect:O4,getDocumentElement:gi,getClippingRect:U4,getOffsetParent:hP,getElementRects:G4,getClientRects:F4,getDimensions:H4,getScale:Cu,isElement:_r,isRTL:K4};function fP(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function X4(n,e){let t=null,s;const r=gi(n);function o(){var u;clearTimeout(s),(u=t)==null||u.disconnect(),t=null}function a(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=n.getBoundingClientRect(),{left:p,top:g,width:x,height:v}=h;if(u||e(),!x||!v)return;const w=Mg(g),b=Mg(r.clientWidth-(p+x)),E=Mg(r.clientHeight-(g+v)),A=Mg(p),k={rootMargin:-w+"px "+-b+"px "+-E+"px "+-A+"px",threshold:js(0,ka(1,d))||1};let P=!0;function R(M){const D=M[0].intersectionRatio;if(D!==d){if(!P)return a();D?a(!1,D):s=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!fP(h,n.getBoundingClientRect())&&a(),P=!1}try{t=new IntersectionObserver(R,{...k,root:r.ownerDocument})}catch{t=new IntersectionObserver(R,k)}t.observe(n)}return a(!0),o}function Y4(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=n1(n),p=r||o?[...h?Lf(h):[],...Lf(e)]:[];p.forEach(A=>{r&&A.addEventListener("scroll",t,{passive:!0}),o&&A.addEventListener("resize",t)});const g=h&&u?X4(h,t):null;let x=-1,v=null;a&&(v=new ResizeObserver(A=>{let[j]=A;j&&j.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=v)==null||k.observe(e)})),t()}),h&&!d&&v.observe(h),v.observe(e));let w,b=d?Sc(n):null;d&&E();function E(){const A=Sc(n);b&&!fP(b,A)&&t(),b=A,w=requestAnimationFrame(E)}return t(),()=>{var A;p.forEach(j=>{r&&j.removeEventListener("scroll",t),o&&j.removeEventListener("resize",t)}),g==null||g(),(A=v)==null||A.disconnect(),v=null,d&&cancelAnimationFrame(w)}}const Q4=T4,J4=P4,Z4=j4,eB=R4,tB=N4,Wj=E4,nB=_4,sB=(n,e,t)=>{const s=new Map,r={platform:q4,...t},o={...r.platform,_c:s};return C4(n,e,{...r,platform:o})};var Jg=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Ux(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Ux(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const o=r[s];if(!(o==="_owner"&&n.$$typeof)&&!Ux(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function pP(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Gj(n,e){const t=pP(n);return Math.round(e*t)/t}function Yv(n){const e=C.useRef(n);return Jg(()=>{e.current=n}),e}function rB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:o,floating:a}={},transform:u=!0,whileElementsMounted:d,open:h}=n,[p,g]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,v]=C.useState(s);Ux(x,s)||v(s);const[w,b]=C.useState(null),[E,A]=C.useState(null),j=C.useCallback(H=>{H!==M.current&&(M.current=H,b(H))},[]),k=C.useCallback(H=>{H!==D.current&&(D.current=H,A(H))},[]),P=o||w,R=a||E,M=C.useRef(null),D=C.useRef(null),O=C.useRef(p),B=d!=null,z=Yv(d),K=Yv(r),X=Yv(h),ee=C.useCallback(()=>{if(!M.current||!D.current)return;const H={placement:e,strategy:t,middleware:x};K.current&&(H.platform=K.current),sB(M.current,D.current,H).then(te=>{const ne={...te,isPositioned:X.current!==!1};J.current&&!Ux(O.current,ne)&&(O.current=ne,Yd.flushSync(()=>{g(ne)}))})},[x,e,t,K,X]);Jg(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[h]);const J=C.useRef(!1);Jg(()=>(J.current=!0,()=>{J.current=!1}),[]),Jg(()=>{if(P&&(M.current=P),R&&(D.current=R),P&&R){if(z.current)return z.current(P,R,ee);ee()}},[P,R,ee,z,B]);const ae=C.useMemo(()=>({reference:M,floating:D,setReference:j,setFloating:k}),[j,k]),Y=C.useMemo(()=>({reference:P,floating:R}),[P,R]),G=C.useMemo(()=>{const H={position:t,left:0,top:0};if(!Y.floating)return H;const te=Gj(Y.floating,p.x),ne=Gj(Y.floating,p.y);return u?{...H,transform:"translate("+te+"px, "+ne+"px)",...pP(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:ne}},[t,u,Y.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:ee,refs:ae,elements:Y,floatingStyles:G}),[p,ee,ae,Y,G])}const iB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?Wj({element:s.current,padding:r}).fn(t):{}:s?Wj({element:s,padding:r}).fn(t):{}}}},oB=(n,e)=>({...Q4(n),options:[n,e]}),aB=(n,e)=>({...J4(n),options:[n,e]}),lB=(n,e)=>({...nB(n),options:[n,e]}),cB=(n,e)=>({...Z4(n),options:[n,e]}),uB=(n,e)=>({...eB(n),options:[n,e]}),dB=(n,e)=>({...tB(n),options:[n,e]}),hB=(n,e)=>({...iB(n),options:[n,e]});var fB="Arrow",mP=C.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...o}=n;return c.jsx(Vt.svg,{...o,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});mP.displayName=fB;var pB=mP;function mB(n){const[e,t]=C.useState(void 0);return us(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const o=r[0];let a,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;a=h.inlineSize,u=h.blockSize}else a=n.offsetWidth,u=n.offsetHeight;t({width:a,height:u})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var r1="Popper",[gP,xP]=XS(r1),[gB,yP]=gP(r1),vP=n=>{const{__scopePopper:e,children:t}=n,[s,r]=C.useState(null);return c.jsx(gB,{scope:e,anchor:s,onAnchorChange:r,children:t})};vP.displayName=r1;var bP="PopperAnchor",wP=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,o=yP(bP,t),a=C.useRef(null),u=wn(e,a);return C.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:c.jsx(Vt.div,{...r,ref:u})});wP.displayName=bP;var i1="PopperContent",[xB,yB]=gP(i1),SP=C.forwardRef((n,e)=>{var re,pe,Ee,ge,ze,Ge;const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:o="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:w,...b}=n,E=yP(i1,t),[A,j]=C.useState(null),k=wn(e,Re=>j(Re)),[P,R]=C.useState(null),M=mB(P),D=(M==null?void 0:M.width)??0,O=(M==null?void 0:M.height)??0,B=s+(o!=="center"?"-"+o:""),z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},K=Array.isArray(h)?h:[h],X=K.length>0,ee={padding:z,boundary:K.filter(bB),altBoundary:X},{refs:J,floatingStyles:ae,placement:Y,isPositioned:G,middlewareData:H}=rB({strategy:"fixed",placement:B,whileElementsMounted:(...Re)=>Y4(...Re,{animationFrame:v==="always"}),elements:{reference:E.anchor},middleware:[oB({mainAxis:r+O,alignmentAxis:a}),d&&aB({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?lB():void 0,...ee}),d&&cB({...ee}),uB({...ee,apply:({elements:Re,rects:qe,availableWidth:mt,availableHeight:ct})=>{const{width:Sn,height:Mr}=qe.reference,Dr=Re.floating.style;Dr.setProperty("--radix-popper-available-width",`${mt}px`),Dr.setProperty("--radix-popper-available-height",`${ct}px`),Dr.setProperty("--radix-popper-anchor-width",`${Sn}px`),Dr.setProperty("--radix-popper-anchor-height",`${Mr}px`)}}),P&&hB({element:P,padding:u}),wB({arrowWidth:D,arrowHeight:O}),x&&dB({strategy:"referenceHidden",...ee})]}),[te,ne]=EP(Y),V=wc(w);us(()=>{G&&(V==null||V())},[G,V]);const Z=(re=H.arrow)==null?void 0:re.x,de=(pe=H.arrow)==null?void 0:pe.y,be=((Ee=H.arrow)==null?void 0:Ee.centerOffset)!==0,[Te,ye]=C.useState();return us(()=>{A&&ye(window.getComputedStyle(A).zIndex)},[A]),c.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:G?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(ge=H.transformOrigin)==null?void 0:ge.x,(ze=H.transformOrigin)==null?void 0:ze.y].join(" "),...((Ge=H.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:c.jsx(xB,{scope:t,placedSide:te,onArrowChange:R,arrowX:Z,arrowY:de,shouldHideArrow:be,children:c.jsx(Vt.div,{"data-side":te,"data-align":ne,...b,ref:k,style:{...b.style,animation:G?void 0:"none"}})})})});SP.displayName=i1;var AP="PopperArrow",vB={top:"bottom",right:"left",bottom:"top",left:"right"},CP=C.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,o=yB(AP,s),a=vB[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(pB,{...r,ref:t,style:{...r.style,display:"block"}})})});CP.displayName=AP;function bB(n){return n!==null}var wB=n=>({name:"transformOrigin",options:n,fn(e){var E,A,j;const{placement:t,rects:s,middlewareData:r}=e,a=((E=r.arrow)==null?void 0:E.centerOffset)!==0,u=a?0:n.arrowWidth,d=a?0:n.arrowHeight,[h,p]=EP(t),g={start:"0%",center:"50%",end:"100%"}[p],x=(((A=r.arrow)==null?void 0:A.x)??0)+u/2,v=(((j=r.arrow)==null?void 0:j.y)??0)+d/2;let w="",b="";return h==="bottom"?(w=a?g:`${x}px`,b=`${-d}px`):h==="top"?(w=a?g:`${x}px`,b=`${s.floating.height+d}px`):h==="right"?(w=`${-d}px`,b=a?g:`${v}px`):h==="left"&&(w=`${s.floating.width+d}px`,b=a?g:`${v}px`),{data:{x:w,y:b}}}});function EP(n){const[e,t="center"]=n.split("-");return[e,t]}var SB=vP,AB=wP,CB=SP,EB=CP,jB="Portal",jP=C.forwardRef((n,e)=>{var u;const{container:t,...s}=n,[r,o]=C.useState(!1);us(()=>o(!0),[]);const a=t||r&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?QF.createPortal(c.jsx(Vt.div,{...s,ref:e}),a):null});jP.displayName=jB;var NB=dT[" useInsertionEffect ".trim().toString()]||us;function Kj({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[r,o,a]=kB({defaultProp:e,onChange:t}),u=n!==void 0,d=u?n:r;{const p=C.useRef(n!==void 0);C.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,s])}const h=C.useCallback(p=>{var g;if(u){const x=TB(p)?p(n):p;x!==n&&((g=a.current)==null||g.call(a,x))}else o(p)},[u,n,o,a]);return[d,h]}function kB({defaultProp:n,onChange:e}){const[t,s]=C.useState(n),r=C.useRef(t),o=C.useRef(e);return NB(()=>{o.current=e},[e]),C.useEffect(()=>{var a;r.current!==t&&((a=o.current)==null||a.call(o,t),r.current=t)},[t,r]),[t,s,o]}function TB(n){return typeof n=="function"}function PB(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var NP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_B="VisuallyHidden",RB=C.forwardRef((n,e)=>c.jsx(Vt.span,{...n,ref:e,style:{...NP,...n.style}}));RB.displayName=_B;var LB=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},iu=new WeakMap,Dg=new WeakMap,Og={},Qv=0,kP=function(n){return n&&(n.host||kP(n.parentNode))},IB=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=kP(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},MB=function(n,e,t,s){var r=IB(e,Array.isArray(n)?n:[n]);Og[t]||(Og[t]=new WeakMap);var o=Og[t],a=[],u=new Set,d=new Set(r),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};r.forEach(h);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))p(x);else try{var v=x.getAttribute(s),w=v!==null&&v!=="false",b=(iu.get(x)||0)+1,E=(o.get(x)||0)+1;iu.set(x,b),o.set(x,E),a.push(x),b===1&&w&&Dg.set(x,!0),E===1&&x.setAttribute(t,"true"),w||x.setAttribute(s,"true")}catch(A){console.error("aria-hidden: cannot operate on ",x,A)}})};return p(e),u.clear(),Qv++,function(){a.forEach(function(g){var x=iu.get(g)-1,v=o.get(g)-1;iu.set(g,x),o.set(g,v),x||(Dg.has(g)||g.removeAttribute(s),Dg.delete(g)),v||g.removeAttribute(t)}),Qv--,Qv||(iu=new WeakMap,iu=new WeakMap,Dg=new WeakMap,Og={})}},DB=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),r=LB(n);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),MB(s,r,t,"aria-hidden")):function(){return null}},di=function(){return di=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},di.apply(this,arguments)};function TP(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t}function OB(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))}var Zg="right-scroll-bar-position",ex="width-before-scroll-bar",FB="with-scroll-bars-hidden",BB="--removed-body-scroll-bar-size";function Jv(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function $B(n,e){var t=C.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var r=t.value;r!==s&&(t.value=s,t.callback(s,r))}}}})[0];return t.callback=e,t.facade}var VB=typeof window<"u"?C.useLayoutEffect:C.useEffect,qj=new WeakMap;function zB(n,e){var t=$B(null,function(s){return n.forEach(function(r){return Jv(r,s)})});return VB(function(){var s=qj.get(t);if(s){var r=new Set(s),o=new Set(n),a=t.current;r.forEach(function(u){o.has(u)||Jv(u,null)}),o.forEach(function(u){r.has(u)||Jv(u,a)})}qj.set(t,n)},[n]),t}function UB(n){return n}function HB(n,e){e===void 0&&(e=UB);var t=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var a=e(o,s);return t.push(a),function(){t=t.filter(function(u){return u!==a})}},assignSyncMedium:function(o){for(s=!0;t.length;){var a=t;t=[],a.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){s=!0;var a=[];if(t.length){var u=t;t=[],u.forEach(o),a=t}var d=function(){var p=a;a=[],p.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),t={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),t}}}};return r}function WB(n){n===void 0&&(n={});var e=HB(null);return e.options=di({async:!0,ssr:!1},n),e}var PP=function(n){var e=n.sideCar,t=TP(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return C.createElement(s,di({},t))};PP.isSideCarExport=!0;function GB(n,e){return n.useMedium(e),PP}var _P=WB(),Zv=function(){},Ny=C.forwardRef(function(n,e){var t=C.useRef(null),s=C.useState({onScrollCapture:Zv,onWheelCapture:Zv,onTouchMoveCapture:Zv}),r=s[0],o=s[1],a=n.forwardProps,u=n.children,d=n.className,h=n.removeScrollBar,p=n.enabled,g=n.shards,x=n.sideCar,v=n.noIsolation,w=n.inert,b=n.allowPinchZoom,E=n.as,A=E===void 0?"div":E,j=n.gapMode,k=TP(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,R=zB([t,e]),M=di(di({},k),r);return C.createElement(C.Fragment,null,p&&C.createElement(P,{sideCar:_P,removeScrollBar:h,shards:g,noIsolation:v,inert:w,setCallbacks:o,allowPinchZoom:!!b,lockRef:t,gapMode:j}),a?C.cloneElement(C.Children.only(u),di(di({},M),{ref:R})):C.createElement(A,di({},M,{className:d,ref:R}),u))});Ny.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ny.classNames={fullWidth:ex,zeroRight:Zg};var KB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qB(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=KB();return e&&n.setAttribute("nonce",e),n}function XB(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function YB(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var QB=function(){var n=0,e=null;return{add:function(t){n==0&&(e=qB())&&(XB(e,t),YB(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},JB=function(){var n=QB();return function(e,t){C.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},RP=function(){var n=JB(),e=function(t){var s=t.styles,r=t.dynamic;return n(s,r),null};return e},ZB={left:0,top:0,right:0,gap:0},eb=function(n){return parseInt(n||"",10)||0},e$=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[eb(t),eb(s),eb(r)]},t$=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return ZB;var e=e$(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},n$=RP(),Eu="data-scroll-locked",s$=function(n,e,t,s){var r=n.left,o=n.top,a=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(FB,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Eu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zg,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(ex,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Eu,`] {
    `).concat(BB,": ").concat(u,`px;
  }
`)},Xj=function(){var n=parseInt(document.body.getAttribute(Eu)||"0",10);return isFinite(n)?n:0},r$=function(){C.useEffect(function(){return document.body.setAttribute(Eu,(Xj()+1).toString()),function(){var n=Xj()-1;n<=0?document.body.removeAttribute(Eu):document.body.setAttribute(Eu,n.toString())}},[])},i$=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,r=s===void 0?"margin":s;r$();var o=C.useMemo(function(){return t$(r)},[r]);return C.createElement(n$,{styles:s$(o,!e,r,t?"":"!important")})},Vb=!1;if(typeof window<"u")try{var Fg=Object.defineProperty({},"passive",{get:function(){return Vb=!0,!0}});window.addEventListener("test",Fg,Fg),window.removeEventListener("test",Fg,Fg)}catch{Vb=!1}var ou=Vb?{passive:!1}:!1,o$=function(n){return n.tagName==="TEXTAREA"},LP=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!o$(n)&&t[e]==="visible")},a$=function(n){return LP(n,"overflowY")},l$=function(n){return LP(n,"overflowX")},Yj=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=IP(n,s);if(r){var o=MP(n,s),a=o[1],u=o[2];if(a>u)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},c$=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},u$=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},IP=function(n,e){return n==="v"?a$(e):l$(e)},MP=function(n,e){return n==="v"?c$(e):u$(e)},d$=function(n,e){return n==="h"&&e==="rtl"?-1:1},h$=function(n,e,t,s,r){var o=d$(n,window.getComputedStyle(e).direction),a=o*s,u=t.target,d=e.contains(u),h=!1,p=a>0,g=0,x=0;do{var v=MP(n,u),w=v[0],b=v[1],E=v[2],A=b-E-o*w;(w||A)&&IP(n,u)&&(g+=A,x+=w),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(x)<1)&&(h=!0),h},Bg=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Qj=function(n){return[n.deltaX,n.deltaY]},Jj=function(n){return n&&"current"in n?n.current:n},f$=function(n,e){return n[0]===e[0]&&n[1]===e[1]},p$=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},m$=0,au=[];function g$(n){var e=C.useRef([]),t=C.useRef([0,0]),s=C.useRef(),r=C.useState(m$++)[0],o=C.useState(RP)[0],a=C.useRef(n);C.useEffect(function(){a.current=n},[n]),C.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var b=OB([n.lockRef.current],(n.shards||[]).map(Jj),!0).filter(Boolean);return b.forEach(function(E){return E.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),b.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var u=C.useCallback(function(b,E){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var A=Bg(b),j=t.current,k="deltaX"in b?b.deltaX:j[0]-A[0],P="deltaY"in b?b.deltaY:j[1]-A[1],R,M=b.target,D=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in b&&D==="h"&&M.type==="range")return!1;var O=Yj(D,M);if(!O)return!0;if(O?R=D:(R=D==="v"?"h":"v",O=Yj(D,M)),!O)return!1;if(!s.current&&"changedTouches"in b&&(k||P)&&(s.current=R),!R)return!0;var B=s.current||R;return h$(B,E,b,B==="h"?k:P)},[]),d=C.useCallback(function(b){var E=b;if(!(!au.length||au[au.length-1]!==o)){var A="deltaY"in E?Qj(E):Bg(E),j=e.current.filter(function(R){return R.name===E.type&&(R.target===E.target||E.target===R.shadowParent)&&f$(R.delta,A)})[0];if(j&&j.should){E.cancelable&&E.preventDefault();return}if(!j){var k=(a.current.shards||[]).map(Jj).filter(Boolean).filter(function(R){return R.contains(E.target)}),P=k.length>0?u(E,k[0]):!a.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),h=C.useCallback(function(b,E,A,j){var k={name:b,delta:E,target:A,should:j,shadowParent:x$(A)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(P){return P!==k})},1)},[]),p=C.useCallback(function(b){t.current=Bg(b),s.current=void 0},[]),g=C.useCallback(function(b){h(b.type,Qj(b),b.target,u(b,n.lockRef.current))},[]),x=C.useCallback(function(b){h(b.type,Bg(b),b.target,u(b,n.lockRef.current))},[]);C.useEffect(function(){return au.push(o),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",d,ou),document.addEventListener("touchmove",d,ou),document.addEventListener("touchstart",p,ou),function(){au=au.filter(function(b){return b!==o}),document.removeEventListener("wheel",d,ou),document.removeEventListener("touchmove",d,ou),document.removeEventListener("touchstart",p,ou)}},[]);var v=n.removeScrollBar,w=n.inert;return C.createElement(C.Fragment,null,w?C.createElement(o,{styles:p$(r)}):null,v?C.createElement(i$,{gapMode:n.gapMode}):null)}function x$(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const y$=GB(_P,g$);var DP=C.forwardRef(function(n,e){return C.createElement(Ny,di({},n,{ref:e,sideCar:y$}))});DP.classNames=Ny.classNames;var v$=[" ","Enter","ArrowUp","ArrowDown"],b$=[" ","Enter"],Ac="Select",[ky,Ty,w$]=K5(Ac),[eh,W9]=XS(Ac,[w$,xP]),Py=xP(),[S$,Fa]=eh(Ac),[A$,C$]=eh(Ac),OP=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:r,onOpenChange:o,value:a,defaultValue:u,onValueChange:d,dir:h,name:p,autoComplete:g,disabled:x,required:v,form:w}=n,b=Py(e),[E,A]=C.useState(null),[j,k]=C.useState(null),[P,R]=C.useState(!1),M=X5(h),[D,O]=Kj({prop:s,defaultProp:r??!1,onChange:o,caller:Ac}),[B,z]=Kj({prop:a,defaultProp:u,onChange:d,caller:Ac}),K=C.useRef(null),X=E?w||!!E.closest("form"):!0,[ee,J]=C.useState(new Set),ae=Array.from(ee).map(Y=>Y.props.value).join(";");return c.jsx(SB,{...b,children:c.jsxs(S$,{required:v,scope:e,trigger:E,onTriggerChange:A,valueNode:j,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:R,contentId:YS(),value:B,onValueChange:z,open:D,onOpenChange:O,dir:M,triggerPointerDownPosRef:K,disabled:x,children:[c.jsx(ky.Provider,{scope:e,children:c.jsx(A$,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(Y=>{J(G=>new Set(G).add(Y))},[]),onNativeOptionRemove:C.useCallback(Y=>{J(G=>{const H=new Set(G);return H.delete(Y),H})},[]),children:t})}),X?c.jsxs(a_,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:g,value:B,onChange:Y=>z(Y.target.value),disabled:x,form:w,children:[B===void 0?c.jsx("option",{value:""}):null,Array.from(ee)]},ae):null]})})};OP.displayName=Ac;var FP="SelectTrigger",BP=C.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...r}=n,o=Py(t),a=Fa(FP,t),u=a.disabled||s,d=wn(e,a.onTriggerChange),h=Ty(t),p=C.useRef("touch"),[g,x,v]=c_(b=>{const E=h().filter(k=>!k.disabled),A=E.find(k=>k.value===a.value),j=u_(E,b,A);j!==void 0&&a.onValueChange(j.value)}),w=b=>{u||(a.onOpenChange(!0),v()),b&&(a.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return c.jsx(AB,{asChild:!0,...o,children:c.jsx(Vt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":l_(a.value)?"":void 0,...r,ref:d,onClick:Wt(r.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&w(b)}),onPointerDown:Wt(r.onPointerDown,b=>{p.current=b.pointerType;const E=b.target;E.hasPointerCapture(b.pointerId)&&E.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:Wt(r.onKeyDown,b=>{const E=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&x(b.key),!(E&&b.key===" ")&&v$.includes(b.key)&&(w(),b.preventDefault())})})})});BP.displayName=FP;var $P="SelectValue",VP=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,children:o,placeholder:a="",...u}=n,d=Fa($P,t),{onValueNodeHasChildrenChange:h}=d,p=o!==void 0,g=wn(e,d.onValueNodeChange);return us(()=>{h(p)},[h,p]),c.jsx(Vt.span,{...u,ref:g,style:{pointerEvents:"none"},children:l_(d.value)?c.jsx(c.Fragment,{children:a}):o})});VP.displayName=$P;var E$="SelectIcon",zP=C.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...r}=n;return c.jsx(Vt.span,{"aria-hidden":!0,...r,ref:e,children:s||"▼"})});zP.displayName=E$;var j$="SelectPortal",UP=n=>c.jsx(jP,{asChild:!0,...n});UP.displayName=j$;var Cc="SelectContent",HP=C.forwardRef((n,e)=>{const t=Fa(Cc,n.__scopeSelect),[s,r]=C.useState();if(us(()=>{r(new DocumentFragment)},[]),!t.open){const o=s;return o?Yd.createPortal(c.jsx(WP,{scope:n.__scopeSelect,children:c.jsx(ky.Slot,{scope:n.__scopeSelect,children:c.jsx("div",{children:n.children})})}),o):null}return c.jsx(GP,{...n,ref:e})});HP.displayName=Cc;var cr=10,[WP,Ba]=eh(Cc),N$="SelectContentImpl",k$=Bx("SelectContent.RemoveScroll"),GP=C.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:o,onPointerDownOutside:a,side:u,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:w,hideWhenDetached:b,avoidCollisions:E,...A}=n,j=Fa(Cc,t),[k,P]=C.useState(null),[R,M]=C.useState(null),D=wn(e,re=>P(re)),[O,B]=C.useState(null),[z,K]=C.useState(null),X=Ty(t),[ee,J]=C.useState(!1),ae=C.useRef(!1);C.useEffect(()=>{if(k)return DB(k)},[k]),o4();const Y=C.useCallback(re=>{const[pe,...Ee]=X().map(Ge=>Ge.ref.current),[ge]=Ee.slice(-1),ze=document.activeElement;for(const Ge of re)if(Ge===ze||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===pe&&R&&(R.scrollTop=0),Ge===ge&&R&&(R.scrollTop=R.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==ze))return},[X,R]),G=C.useCallback(()=>Y([O,k]),[Y,O,k]);C.useEffect(()=>{ee&&G()},[ee,G]);const{onOpenChange:H,triggerPointerDownPosRef:te}=j;C.useEffect(()=>{if(k){let re={x:0,y:0};const pe=ge=>{var ze,Ge;re={x:Math.abs(Math.round(ge.pageX)-(((ze=te.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Ge=te.current)==null?void 0:Ge.y)??0))}},Ee=ge=>{re.x<=10&&re.y<=10?ge.preventDefault():k.contains(ge.target)||H(!1),document.removeEventListener("pointermove",pe),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[k,H,te]),C.useEffect(()=>{const re=()=>H(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[H]);const[ne,V]=c_(re=>{const pe=X().filter(ze=>!ze.disabled),Ee=pe.find(ze=>ze.ref.current===document.activeElement),ge=u_(pe,re,Ee);ge&&setTimeout(()=>ge.ref.current.focus())}),Z=C.useCallback((re,pe,Ee)=>{const ge=!ae.current&&!Ee;(j.value!==void 0&&j.value===pe||ge)&&(B(re),ge&&(ae.current=!0))},[j.value]),de=C.useCallback(()=>k==null?void 0:k.focus(),[k]),be=C.useCallback((re,pe,Ee)=>{const ge=!ae.current&&!Ee;(j.value!==void 0&&j.value===pe||ge)&&K(re)},[j.value]),Te=s==="popper"?zb:KP,ye=Te===zb?{side:u,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:w,hideWhenDetached:b,avoidCollisions:E}:{};return c.jsx(WP,{scope:t,content:k,viewport:R,onViewportChange:M,itemRefCallback:Z,selectedItem:O,onItemLeave:de,itemTextRefCallback:be,focusSelectedItem:G,selectedItemText:z,position:s,isPositioned:ee,searchRef:ne,children:c.jsx(DP,{as:k$,allowPinchZoom:!0,children:c.jsx(sP,{asChild:!0,trapped:j.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Wt(r,re=>{var pe;(pe=j.trigger)==null||pe.focus({preventScroll:!0}),re.preventDefault()}),children:c.jsx(tP,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:c.jsx(Te,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:re=>re.preventDefault(),...A,...ye,onPlaced:()=>J(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Wt(A.onKeyDown,re=>{const pe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!pe&&re.key.length===1&&V(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ge=X().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ze=re.target,Ge=ge.indexOf(ze);ge=ge.slice(Ge+1)}setTimeout(()=>Y(ge)),re.preventDefault()}})})})})})})});GP.displayName=N$;var T$="SelectItemAlignedPosition",KP=C.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...r}=n,o=Fa(Cc,t),a=Ba(Cc,t),[u,d]=C.useState(null),[h,p]=C.useState(null),g=wn(e,D=>p(D)),x=Ty(t),v=C.useRef(!1),w=C.useRef(!0),{viewport:b,selectedItem:E,selectedItemText:A,focusSelectedItem:j}=a,k=C.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&b&&E&&A){const D=o.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),B=o.valueNode.getBoundingClientRect(),z=A.getBoundingClientRect();if(o.dir!=="rtl"){const ze=z.left-O.left,Ge=B.left-ze,Re=D.left-Ge,qe=D.width+Re,mt=Math.max(qe,O.width),ct=window.innerWidth-cr,Sn=Pj(Ge,[cr,Math.max(cr,ct-mt)]);u.style.minWidth=qe+"px",u.style.left=Sn+"px"}else{const ze=O.right-z.right,Ge=window.innerWidth-B.right-ze,Re=window.innerWidth-D.right-Ge,qe=D.width+Re,mt=Math.max(qe,O.width),ct=window.innerWidth-cr,Sn=Pj(Ge,[cr,Math.max(cr,ct-mt)]);u.style.minWidth=qe+"px",u.style.right=Sn+"px"}const K=x(),X=window.innerHeight-cr*2,ee=b.scrollHeight,J=window.getComputedStyle(h),ae=parseInt(J.borderTopWidth,10),Y=parseInt(J.paddingTop,10),G=parseInt(J.borderBottomWidth,10),H=parseInt(J.paddingBottom,10),te=ae+Y+ee+H+G,ne=Math.min(E.offsetHeight*5,te),V=window.getComputedStyle(b),Z=parseInt(V.paddingTop,10),de=parseInt(V.paddingBottom,10),be=D.top+D.height/2-cr,Te=X-be,ye=E.offsetHeight/2,re=E.offsetTop+ye,pe=ae+Y+re,Ee=te-pe;if(pe<=be){const ze=K.length>0&&E===K[K.length-1].ref.current;u.style.bottom="0px";const Ge=h.clientHeight-b.offsetTop-b.offsetHeight,Re=Math.max(Te,ye+(ze?de:0)+Ge+G),qe=pe+Re;u.style.height=qe+"px"}else{const ze=K.length>0&&E===K[0].ref.current;u.style.top="0px";const Re=Math.max(be,ae+b.offsetTop+(ze?Z:0)+ye)+Ee;u.style.height=Re+"px",b.scrollTop=pe-be+b.offsetTop}u.style.margin=`${cr}px 0`,u.style.minHeight=ne+"px",u.style.maxHeight=X+"px",s==null||s(),requestAnimationFrame(()=>v.current=!0)}},[x,o.trigger,o.valueNode,u,h,b,E,A,o.dir,s]);us(()=>k(),[k]);const[P,R]=C.useState();us(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const M=C.useCallback(D=>{D&&w.current===!0&&(k(),j==null||j(),w.current=!1)},[k,j]);return c.jsx(_$,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:c.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:c.jsx(Vt.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});KP.displayName=T$;var P$="SelectPopperPosition",zb=C.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:r=cr,...o}=n,a=Py(t);return c.jsx(CB,{...a,...o,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zb.displayName=P$;var[_$,o1]=eh(Cc,{}),Ub="SelectViewport",qP=C.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...r}=n,o=Ba(Ub,t),a=o1(Ub,t),u=wn(e,o.onViewportChange),d=C.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ky.Slot,{scope:t,children:c.jsx(Vt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Wt(r.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:x}=a;if(x!=null&&x.current&&g){const v=Math.abs(d.current-p.scrollTop);if(v>0){const w=window.innerHeight-cr*2,b=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),A=Math.max(b,E);if(A<w){const j=A+v,k=Math.min(w,j),P=j-k;g.style.height=k+"px",g.style.bottom==="0px"&&(p.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});qP.displayName=Ub;var XP="SelectGroup",[R$,L$]=eh(XP),I$=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=YS();return c.jsx(R$,{scope:t,id:r,children:c.jsx(Vt.div,{role:"group","aria-labelledby":r,...s,ref:e})})});I$.displayName=XP;var YP="SelectLabel",QP=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=L$(YP,t);return c.jsx(Vt.div,{id:r.id,...s,ref:e})});QP.displayName=YP;var Hx="SelectItem",[M$,JP]=eh(Hx),ZP=C.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:r=!1,textValue:o,...a}=n,u=Fa(Hx,t),d=Ba(Hx,t),h=u.value===s,[p,g]=C.useState(o??""),[x,v]=C.useState(!1),w=wn(e,j=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,j,s,r)}),b=YS(),E=C.useRef("touch"),A=()=>{r||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(M$,{scope:t,value:s,disabled:r,textId:b,isSelected:h,onItemTextChange:C.useCallback(j=>{g(k=>k||((j==null?void 0:j.textContent)??"").trim())},[]),children:c.jsx(ky.ItemSlot,{scope:t,value:s,disabled:r,textValue:p,children:c.jsx(Vt.div,{role:"option","aria-labelledby":b,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:w,onFocus:Wt(a.onFocus,()=>v(!0)),onBlur:Wt(a.onBlur,()=>v(!1)),onClick:Wt(a.onClick,()=>{E.current!=="mouse"&&A()}),onPointerUp:Wt(a.onPointerUp,()=>{E.current==="mouse"&&A()}),onPointerDown:Wt(a.onPointerDown,j=>{E.current=j.pointerType}),onPointerMove:Wt(a.onPointerMove,j=>{var k;E.current=j.pointerType,r?(k=d.onItemLeave)==null||k.call(d):E.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(a.onPointerLeave,j=>{var k;j.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:Wt(a.onKeyDown,j=>{var P;((P=d.searchRef)==null?void 0:P.current)!==""&&j.key===" "||(b$.includes(j.key)&&A(),j.key===" "&&j.preventDefault())})})})})});ZP.displayName=Hx;var ef="SelectItemText",e_=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,...o}=n,a=Fa(ef,t),u=Ba(ef,t),d=JP(ef,t),h=C$(ef,t),[p,g]=C.useState(null),x=wn(e,A=>g(A),d.onItemTextChange,A=>{var j;return(j=u.itemTextRefCallback)==null?void 0:j.call(u,A,d.value,d.disabled)}),v=p==null?void 0:p.textContent,w=C.useMemo(()=>c.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:E}=h;return us(()=>(b(w),()=>E(w)),[b,E,w]),c.jsxs(c.Fragment,{children:[c.jsx(Vt.span,{id:d.textId,...o,ref:x}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Yd.createPortal(o.children,a.valueNode):null]})});e_.displayName=ef;var t_="SelectItemIndicator",n_=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return JP(t_,t).isSelected?c.jsx(Vt.span,{"aria-hidden":!0,...s,ref:e}):null});n_.displayName=t_;var Hb="SelectScrollUpButton",s_=C.forwardRef((n,e)=>{const t=Ba(Hb,n.__scopeSelect),s=o1(Hb,n.__scopeSelect),[r,o]=C.useState(!1),a=wn(e,s.onScrollButtonChange);return us(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=d.scrollTop>0;o(h)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),r?c.jsx(i_,{...n,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});s_.displayName=Hb;var Wb="SelectScrollDownButton",r_=C.forwardRef((n,e)=>{const t=Ba(Wb,n.__scopeSelect),s=o1(Wb,n.__scopeSelect),[r,o]=C.useState(!1),a=wn(e,s.onScrollButtonChange);return us(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;o(p)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),r?c.jsx(i_,{...n,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});r_.displayName=Wb;var i_=C.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...r}=n,o=Ba("SelectScrollButton",t),a=C.useRef(null),u=Ty(t),d=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>d(),[d]),us(()=>{var p;const h=u().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),c.jsx(Vt.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:Wt(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:Wt(r.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:Wt(r.onPointerLeave,()=>{d()})})}),D$="SelectSeparator",o_=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return c.jsx(Vt.div,{"aria-hidden":!0,...s,ref:e})});o_.displayName=D$;var Gb="SelectArrow",O$=C.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=Py(t),o=Fa(Gb,t),a=Ba(Gb,t);return o.open&&a.position==="popper"?c.jsx(EB,{...r,...s,ref:e}):null});O$.displayName=Gb;var F$="SelectBubbleInput",a_=C.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const r=C.useRef(null),o=wn(s,r),a=PB(e);return C.useEffect(()=>{const u=r.current;if(!u)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[a,e]),c.jsx(Vt.select,{...t,style:{...NP,...t.style},ref:o,defaultValue:e})});a_.displayName=F$;function l_(n){return n===""||n===void 0}function c_(n){const e=wc(n),t=C.useRef(""),s=C.useRef(0),r=C.useCallback(a=>{const u=t.current+a;e(u),function d(h){t.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(u)},[e]),o=C.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,r,o]}function u_(n,e,t){const r=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let a=B$(n,Math.max(o,0));r.length===1&&(a=a.filter(h=>h!==t));const d=a.find(h=>h.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==t?d:void 0}function B$(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var $$=OP,d_=BP,V$=VP,z$=zP,U$=UP,h_=HP,H$=qP,f_=QP,p_=ZP,W$=e_,G$=n_,m_=s_,g_=r_,x_=o_;function y_(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=y_(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function um(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=y_(n))&&(s&&(s+=" "),s+=e);return s}const a1="-",K$=n=>{const e=X$(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:a=>{const u=a.split(a1);return u[0]===""&&u.length!==1&&u.shift(),v_(u,e)||q$(a)},getConflictingClassGroupIds:(a,u)=>{const d=t[a]||[];return u&&s[a]?[...d,...s[a]]:d}}},v_=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),r=s?v_(n.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const o=n.join(a1);return(a=e.validators.find(({validator:u})=>u(o)))==null?void 0:a.classGroupId},Zj=/^\[(.+)\]$/,q$=n=>{if(Zj.test(n)){const e=Zj.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},X$=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return Q$(Object.entries(n.classGroups),t).forEach(([o,a])=>{Kb(a,s,o,e)}),s},Kb=(n,e,t,s)=>{n.forEach(r=>{if(typeof r=="string"){const o=r===""?e:eN(e,r);o.classGroupId=t;return}if(typeof r=="function"){if(Y$(r)){Kb(r(s),e,t,s);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([o,a])=>{Kb(a,eN(e,o),t,s)})})},eN=(n,e)=>{let t=n;return e.split(a1).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},Y$=n=>n.isThemeGetter,Q$=(n,e)=>e?n.map(([t,s])=>{const r=s.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,u])=>[e+a,u])):o);return[t,r]}):n,J$=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const r=(o,a)=>{t.set(o,a),e++,e>n&&(e=0,s=t,t=new Map)};return{get(o){let a=t.get(o);if(a!==void 0)return a;if((a=s.get(o))!==void 0)return r(o,a),a},set(o,a){t.has(o)?t.set(o,a):r(o,a)}}},b_="!",Z$=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,r=e[0],o=e.length,a=u=>{const d=[];let h=0,p=0,g;for(let E=0;E<u.length;E++){let A=u[E];if(h===0){if(A===r&&(s||u.slice(E,E+o)===e)){d.push(u.slice(p,E)),p=E+o;continue}if(A==="/"){g=E;continue}}A==="["?h++:A==="]"&&h--}const x=d.length===0?u:u.substring(p),v=x.startsWith(b_),w=v?x.substring(1):x,b=g&&g>p?g-p:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:b}};return t?u=>t({className:u,parseClassName:a}):a},e6=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},t6=n=>({cache:J$(n.cacheSize),parseClassName:Z$(n),...K$(n)}),n6=/\s+/,s6=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r}=e,o=[],a=n.trim().split(n6);let u="";for(let d=a.length-1;d>=0;d-=1){const h=a[d],{modifiers:p,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=t(h);let w=!!v,b=s(w?x.substring(0,v):x);if(!b){if(!w){u=h+(u.length>0?" "+u:u);continue}if(b=s(x),!b){u=h+(u.length>0?" "+u:u);continue}w=!1}const E=e6(p).join(":"),A=g?E+b_:E,j=A+b;if(o.includes(j))continue;o.push(j);const k=r(b,w);for(let P=0;P<k.length;++P){const R=k[P];o.push(A+R)}u=h+(u.length>0?" "+u:u)}return u};function r6(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=w_(e))&&(s&&(s+=" "),s+=t);return s}const w_=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=w_(n[s]))&&(t&&(t+=" "),t+=e);return t};function i6(n,...e){let t,s,r,o=a;function a(d){const h=e.reduce((p,g)=>g(p),n());return t=t6(h),s=t.cache.get,r=t.cache.set,o=u,u(d)}function u(d){const h=s(d);if(h)return h;const p=s6(d,t);return r(d,p),p}return function(){return o(r6.apply(null,arguments))}}const yt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},S_=/^\[(?:([a-z-]+):)?(.+)\]$/i,o6=/^\d+\/\d+$/,a6=new Set(["px","full","screen"]),l6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ni=n=>ju(n)||a6.has(n)||o6.test(n),Fo=n=>th(n,"length",b6),ju=n=>!!n&&!Number.isNaN(Number(n)),tb=n=>th(n,"number",ju),Kh=n=>!!n&&Number.isInteger(Number(n)),f6=n=>n.endsWith("%")&&ju(n.slice(0,-1)),Fe=n=>S_.test(n),Bo=n=>l6.test(n),p6=new Set(["length","size","percentage"]),m6=n=>th(n,p6,A_),g6=n=>th(n,"position",A_),x6=new Set(["image","url"]),y6=n=>th(n,x6,S6),v6=n=>th(n,"",w6),qh=()=>!0,th=(n,e,t)=>{const s=S_.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},b6=n=>c6.test(n)&&!u6.test(n),A_=()=>!1,w6=n=>d6.test(n),S6=n=>h6.test(n),A6=()=>{const n=yt("colors"),e=yt("spacing"),t=yt("blur"),s=yt("brightness"),r=yt("borderColor"),o=yt("borderRadius"),a=yt("borderSpacing"),u=yt("borderWidth"),d=yt("contrast"),h=yt("grayscale"),p=yt("hueRotate"),g=yt("invert"),x=yt("gap"),v=yt("gradientColorStops"),w=yt("gradientColorStopPositions"),b=yt("inset"),E=yt("margin"),A=yt("opacity"),j=yt("padding"),k=yt("saturate"),P=yt("scale"),R=yt("sepia"),M=yt("skew"),D=yt("space"),O=yt("translate"),B=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",Fe,e],X=()=>[Fe,e],ee=()=>["",Ni,Fo],J=()=>["auto",ju,Fe],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Fe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ju,Fe];return{cacheSize:500,separator:":",theme:{colors:[qh],spacing:[Ni,Fo],blur:["none","",Bo,Fe],brightness:V(),borderColor:[n],borderRadius:["none","","full",Bo,Fe],borderSpacing:X(),borderWidth:ee(),contrast:V(),grayscale:te(),hueRotate:V(),invert:te(),gap:X(),gradientColorStops:[n],gradientColorStopPositions:[f6,Fo],inset:K(),margin:K(),opacity:V(),padding:X(),saturate:V(),scale:V(),sepia:te(),skew:V(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[Bo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Fe]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kh,Fe]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Kh,Fe]}],"grid-cols":[{"grid-cols":[qh]}],"col-start-end":[{col:["auto",{span:["full",Kh,Fe]},Fe]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[qh]}],"row-start-end":[{row:["auto",{span:[Kh,Fe]},Fe]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[Bo]},Bo]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bo,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tb]}],"font-family":[{font:[qh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",ju,tb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ni,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ni,Fo]}],"underline-offset":[{"underline-offset":["auto",Ni,Fe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),g6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y6]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:Y()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Ni,Fe]}],"outline-w":[{outline:[Ni,Fo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Ni,Fo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Bo,v6]}],"shadow-color":[{shadow:[qh]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Bo,Fe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[k]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Kh,Fe]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ni,Fo,tb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C6=i6(A6),_a=(...n)=>C6(um(n)),E6=$$,j6=V$,C_=C.forwardRef(({className:n,children:e,...t},s)=>c.jsxs(d_,{ref:s,className:_a("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,c.jsx(z$,{asChild:!0,children:c.jsx(US,{className:"h-4 w-4 opacity-50"})})]}));C_.displayName=d_.displayName;const E_=C.forwardRef(({className:n,...e},t)=>c.jsx(m_,{ref:t,className:_a("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(HS,{className:"h-4 w-4"})}));E_.displayName=m_.displayName;const j_=C.forwardRef(({className:n,...e},t)=>c.jsx(g_,{ref:t,className:_a("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(US,{className:"h-4 w-4"})}));j_.displayName=g_.displayName;const N_=C.forwardRef(({className:n,children:e,position:t="popper",...s},r)=>c.jsx(U$,{children:c.jsxs(h_,{ref:r,className:_a("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[c.jsx(E_,{}),c.jsx(H$,{className:_a("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(j_,{})]})}));N_.displayName=h_.displayName;const N6=C.forwardRef(({className:n,...e},t)=>c.jsx(f_,{ref:t,className:_a("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));N6.displayName=f_.displayName;const tx=C.forwardRef(({className:n,children:e,...t},s)=>c.jsxs(p_,{ref:s,className:_a("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(G$,{children:c.jsx(Qd,{className:"h-4 w-4"})})}),c.jsx(W$,{children:e})]}));tx.displayName=p_.displayName;const k6=C.forwardRef(({className:n,...e},t)=>c.jsx(x_,{ref:t,className:_a("-mx-1 my-1 h-px bg-muted",n),...e}));k6.displayName=x_.displayName;const T6=n=>new Promise((e,t)=>{const s=new FileReader;s.readAsDataURL(n),s.onload=()=>e(s.result),s.onerror=r=>t(r)});function tN(n,e="image/png"){const t=n.split(","),s=atob(t[1]),r=new Array(s.length);for(let a=0;a<s.length;a++)r[a]=s.charCodeAt(a);const o=new Uint8Array(r);return new Blob([o],{type:e})}function P6(){const n=je(),[e,t]=C.useState(null),[s,r]=C.useState({storeType:"",storeName:"",businessNumber:"",address:"",imageBase64:""}),[o,a]=C.useState(null),[u,d]=C.useState(!0);C.useEffect(()=>{const w=localStorage.getItem("businessOcrResult");w&&t(JSON.parse(w))},[]),C.useEffect(()=>{e&&r(w=>({...w,storeName:e.corpName||"",businessNumber:e.registerNumber||"",address:e.address||""}))},[e]);const h=(w,b)=>{const E={...s,[w]:b};r(E),x(E)},p=w=>{const b={...s,storeType:w};r(b),x(b)},g=async w=>{try{const b=await T6(w),E={...s,imageBase64:b};r(E),a(w),x(E)}catch(b){console.error("이미지 변환 오류:",b)}},x=w=>{const b=w.storeType&&w.storeName&&w.businessNumber&&w.address;d(!b)},v=async()=>{try{const w=sessionStorage.getItem("signUpData")||"{}",E={...JSON.parse(w),storeName:s.storeName,businessNumber:s.businessNumber,storeAddress:s.address,storeType:s.storeType,representativeName:e==null?void 0:e.representativeName,businessType:e==null?void 0:e.businessType},A=new FormData;if(A.append("storeData",new Blob([JSON.stringify(E)],{type:"application/json"})),s.imageBase64){const P=tN(s.imageBase64);A.append("storeImage",P,"storeImage.png")}const j=localStorage.getItem("businessImageBase64");if(j){const P=tN(j);A.append("businessImage",P,"businessImage.png")}const k=await o5(A);if(!k.ok){const P=await k.json();alert(`회원가입 실패: ${P.message}`);return}localStorage.removeItem("businessOcrResult"),localStorage.removeItem("businessImageBase64"),sessionStorage.clear(),alert("회원가입이 완료되었습니다."),n("/signup-complete")}catch(w){console.error("회원가입 중 오류:",w),alert("회원가입 중 오류가 발생했습니다.")}};return c.jsxs("div",{className:"h-full flex flex-col bg-white",children:[c.jsx(Me,{title:"회원가입",progress:4,isStore:!0}),c.jsxs("main",{className:"flex-1 overflow-auto px-6 pt-6 pb-24 flex flex-col",children:[c.jsxs("div",{className:"mb-10",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"가게정보 입력"}),c.jsx("p",{className:"text-sm text-gray-600",children:"OCR 결과가 자동으로 입력됩니다."})]}),c.jsxs("div",{className:"flex-1 space-y-6",children:[c.jsx("div",{children:c.jsxs(E6,{onValueChange:p,children:[c.jsx(C_,{className:"w-full border-t-0 border-x-0 border-b border-gray-300 rounded-none py-3 focus:ring-0",children:c.jsx(j6,{placeholder:"가게 업종 선택"})}),c.jsxs(N_,{children:[c.jsx(tx,{value:"음식점",children:"음식점"}),c.jsx(tx,{value:"카페",children:"카페"}),c.jsx(tx,{value:"베이커리",children:"베이커리"})]})]})}),c.jsx("div",{children:c.jsx(Wv,{name:"storeName",label:"가게명(상호)",value:s.storeName,placeholder:"가게명을 입력하세요.",className:"border-t-0 border-x-0 border-b border-gray-300 rounded-none py-3 focus:ring-0 px-0",onChange:w=>h("storeName",w.target.value)})}),c.jsx("div",{children:c.jsx(Wv,{name:"businessNumber",label:"사업자등록번호",value:s.businessNumber,placeholder:"사업자 등록번호",className:"border-t-0 border-x-0 border-b border-gray-300 rounded-none py-3 focus:ring-0 px-0",onChange:w=>h("businessNumber",w.target.value)})}),c.jsx("div",{children:c.jsx(Wv,{name:"address",label:"주소",value:s.address,placeholder:"주소",className:"border-t-0 border-x-0 border-b border-gray-300 rounded-none py-3 focus:ring-0 px-0",onChange:w=>h("address",w.target.value)})}),c.jsx("div",{className:"mt-4 mb-6",children:c.jsx(qS,{label:"대표 이미지",previewLabel:"첨부된 이미지",value:o,onChange:g})})]})]}),c.jsx("div",{className:"p-5 bg-white",children:c.jsx($e,{text:"회원가입 완료",onClick:v,disabled:u,className:`w-full py-3.5 rounded-xl font-medium text-white ${u?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`})})]})}const _y=({coins:n})=>{console.log("CoinStatus 데이터:",n);const e={XRP:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-100"},USDT:{bg:"bg-green-100",text:"text-green-800",border:"border-green-100"},SOL:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-100"},default:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300"}};if(!n||n.length===0)return c.jsx("div",{className:"text-xs text-gray-400",children:"지원하는 암호화폐가 없습니다"});const t=r=>{if(console.log("코인 데이터:",r),typeof r=="string")return r;if(r.currency)return r.currency;if(r.name==="XRP"||r.name==="USDT"||r.name==="SOL")return r.name;if(r.code)return r.code;if(r.type)return r.type;if(r.name)return r.name;const o=String(r);return o==="XRP"||o==="USDT"||o==="SOL"?o:"default"},s=Array.from(new Set(n.map(r=>t(r))));return c.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map((r,o)=>{const a=e[r]||e.default;return c.jsx("div",{className:`flex items-center justify-center text-xs px-2 h-6 rounded-full border ${a.bg} ${a.border}`,children:c.jsx("span",{className:`${a.text}`,children:r})},`coin-${o}-${r}`)})})};function _6(){const[n,e]=C.useState(null),[t,s]=C.useState(!0),[r,o]=C.useState(null);C.useEffect(()=>{(async()=>{try{if(!sessionStorage.getItem("accessToken"))throw new Error("로그인이 필요합니다.");const h=await KS();e(h)}catch(d){console.error(d),o("가게 정보를 불러오는 데 실패했습니다.")}finally{s(!1)}})()},[]);const a=async()=>{if(!n||!sessionStorage.getItem("accessToken"))return;const d=n.storeStatus==="OPEN"?"CLOSED":"OPEN";try{await h5(d),e({...n,storeStatus:d})}catch(h){console.error("상태 변경 실패:",h)}};return t?c.jsx("div",{className:"p-4",children:"로딩 중..."}):r?c.jsx("div",{className:"p-4 text-red-500",children:r}):n?c.jsxs("div",{className:"flex flex-col self-center mt-3 w-full text-center",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 w-full mt-2",children:[c.jsxs("div",{onClick:a,className:`flex items-center text-base font-semibold cursor-pointer transition duration-150 ${n.storeStatus==="OPEN"?"text-green-800":"text-red-600"}`,children:[c.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center mr-2 border ${n.storeStatus==="OPEN"?"border-green-700 bg-green-100":"border-gray-300 bg-gray-300"}`,children:n.storeStatus==="OPEN"&&c.jsx(Qd,{size:14,className:"text-white"})}),n.storeStatus==="OPEN"?"영업 중":"영업 종료"]}),c.jsxs("div",{className:"flex items-center text-sm text-zinc-500",children:[c.jsx(KT,{size:18,className:"mr-1 fill-red-500 stroke-red-500"}),"좋아요 ",n.likeCount,"개"]})]}),c.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n.storeName}),c.jsx("p",{className:"text-base tracking-tight mt-2 text-gray-700",children:n.storeAddress}),c.jsx("div",{className:"flex justify-center mt-3 mb-2",children:c.jsx(_y,{coins:n.coinList})}),c.jsx("h2",{className:"text-xl font-bold tracking-tight",children:c.jsx("img",{src:n.storeImageUrl,alt:"가게 이미지",className:"w-full h-auto rounded-lg"})}),c.jsxs("div",{className:"mt-6 px-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2 text-left",children:"메뉴 목록"}),n.menuList.length===0?c.jsx("p",{className:"text-gray-500",children:"등록된 메뉴가 없습니다."}):c.jsx("ul",{children:n.menuList.map((u,d)=>c.jsxs("li",{className:`flex items-center gap-4 py-3 ${d!==n.menuList.length-1?"border-b border-gray-200":""}`,children:[c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"font-semibold text-base",children:u.menuName}),c.jsx("p",{className:"text-sm text-gray-600",children:typeof u.menuPrice=="number"?`${u.menuPrice.toLocaleString()}KRW`:"가격 정보 없음"})]}),c.jsx("img",{src:u.menuImage||"/placeholder.svg",alt:u.menuName,className:"w-16 h-16 object-cover rounded-md"})]},u.menuId))})]})]}):null}function R6(){const n=je();return c.jsxs(c.Fragment,{children:[c.jsx(Me,{title:"내 가게 관리",isStore:!0}),c.jsx("div",{className:"relative overflow-auto bg-white pb-36",children:c.jsx("div",{className:"pb-24 p-4",children:c.jsx(_6,{})})}),c.jsx("div",{className:"sticky bottom-16 left-0 right-0 flex justify-center space-x-4 px-10 py-4 bg-white shadow-lg border-t border-gray-200",children:c.jsx($e,{text:"가게정보 수정",onClick:()=>n("/store/my/edit"),className:"w-1/2 rounded-[9px] font-medium bg-[#0C2B5F] text-white shadow-inner"})}),c.jsx(ot,{})]})}function L6(){var s;const n=je(),t=(s=dt().state)==null?void 0:s.orderId;return C.useEffect(()=>{const r=setTimeout(()=>{t?n(`/mall/store/pay-complete/${t}`):alert("주문 ID가 존재하지 않습니다.")},2e3);return()=>clearTimeout(r)},[n,t]),c.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[c.jsx(Me,{title:"주문 요청",isStore:!1}),c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"relative w-20 h-20 mb-8",children:[c.jsx("div",{className:"absolute inset-0 border-4 border-gray-100 rounded-full"}),c.jsx("div",{className:"absolute inset-0 border-4 border-[#0a2e64] border-t-transparent rounded-full animate-spin"})]}),c.jsx("p",{className:"text-xl font-semibold text-gray-800 mb-2",children:"결제 처리 중"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"잠시만 기다려 주세요..."}),c.jsx("div",{className:"mt-6 w-64 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-[#0a2e64] rounded-full animate-progressForward"})})]})}),c.jsx(ot,{}),c.jsx("style",{children:`
        @keyframes progressForward {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(0%); }
        }
        .animate-progressForward {
          animation: progressForward 1.5s ease-in-out infinite;
          width: 100%;
        }
      `})]})}function k_({date:n,type:e,balance:t,amount:s,krw:r,isDeposit:o,showAfterBalance:a}){const u={HANA:"HTK",SHINHAN:"STK",WOORI:"WTK"},[d,h]=s.split(" "),p=parseFloat(d),g=u[h==null?void 0:h.toUpperCase()]??h,x=isNaN(p)?s:`${p>0?"+":""}${p.toFixed(2)} ${g}`,[v,w]=t.split(" "),b=parseFloat(v),E=u[w==null?void 0:w.toUpperCase()]??w,A=isNaN(b)?t:`${b.toFixed(2)} ${E}`;return c.jsxs("div",{className:"space-y-2 border-b border-gray-300 pb-4",children:[c.jsx("p",{className:"text-sm text-gray-500",children:n}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-xl font-bold ${o?"text-indigo-800":"text-red-600"} mb-2`,children:e}),a&&c.jsxs("p",{className:"text-gray-600 text-sm",children:["잔액: ",A]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{children:c.jsx("span",{className:`text-lg font-bold ${o?"text-indigo-800":"text-red-500"} mb-2`,children:x})}),c.jsxs("p",{className:"text-sm text-gray-600",children:["= ",r," KRW"]})]})]})]})}function I6({symbol:n,coinName:e,onClose:t,address:s,tag:r}){const o=je();return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:c.jsxs("div",{className:"bg-white rounded-2xl px-6 py-8 text-center w-[320px] shadow-lg",children:[c.jsxs("h2",{className:"text-lg font-bold mb-6",children:[e," 코인 입금 주소 "]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-sm font-medium mb-1 text-gray-600",children:"내 주소"}),c.jsx("div",{className:"w-full border border-gray-200 rounded-xl py-3 px-4 text-blue-900 font-semibold text-sm bg-gray-50",children:s})]}),n==="XRP"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-sm font-medium mb-1 text-gray-600",children:"태그 주소"}),c.jsx("div",{className:"w-full border border-gray-200 rounded-xl py-3 px-4 text-blue-900 font-semibold text-sm bg-gray-50",children:r})]}),c.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["계좌를 잘못 입력했다면?"," ",c.jsx("span",{className:"underline cursor-pointer",onClick:()=>o("/coin/address/add",{state:{symbol:n,isUser:!1,useExistingAddress:!0,address:s,tag:r}}),children:"재등록하기"})]}),c.jsx("button",{className:"bg-[#0a2e64] text-white w-full py-3 rounded-xl text-base font-semibold",onClick:t,children:"닫기"})]})})}const $a="http://localhost:8080",M6=async({currency:n,address:e,tag:t})=>{const s=sessionStorage.getItem("accessToken"),r=await fetch(`${$a}/api/save/address`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({currency:n,address:e,tag:t})});if(!r.ok){const o=await r.text();throw new Error(`계좌 등록 실패: ${r.status} - ${o}`)}},qb=async n=>{const e=sessionStorage.getItem("accessToken"),t=await fetch(`${$a}/api/address?currency=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("코인 주소 확인 실패");return t.json()},D6=async n=>{const e=sessionStorage.getItem("accessToken");return await fetch(`${$a}/api/resave/address`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(n)})},T_=async()=>{const n=sessionStorage.getItem("accessToken"),e=await fetch(`${$a}/api/balance`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error("잔액 조회 실패: "+e.status);return await e.json()},l1=async n=>{const e=sessionStorage.getItem("accessToken"),t=await fetch(`${$a}/api/balance/${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("특정 코인 잔액 조회 실패: "+t.status);return await t.json()},O6=async(n,e)=>{const t=sessionStorage.getItem("accessToken"),s=await fetch(`${$a}/api/deposit`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({txid:e,currency:n})});if(!s.ok)throw new Error("입금 요청 실패: "+s.status);return s.text()},F6=async(n,e)=>{const t=sessionStorage.getItem("accessToken"),s=await fetch(`${$a}/api/withdraw`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({currency:n,amount:e})});if(!s.ok)throw new Error("정산 요청 실패");return await s.text()},B6=async({pageParam:n=0,queryKey:e})=>{const t=sessionStorage.getItem("accessToken"),s=e[1],r=await fetch(`${$a}/api/history/coin?currency=${s}&page=${n}&size=5`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error("입금 내역 조회 실패");return r.json()};async function $6(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`/api/unregister/address?currency=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("계좌 등록 해제 실패: "+t.status)}const nN=n=>{let e;const t=new Set,s=(h,p)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const x=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(v=>v(e,x))}},r=()=>e,u={setState:s,getState:r,getInitialState:()=>d,subscribe:h=>(t.add(h),()=>t.delete(h))},d=e=n(s,r,u);return u},V6=n=>n?nN(n):nN,z6=n=>n;function U6(n,e=z6){const t=ls.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ls.useDebugValue(t),t}const sN=n=>{const e=V6(n),t=s=>U6(e,s);return Object.assign(t,e),t},c1=n=>n?sN(n):sN,u1=c1((n,e)=>({coins:[],setCoins:t=>n({coins:t}),getCoinImage:t=>{var s;return(s=e().coins.find(r=>r.currency===t))==null?void 0:s.coinImageUrl}})),P_=C.createContext({socket:null});function H6({children:n}){const[e,t]=C.useState(null);return C.useEffect(()=>{const s=new WebSocket("wss://api.upbit.com/websocket/v1");return s.binaryType="blob",s.onopen=()=>{s.send(JSON.stringify([{ticket:"ticker-stream"},{type:"ticker",codes:["KRW-XRP","KRW-USDT","KRW-SOL"]}])),t(s)},()=>{s.close()}},[]),c.jsx(P_.Provider,{value:{socket:e},children:n})}function W6(){return C.useContext(P_)}function nh(){const{socket:n}=W6(),[e,t]=C.useState({});return C.useEffect(()=>{if(!n)return;const s=r=>{const o=r.data,a=new FileReader;a.onload=()=>{try{const u=JSON.parse(a.result);u.type==="ticker"&&t(d=>({...d,[u.code]:u}))}catch(u){console.error("WebSocket parsing error:",u)}},a.readAsText(o)};return n.addEventListener("message",s),()=>n.removeEventListener("message",s)},[n]),e}function G6(){var M,D,O,B;const n=document.createElement("style");document.head.appendChild(n);const{symbol:e}=ds(),s=((M=dt().state)==null?void 0:M.isUser)??!1,r=nh(),[o,a]=C.useState(null),[u,d]=C.useState(!1),[h,p]=C.useState(null),g=je(),[x,v]=C.useState(0),b=u1(z=>z.coins).find(z=>z.currency===e),E=((D=r[`KRW-${e}`])==null?void 0:D.trade_price)??0;C.useEffect(()=>{e&&qb(e).then(z=>{a(z.addressRegistryStatus),p({address:z.address,tag:z.tag,addressStatus:z.addressRegistryStatus})}).catch(z=>{console.error("등록된 주소없음",z),a("NOT_REGISTERED"),p(null)})},[e]),C.useEffect(()=>{(async()=>{if(e)try{const K=await l1(e);v(K.balance??0)}catch(K){console.warn("잔액 조회 실패:",K)}})()},[e]);const A=C.useRef(null),{data:j,fetchNextPage:k,hasNextPage:P,isFetchingNextPage:R}=ET({queryKey:["coinHistory",e],queryFn:B6,getNextPageParam:z=>z.last?void 0:z.pageable.pageNumber+1,enabled:!!e,initialPageParam:0});return C.useEffect(()=>{const z=new IntersectionObserver(K=>{K[0].isIntersecting&&P&&!R&&k()});return A.current&&z.observe(A.current),()=>z.disconnect()},[k,P,R]),c.jsxs("div",{className:"relative flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:`${(b==null?void 0:b.coinName)??e} 상세`,onBackClick:()=>{g("/my/coin")}}),c.jsxs("main",{className:"flex-1 overflow-auto p-3 transition-all duration-500 ease-in-out sm:p-4 md:p-5",children:[c.jsx("div",{className:"mb-4 rounded-xl border border-gray-200 bg-white p-4 shadow-[0_2px_10px_rgba(0,0,0,0.04)] transition-all duration-500 ease-in-out sm:mb-5 sm:p-8 md:mb-6 md:rounded-2xl md:border-2 md:p-12 md:shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"mr-2 flex h-8 w-8 items-center justify-center rounded-full sm:mr-3 sm:h-9 sm:w-9 md:mr-4 md:h-10 md:w-10",children:c.jsx("img",{src:b==null?void 0:b.coinImageUrl,alt:(b==null?void 0:b.coinName)??e,className:"mr-2 h-8 w-8 rounded-full sm:mr-3 sm:h-9 sm:w-9 md:mr-4 md:h-10 md:w-10"})}),c.jsx("p",{className:"text-lg font-semibold sm:text-xl md:text-2xl",children:"총 보유"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-lg font-bold sm:text-xl md:text-2xl",children:[x.toFixed(2)," ",e]}),c.jsxs("p",{className:"text-sm text-gray-500 sm:text-base",children:["= ",(x*E).toLocaleString()," KRW KRW"]})]})]})}),c.jsxs("div",{className:"mb-4 w-full sm:mb-5 md:mb-6",children:[c.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[c.jsxs("button",{className:"flex flex-1 items-center justify-center gap-1 rounded-lg bg-[#0a2e64] py-1.5 text-base font-semibold text-white shadow sm:gap-2 sm:rounded-xl sm:py-2 sm:text-lg",onClick:()=>{setTimeout(()=>{g(`/coin/address/${e}`,{state:{isUser:s,symbol:e}})},200)},children:[c.jsx(wj,{className:"h-4 w-4 sm:h-5 sm:w-5",stroke:o==="ACTIVE"?"white":"gray"}),c.jsx("span",{className:"sm:text-base, text-sm text-white",children:"코인 충전"})]}),c.jsxs("button",{className:`flex flex-1 items-center justify-center gap-1 rounded-lg py-1.5 text-base font-semibold shadow transition sm:gap-2 sm:rounded-xl sm:py-2 sm:text-lg ${o==="ACTIVE"?"bg-[#0a2e64] text-white":"cursor-not-allowed bg-gray-300 text-gray-400"}`,disabled:o!=="ACTIVE",onClick:()=>{o==="ACTIVE"&&setTimeout(()=>{g("/settlement",{state:{isUser:s,symbol:e}})},200)},children:[c.jsx(wj,{className:"h-4 w-4 sm:h-5 sm:w-5",stroke:o==="ACTIVE"?"white":"gray"}),c.jsx("span",{className:"text-sm text-white sm:text-base",children:"코인 출금"})]})]}),c.jsx("div",{className:`mt-2 w-full rounded-lg py-2 text-center text-sm font-medium transition sm:mt-3 sm:rounded-xl sm:py-3 sm:text-base ${o==="REGISTERING"||o==="UNREGISTERED_AND_REGISTERING"?"cursor-not-allowed bg-gray-300 text-gray-400":"cursor-pointer bg-[#0a2e64] text-white"}`,style:{boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.1)"},onClick:()=>{o==="REGISTERING"||o==="UNREGISTERED_AND_REGISTERING"?d(!0):g("/coin/address/add",{state:{symbol:e}})},children:c.jsxs("span",{className:"text-white",children:[o==="ACTIVE"&&"계좌가 등록되어 있습니다. 변경하려면 눌러주세요.",o==="REGISTERING"&&"계좌가 등록중입니다.",o==="UNREGISTERED"&&"계좌가 등록 해제 중입니다...",o==="UNREGISTERED_AND_REGISTERING"&&"계좌 등록 해제 후 변경 중입니다...",o==="NOT_REGISTERED"&&"출금계좌 등록하기",o==="REJECTED"&&"거절 되었습니다 다시 등록하기"]})})]}),u&&h&&c.jsx(I6,{symbol:e,coinName:(b==null?void 0:b.coinName)||e||"",address:h.address,tag:h.tag,onClose:()=>d(!1)}),c.jsxs("div",{className:"mb-3 flex items-center justify-between sm:mb-4",children:[c.jsx("h3",{className:"text-base font-bold text-gray-800 sm:text-lg",children:"거래 내역"}),c.jsxs("button",{className:"flex items-center text-xs font-medium text-[#0a2e64] sm:text-sm",children:["전체보기",c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-1",children:c.jsx("path",{d:"M6 12L10 8L6 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),c.jsxs("div",{className:"space-y-4 pb-16 text-sm sm:space-y-5 sm:pb-10 sm:text-base md:space-y-6 md:text-lg lg:text-xl",children:[j==null?void 0:j.pages.map((z,K)=>z.content.map((X,ee)=>{var G;const J=((G=r[`KRW-${e}`])==null?void 0:G.trade_price)??0,ae=Math.floor(X.amount*J).toLocaleString(),Y=X.status==="ACCEPTED";return c.jsx("div",{className:"transition-all duration-300 ease-in-out",children:c.jsx(k_,{date:new Date(X.transferredAt).toLocaleString(),type:X.type==="DEPOSIT"?X.status==="ACCEPTED"?"입금 완료":"입금 대기중":X.type==="WITHDRAW"?X.status==="ACCEPTED"?"출금 완료":"출금 대기중":X.type==="PAY"?X.status==="ACCEPTED"?"결제 완료":X.status==="PENDING"?"정산 대기중":X.status==="FAILED"?"결제 취소":"환불 완료":X.type==="REFUND"?"환불 완료":X.type==="EXCHANGE"?X.amount>0?"환전 입금 완료":"환전 출금 완료":"알 수 없음",balance:`${X.afterBalance??"-"} ${e}`,amount:X.amount.toFixed(2)+" "+e,krw:`${ae} KRW`,isDeposit:X.type==="DEPOSIT"||X.type==="EXCHANGE"&&X.amount<0||X.type==="PAY"&&X.amount<0,showAfterBalance:Y})},`${K}-${ee}`)})),c.jsxs("div",{ref:A,className:"mt-4 flex h-10 items-center justify-center",children:[R&&c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-gray-200 border-t-[#0a2e64]"}),!P&&((O=j==null?void 0:j.pages[0])==null?void 0:O.content.length)>0&&c.jsx("p",{className:"text-sm text-gray-500",children:"더 이상 거래 내역이 없습니다"}),((B=j==null?void 0:j.pages[0])==null?void 0:B.content.length)===0&&c.jsx("p",{className:"text-sm text-gray-500",children:"거래 내역이 없습니다"})]})]})]}),c.jsx(ot,{})]})}function __({isOpen:n,onClose:e,children:t,title:s}){const r=C.useRef(null);C.useEffect(()=>{const a=u=>{u.key==="Escape"&&n&&e()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[n,e]);const o=a=>{r.current&&!r.current.contains(a.target)&&e()};return C.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),n?Yd.createPortal(c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:o,children:c.jsxs("div",{ref:r,className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4 overflow-hidden",onClick:a=>a.stopPropagation(),children:[s&&c.jsx("div",{className:"p-4 border-b",children:c.jsx("h2",{className:"text-lg font-medium text-center",children:s})}),c.jsx("div",{className:"p-4",children:t})]})}),document.body):null}function K6({isOpen:n,onClose:e,onAccept:t}){const[s,r]=C.useState(null),o=["10분","20분","30분","40분","50분","60분"],a=()=>{s!==null&&(t(s),e())};return c.jsx(__,{isOpen:n,onClose:e,children:c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"text-center text-base font-medium mb-4",children:"주문 처리까지 필요한 시간을 선택해주세요."}),c.jsx("div",{className:"space-y-2",children:o.map(u=>c.jsx("div",{onClick:()=>r(u),className:`p-3 rounded-md cursor-pointer ${s===u?"bg-blue-50 border border-blue-500":"hover:bg-gray-50"}`,children:u},u))}),c.jsx("button",{onClick:a,disabled:s===null,className:`w-full mt-6 py-3 rounded-md text-white font-medium ${s===null?"bg-blue-300":"bg-[#0a2e65]"}`,children:"수락"})]})})}const q6={"매장에 자리가 없어요":"자리없음","매장 주문이 너무 많아요":"주문많음","매장에 재고가 없어요":"재고없음"};function X6({isOpen:n,onClose:e,onReject:t}){const[s,r]=C.useState(null),o=["매장에 자리가 없어요","매장 주문이 너무 많아요","매장에 재고가 없어요"],a=()=>{if(s!==null){const u=q6[s];t(u),e()}};return c.jsx(__,{isOpen:n,onClose:e,children:c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"text-center text-base font-medium mb-4",children:"거절 사유를 선택해주세요."}),c.jsx("div",{className:"space-y-2",children:o.map(u=>c.jsx("div",{onClick:()=>r(u),className:`p-3 rounded-md cursor-pointer ${s===u?"bg-red-50 border border-red-500":"hover:bg-gray-50"}`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-5 h-5 rounded-full border ${s===u?"border-red-500 bg-red-500":"border-gray-300"} mr-3 flex items-center justify-center`,children:s===u&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),c.jsx("span",{children:u})]})},u))}),c.jsx("button",{onClick:a,disabled:s===null,className:`w-full mt-6 py-3 rounded-md text-white font-medium ${s===null?"bg-red-300":"bg-red-500"}`,children:"거절"})]})})}function Y6(){const n=je(),e=dt(),[t,s]=C.useState([]),[r,o]=C.useState(!1),[a,u]=C.useState(!1),[d,h]=C.useState(null);C.useEffect(()=>{(async()=>{try{const P=(await g5()).map(R=>({id:R.orderId,number:R.orderId,type:R.orderType,status:R.status==="WAITING"?"주문 접수":R.status,items:R.orderDetails.map(M=>({name:M.menuName,quantity:M.menuCount})),expanded:!1}));s(P)}catch(k){console.error("Failed to fetch orders:",k)}})()},[]);const p=j=>{s(t.map(k=>k.id===j?{...k,expanded:!k.expanded}:k))},g=j=>{h(j),o(!0)},x=j=>{h(j),u(!0)},v=async j=>{if(d)try{const k=await x5(d,j);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);s(P=>P.map(R=>R.id===d?{...R,status:"수락 완료",timeRemaining:parseInt(j)}:R))}catch(k){console.error("Failed to accept order:",k)}finally{o(!1)}},w=async j=>{if(d)try{const k=await y5(d,j);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);s(P=>P.map(R=>R.id===d?{...R,status:"거절됨",rejectionReason:j}:R))}catch(k){console.error("Failed to refuse order:",k)}finally{u(!1)}},b=async j=>{try{const k=await v5(j);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);s(P=>P.map(R=>R.id===j?{...R,status:"준비 완료",timeRemaining:void 0}:R))}catch(k){console.error("Failed to complete order:",k)}},E=j=>{s(t.map(k=>k.id===j?{...k,status:"수락 완료",timeRemaining:15}:k))},A=()=>{n("/store/manage")};return e.pathname.includes("/store"),c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsx(Me,{title:"주문 현황"}),c.jsx("main",{className:"flex-1 bg-gray-100 overflow-auto",children:t.map(j=>c.jsx("div",{className:"bg-white mb-2 border-b border-gray-200 mt-2",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"font-bold",children:["Order #",j.number]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("p",{className:"text-gray-600 text-base mr-2",children:j.type}),c.jsx("span",{className:"px-2 py-0.5 rounded-full text-sm",style:{color:"#0C2B5F"},children:j.status})]})]}),c.jsx("button",{onClick:()=>p(j.id),className:"p-1 rounded-full",children:c.jsx("img",{src:j.expanded?"/foldingbutton.png":"/expandbutton.png",alt:j.expanded?"Collapse":"Expand",className:"w-7 h-7"})})]}),j.expanded&&c.jsxs("div",{className:"mt-2",children:[j.items.map((k,P)=>c.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[c.jsx("span",{children:k.name}),c.jsxs("span",{children:[k.quantity,"개"]})]},P)),j.status==="거절됨"&&j.rejectionReason&&c.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded-md",children:c.jsxs("p",{className:"text-red-600 text-sm font-medium",children:["거절 사유: ",j.rejectionReason]})})]}),c.jsxs("div",{className:"mt-4 flex justify-between",children:[j.status==="주문 접수"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>x(j.id),className:"px-6 py-2 border border-red-500 text-red-500 rounded-md",children:"거절"}),c.jsx("button",{onClick:()=>g(j.id),className:"px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded-md",children:"수락"})]}),j.status==="수락 완료"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"px-4 py-2 bg-red-100 text-red-600 rounded-md",children:[j.timeRemaining,"분 남음"]}),c.jsx("button",{onClick:()=>b(j.id),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md",children:"준비 완료"})]}),j.status==="준비 완료"&&c.jsx("button",{onClick:()=>E(j.id),className:"ml-auto px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md",children:"준비 완료 취소"}),j.status==="종료"&&c.jsx("div",{className:"ml-auto px-4 py-2 bg-gray-100 text-gray-500 rounded-md",children:"완료됨"}),j.status==="거절됨"&&c.jsx("div",{className:"ml-auto px-4 py-2 bg-red-100 text-red-500 rounded-md",children:"거절됨"})]})]})},j.id))}),c.jsx("div",{className:"p-4 bg-gray-100",children:c.jsx($e,{text:"가게 설정",onClick:A,className:"w-full py-4 bg-[#0a2e65] text-white rounded-md font-medium"})}),c.jsx(ot,{}),c.jsx(K6,{isOpen:r,onClose:()=>o(!1),onAccept:v}),c.jsx(X6,{isOpen:a,onClose:()=>u(!1),onReject:w})]})}const R_="http://localhost:8080";async function Q6(){const n=sessionStorage.getItem("accessToken"),e=await fetch(`${R_}/api/store`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!e.ok)throw new Error("가게 목록을 불러오는데 실패했습니다");return e.json()}async function L_(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${R_}/api/store/${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("가게 상세 정보를 불러오는데 실패했습니다");return t.json()}function J6(){const n=je(),{id:e}=ds(),[t,s]=C.useState([]),[r,o]=C.useState(!1),[a,u]=C.useState(!1),[d,h]=C.useState("추천메뉴"),[p,g]=C.useState(null),[x,v]=C.useState(!0),[w,b]=C.useState(null);C.useEffect(()=>{const P=localStorage.getItem("cartItems");P&&s(JSON.parse(P))},[]),C.useEffect(()=>{(async()=>{try{if(v(!0),!e)throw new Error("가게 ID가 유효하지 않습니다.");const R=await L_(e),M={likeCount:R.likeCount,storeName:R.storeName,storeAddress:R.storeAddress,storeImageUrl:R.storeImageUrl,coinList:R.coinList,menuList:R.menuList};g(M)}catch(R){b(R instanceof Error?R.message:"알 수 없는 오류")}finally{v(!1)}})(),window.scrollTo(0,0)},[e]);const E=P=>{const R=Number(e);o(!0),s(M=>{if(M.length>0&&M[0].storeId!==R){const O=[{...P,storeId:R,quantity:1}];return localStorage.setItem("cartItems",JSON.stringify(O)),O}if(M.find(O=>O.id===P.id&&O.storeId===R)){const O=M.map(B=>B.id===P.id&&B.storeId===R?{...B,quantity:B.quantity+1}:B);return localStorage.setItem("cartItems",JSON.stringify(O)),O}else{const O=[...M,{...P,storeId:R,quantity:1}];return localStorage.setItem("cartItems",JSON.stringify(O)),O}})},A=(P,R)=>{s(M=>M.map(D=>{if(D.id===P){const O=Math.max(0,D.quantity+R);return{...D,quantity:O}}return D}).filter(D=>D.quantity>0)),t.length===0&&(o(!1),u(!1))},j=t.reduce((P,R)=>P+R.quantity,0),k=t.reduce((P,R)=>P+R.price*R.quantity,0);return x?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsx("p",{className:"text-lg font-bold text-gray-500",children:"가게 정보를 불러오는 중..."})}):w||!p?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsx("p",{className:"text-lg font-bold text-gray-500",children:"가게를 찾을 수 없습니다."})}):c.jsxs("div",{className:"flex flex-col h-full bg-gray-50 relative",children:[c.jsx(Me,{title:p.storeName,isStore:!0}),c.jsxs("main",{className:"flex-1 overflow-auto pb-16",children:[c.jsxs("div",{className:"bg-white shadow-sm mb-4 min-h-[450px]",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:p.storeImageUrl||"/store-image.png",alt:`${p.storeName} 가게사진`,className:"w-full h-72 object-cover"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6",children:c.jsx("h2",{className:"text-white text-2xl font-bold",children:p.storeName})})]}),c.jsx("div",{className:"flex justify-end px-6 mt-5",children:c.jsxs("div",{className:"flex items-center text-sm text-zinc-500",children:[c.jsx(KT,{size:18,className:"mr-1 fill-red-500 stroke-red-500"}),p.likeCount]})}),c.jsxs("div",{className:"text-center px-6 mt-4 mb-6",children:[c.jsx("p",{className:"text-base tracking-tight mt-2 text-gray-700",children:p.storeAddress}),c.jsx("div",{className:"flex justify-center mt-5 mb-5",children:c.jsx(_y,{coins:p.coinList})})]})]}),c.jsx("div",{className:"bg-white pb-4",children:c.jsx("div",{className:"divide-y divide-gray-100 px-5",children:p.menuList.map(P=>c.jsx("div",{className:"py-4",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("div",{className:"flex-1 pr-4",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:P.menuName}),c.jsxs("div",{className:"mt-2 font-bold text-gray-900",children:[P.menuPrice.toLocaleString()," KRW"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"h-24 w-24 rounded-lg overflow-hidden bg-gray-100",children:c.jsx("img",{src:P.menuImage||"/store-image.png",alt:P.menuName,className:"h-full w-full object-cover"})}),c.jsx("button",{onClick:()=>E({id:P.menuId,name:P.menuName,price:P.menuPrice,image:P.menuImage}),className:"absolute -bottom-2 -right-2 bg-[#002169] rounded-full p-2 shadow-md hover:bg-[#001d5a]",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})]})},P.menuId))})})]}),c.jsx(ot,{}),t.length>0&&c.jsx("div",{className:"fixed bottom-16 left-0 right-0 z-20 flex justify-center",children:c.jsxs("div",{className:"bg-white border-t border-gray-200 shadow-lg rounded-t-lg w-full max-w-md mx-auto",children:[c.jsxs("div",{className:"py-3 px-5 flex items-center justify-between cursor-pointer",onClick:()=>u(!a),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-[#002169] rounded-full p-2 mr-3",children:c.jsx(YT,{className:"h-5 w-5 text-white"})}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[j,"개 항목"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"탭하여 장바구니 상세보기"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"font-bold text-lg mr-2",children:[k.toLocaleString()," KRW"]}),c.jsx(HS,{className:`h-5 w-5 text-gray-500 transition-transform ${a?"rotate-180":""}`})]})]}),c.jsx("div",{className:`transition-all duration-300 ${a?"max-h-48 overflow-y-auto":"max-h-0 overflow-hidden"}`,children:c.jsx("div",{className:"px-5 pb-2",children:c.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:t.map(P=>c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-gray-900",children:P.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[P.price.toLocaleString()," KRW"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:R=>{R.stopPropagation(),A(P.id,-1)},className:"w-8 h-8 flex items-center justify-center text-gray-500 bg-white rounded-full border border-gray-200",children:"-"}),c.jsx("span",{className:"w-8 text-center font-medium",children:P.quantity}),c.jsx("button",{onClick:R=>{R.stopPropagation(),A(P.id,1)},className:"w-8 h-8 flex items-center justify-center text-gray-500 bg-white rounded-full border border-gray-200",children:"+"})]})]},P.id))})})}),c.jsx("div",{className:"px-5 py-3 border-t border-gray-100",children:c.jsxs("div",{className:"flex justify-center gap-3",children:[c.jsx($e,{text:"취소하기",onClick:()=>{s([]),o(!1),u(!1),localStorage.setItem("cartItems",JSON.stringify([])),localStorage.setItem("totalPrice",JSON.stringify([]))},className:"w-1/2 py-3 rounded-lg font-medium bg-gray-100 text-black border border-gray-200"}),c.jsx($e,{text:"주문하기",onClick:()=>n("/mall/store/cart"),className:"w-1/2 py-3 rounded-lg font-medium bg-[#002169] text-white shadow-sm"})]})})]})})]})}function Z6({isOpen:n,onClose:e,title:t,coins:s=[]}){if(!n)return null;const r={XRP:"bg-yellow-100 text-yellow-800 border-yellow-100",USDT:"bg-green-100 text-green-800 border-green-100",SOL:"bg-purple-100 text-purple-800 border-purple-100",default:"bg-gray-500 text-gray-800 border-gray-100"},[o,a]=C.useState([]),u=h=>{a(p=>p.includes(h)?p.filter(g=>g!==h):[...p,h])},d=async()=>{if(!sessionStorage.getItem("accessToken")){alert("로그인이 필요합니다.");return}try{await m5(o),alert("결제 수단 지원 설정이 업데이트되었습니다."),e()}catch(p){console.error("코인 업데이트 실패:",p),alert("코인 업데이트 중 오류가 발생했습니다.")}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-sm w-full",children:[c.jsx("h3",{className:"text-center text-lg font-medium mb-6",children:t}),c.jsx("div",{className:"flex justify-around",children:s.map((h,p)=>{const g=typeof h=="string"?h:h.name||"",x=o.includes(g);return c.jsx("button",{onClick:()=>g&&u(g),className:`px-4 py-2 rounded-full text-sm transition-colors border 
                   ${r[g]||r.default}
                   ${x?"font-semibold":""}
                  `,children:g},p)})}),c.jsxs("div",{className:"flex justify-center mt-6 space-x-3",children:[c.jsx("button",{onClick:d,className:"bg-[#0a2e65] text-white px-8 py-2 rounded w-full",children:"변경하기"}),c.jsx("button",{onClick:e,className:"bg-gray-300 text-black px-8 py-2 rounded w-full",children:"취소"})]})]})})}function eV(){const[n,e]=C.useState(""),[t,s]=C.useState(""),r=je(),[o,a]=C.useState([]),[u,d]=C.useState(!1);sessionStorage.getItem("accessToken");const h=async()=>{if(!n.trim()){alert("가게명을 입력해주세요!");return}try{const x=await l5(n);alert(`가게명이 "${n}"(으)로 변경되었습니다.`)}catch(x){console.error("가게명 변경 실패:",x),alert("가게명 변경 중 오류가 발생했습니다.")}},p=async()=>{if(!t.trim()){alert("주소를 입력해주세요!");return}try{const x=await c5(t);if(!x.ok){const v=await x.text();throw new Error(v||"주소 변경에 실패했습니다.")}alert(`주소가 "${t}"(으)로 변경되었습니다.`)}catch(x){console.error("주소 변경 실패:",x),alert("주소 변경 중 오류가 발생했습니다.")}},g=()=>{r("/store/menu/add",{state:{isUser:!0}})};return C.useEffect(()=>{(async()=>{try{const v=sessionStorage.getItem("accessToken"),w=await KS();console.log("API 응답:",w),a(w.menuList??[])}catch(v){console.error("메뉴 불러오기 실패:",v),alert("메뉴 정보를 불러오는 데 실패했습니다.")}})()},[]),c.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[c.jsx(Me,{title:"메뉴/결제수단 설정"}),c.jsxs("div",{className:"flex-1 px-4 py-4 overflow-auto",children:[c.jsxs("div",{className:"bg-white p-5 mb-2",children:[c.jsx("h2",{className:"font-medium mb-2 font-bold",children:"가게명 변경"}),c.jsx(Js,{label:"가게명",value:n,onChange:x=>e(x.target.value),placeholder:"가게명을 입력해주세요."}),c.jsx($e,{text:"변경하기",onClick:h,className:"mt-3 w-full bg-[#0a2158] text-white py-3 rounded-lg font-medium"})]}),c.jsxs("div",{className:"bg-white p-5 mb-2",children:[c.jsx("h2",{className:"font-medium mb-2 font-bold",children:"주소"}),c.jsx(Js,{label:"주소",value:t,onChange:x=>s(x.target.value),placeholder:"주소를 입력해주세요."}),c.jsx($e,{text:"변경하기",onClick:p,className:"mt-3 w-full bg-[#0a2158] text-white py-3 rounded-lg font-medium"})]}),c.jsxs("div",{className:"bg-white p-4 mb-2 cursor-pointer",onClick:()=>d(!0),children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"결제 수단 지원 설정"}),c.jsx(Ay,{className:"w-5 h-5 text-gray-400"})]}),o.map(x=>c.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-200 cursor-pointer",onClick:()=>r(`/store/menu/edit/${x.menuId}`),children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:x.menuName}),c.jsxs("p",{className:"text-sm text-gray-600",children:[x.menuPrice.toLocaleString()," KRW"]})]}),c.jsx("img",{src:x.menuImage||"/placeholder.svg",alt:x.menuName,className:"w-20 h-20 object-cover rounded"})]},x.menuId)),c.jsx("div",{className:"p-3",children:c.jsx($e,{text:"메뉴 추가하기",onClick:g,color:"blue",className:"mt-3 w-full bg-[#0a2158] text-white py-3 rounded-lg font-medium"})})]})]}),c.jsx(Z6,{isOpen:u,onClose:()=>d(!1),title:"결제 수단 선택",coins:[{name:"XRP"},{name:"USDT"},{name:"SOL"}]}),c.jsx(ot,{})]})}function rN({label:n,value:e,placeholder:t,onChange:s,className:r="mb-6"}){return c.jsxs("div",{className:r,children:[c.jsx("h3",{className:"text-base font-medium mb-2",children:n}),c.jsx("input",{type:"text",value:e,onChange:s,placeholder:t,className:"w-full p-3 border-b border-gray-300 focus:outline-none focus:border-[#0a2158]"})]})}const tV=()=>c.jsxs("div",{children:[c.jsx("p",{className:"text-base mb-4",children:"고객님의 주소를 확인하는 방법"}),c.jsxs("ol",{className:"list-decimal pl-5 text-sm space-y-2",children:[c.jsx("li",{children:"https://upbit.com/balances/SOL?tab=deposit"}),c.jsx("li",{children:"출금할 코인 수량 입력"}),c.jsx("li",{children:"입금 네트워크와 현재 선택한 코인이 동일한지 확인"}),c.jsx("li",{children:"입금주소 복사"})]})]});function nV(){const n=je(),e=dt(),{symbol:t}=e.state||{},[s,r]=C.useState(),[o,a]=C.useState(),[u,d]=C.useState(),[h,p]=C.useState(null),[g,x]=C.useState(null);C.useEffect(()=>{t&&qb(t).then(A=>{p(A.addressRegistryStatus),x({address:A.address,tag:A.tag,addressStatus:A.addressRegistryStatus}),A.address&&d(!0)}).catch(A=>{console.error("등록된 주소없음",A),p("NOT_REGISTERED"),x(null)})},[t]);const v=async()=>{if(t)try{await $6(t);const A=await qb(t);if(A!=null&&A.addressRegistryStatus)p(A.addressRegistryStatus),x({address:A.address,tag:A.tag,addressStatus:A.addressRegistryStatus});else throw new Error("계좌 상태를 불러오지 못했습니다.")}catch(A){alert("등록 해제 요청 실패"),console.error(A)}},w=()=>h==="UNREGISTERED_AND_REGISTERING"?"등록 해제 후 변경 중..":h==="UNREGISTERED"?"등록 해제중..":"등록 해제",b=async()=>{if(!t){alert("코인 심볼이 없습니다.");return}try{const A={currency:t,address:s,tag:t==="XRP"?o:void 0};u?(await D6(A),alert("계좌가 재등록되었습니다.")):(await M6(A),alert("계좌 등록이 완료되었습니다.")),n(`/coin-detail/${t}`,{state:{isUser:!1}})}catch(A){alert(A.message||"계좌 등록 중 오류 발생"),console.error(A)}},E=!s;return c.jsxs("div",{className:"flex h-screen flex-col bg-white",children:[c.jsx(Me,{title:"코인 입금"}),c.jsx("div",{className:"flex-1 overflow-auto px-6 py-6",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"mb-8 rounded-lg bg-gray-50 p-4 shadow-sm",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-blue-100 mr-3 flex h-10 w-10 items-center justify-center rounded-full",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"text-blue-600 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["네트워크: ",t]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[t," 토큰을 지원하는 블록체인 네트워크"]})]}),(h==="ACTIVE"||h==="UNREGISTERED_AND_REGISTERING"||h==="UNREGISTERED")&&c.jsx("button",{onClick:v,disabled:h==="UNREGISTERED",className:"ml-32 mt-1.5 min-w-[140px] whitespace-nowrap rounded px-4 py-1 text-sm font-bold text-red-600 hover:bg-red-200 disabled:opacity-50",children:w()})]})]})}),c.jsxs("div",{className:"mb-8 rounded-lg border border-gray-100 bg-white p-4 shadow-sm",children:[c.jsx(rN,{label:`고객님의 ${t} 주소`,value:s,onChange:A=>r(A.target.value),placeholder:`고객님의 ${t} 주소를 입력해주세요.`}),t==="XRP"&&c.jsx(rN,{label:"고객님의 XRP Tag 주소",value:o,onChange:A=>a(A.target.value),placeholder:"고객님의 XRP 태그를 입력해주세요.",className:"mt-6"})]}),(g==null?void 0:g.address)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("p",{className:"mb-1 text-sm font-medium text-gray-600",children:[t," 출금 주소"]}),c.jsx("div",{className:"text-blue-900 w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold",children:g.address})]}),t==="XRP"&&c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"mb-1 text-sm font-medium text-gray-600",children:"태그 주소"}),c.jsx("div",{className:"text-blue-900 w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold",children:g.tag})]})]}),c.jsxs("div",{className:"rounded-lg border border-yellow-100 bg-yellow-50 p-4",children:[c.jsxs("h3",{className:"mb-2 flex items-center text-sm font-medium text-yellow-800",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-1 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})}),"안내사항"]}),c.jsx(tV,{})]})]})}),c.jsx("div",{className:"bg-white p-5",children:c.jsx($e,{text:u?"계좌 재등록 요청":"계좌 등록 요청",onClick:b,disabled:E,color:E?"gray":"blue",className:"w-full rounded-lg py-3 text-lg font-medium shadow-md"})}),c.jsx(ot,{})]})}const sV=({amount:n,onAmountChange:e,symbol:t,equivalentValue:s})=>c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"flex items-end mb-2",children:c.jsxs("div",{className:"flex-1 flex items-baseline",children:[c.jsx("input",{type:"text",value:n,onChange:r=>e(r.target.value),className:"text-3xl font-bold w-full bg-transparent border-none outline-none p-0",style:{color:"#0C2B5F"},inputMode:"decimal"}),c.jsx("span",{className:"text-xl font-medium text-gray-700 ml-2",children:t})]})}),c.jsxs("div",{className:"flex justify-between items-center pb-1 border-b border-gray-200",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:["= ",s]}),c.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"환율 적용"})]})]}),rV=({percentages:n,selectedPercentage:e,onPercentageClick:t})=>c.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(s=>c.jsxs("button",{onClick:()=>t(s),className:`px-4 py-2 rounded-lg text-sm transition-all duration-200 flex items-center justify-center min-w-16 border ${e===s?"bg-white text-blue-600 font-bold border-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200 font-medium border-transparent"}`,children:[s,"%"]},s))}),iV=({availableAmount:n,symbol:e,equivalentValue:t})=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:"flex flex-col",children:c.jsx("span",{className:"text-lg text-gray-700 font-bold mb-1",children:"정산 가능 금액"})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-xl font-bold",children:[n.toFixed(2).toLocaleString()," ",c.jsx("span",{className:"text-lg",children:e})]}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["= ",t]})]})]});function oV(){var b,E;const[n,e]=C.useState("3.45"),[t,s]=C.useState(70),r=je(),a=((b=dt().state)==null?void 0:b.symbol)||"XRP",d=((E=nh()[`KRW-${a}`])==null?void 0:E.trade_price)??0,h=A=>{e(A)},p=A=>{s(A);const j=(g*(A/100)).toFixed(2);e(j)},[g,x]=C.useState(0),v=A=>{const j=parseFloat(A);return isNaN(j)?"0 KRW":`${Math.floor(j*d).toLocaleString()} KRW`};C.useEffect(()=>{(async()=>{try{const j=await l1(a);x(j.balance??0);const k=(j.balance*t/100).toFixed(2);e(k)}catch(j){console.warn("잔액 조회 실패:",j)}})()},[a]);const w=async()=>{try{await F6(a,n),alert("정산 요청이 완료되었습니다."),r(`/coin-detail/${a}`,{state:{symbol:a}})}catch(A){A instanceof Error&&(alert("정산 요청 실패: "+A.message),console.error(A))}};return c.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[c.jsx(Me,{title:`${a} 정산`}),c.jsxs("main",{className:"flex-1 overflow-auto px-6 pt-6 pb-24 flex flex-col",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),c.jsx("h1",{className:"text-xl text-gray-800 font-bold",children:"정산받을 금액을 입력하세요"})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:c.jsx(sV,{amount:n,onAmountChange:h,symbol:a,equivalentValue:v(n)})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"빠른 금액 선택"}),c.jsx(rV,{percentages:[10,20,30,50,70,100],selectedPercentage:t,onPercentageClick:p})]}),c.jsx("div",{className:"h-px bg-gray-200 my-6"}),c.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:c.jsx(iV,{availableAmount:g,symbol:a,equivalentValue:v(String(g))})})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500 mt-0.5 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"정산 안내"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["정산 요청 후 영업일 기준 1-2일 내에 처리됩니다. 정산 최소 금액은 0.4 ",a,"입니다."]})]})]})}),c.jsx("div",{className:"flex-grow"})]}),c.jsx("div",{className:"p-5 bg-white",children:c.jsx($e,{text:"정산 요청",onClick:w,color:"primary",className:"py-4 text-lg font-medium rounded-xl shadow-md"})}),c.jsx(ot,{})]})}function aV({networkName:n}){return c.jsx("div",{className:"bg-white rounded-xl p-5 shadow-md mb-6 border border-blue-100",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center mr-4 shadow-sm",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["네트워크: ",n]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[n," 토큰을 지원하는 네트워크"]})]})]})})}function lV({address:n,copied:e,onCopy:t}){return c.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md mb-6 border border-gray-100",children:[c.jsx("p",{className:"text-base font-bold mb-3 text-gray-800",children:"입금할 주소"}),c.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3 border border-gray-200",children:[c.jsx("span",{className:"text-blue-600 font-mono font-medium text-sm break-all mr-2",children:n}),c.jsx("button",{onClick:t,className:"bg-gray-100 hover:bg-gray-200 text-gray-600 p-2 rounded-lg transition-colors",children:c.jsx(GT,{size:18})})]}),e&&c.jsxs("div",{className:"flex items-center mt-2 text-green-500 text-sm",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"주소가 복사되었습니다"]})]})}const cV=()=>c.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md mb-6 border border-gray-100",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("p",{className:"text-base font-bold text-gray-800",children:"입금하는 방법"})]}),c.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 mb-4 border border-yellow-100",children:[c.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-2",children:"안내사항"}),c.jsx("p",{className:"text-xs text-yellow-700",children:"반드시 정확한 주소로 입금해주세요. 잘못된 주소로 입금 시 복구가 불가능합니다."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),c.jsx("p",{className:"text-sm text-gray-700",children:"https://upbit.com/balances/SOL?tab=withdraw"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-blue-600",children:"2"})}),c.jsx("p",{className:"text-sm text-gray-700",children:"출금할 코인 수량 입력"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-blue-600",children:"3"})}),c.jsx("p",{className:"text-sm text-gray-700",children:"확인 버튼 클릭"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-blue-600",children:"4"})}),c.jsx("p",{className:"text-sm text-gray-700",children:"입금처: 입력된 선택"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-blue-600",children:"5"})}),c.jsx("p",{className:"text-sm text-gray-700",children:"받는사람 주소 입력 상단의 입금할 주소 복사하여 붙여넣기"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-red-600",children:"6"})}),c.jsx("p",{className:"text-sm font-bold text-red-600",children:"출금 신청"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-red-600",children:"7"})}),c.jsx("p",{className:"text-sm font-bold text-red-600",children:"거래내역에 접속"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-red-600",children:"8"})}),c.jsx("p",{className:"text-sm font-bold text-red-600",children:"거래 ID 복사"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-red-600",children:"9"})}),c.jsx("p",{className:"text-sm font-bold text-red-600",children:"하단의 입금 요청 클릭 후 거래 ID 입력"})]})]})]});function uV(){const[n,e]=C.useState(!1),t=je(),{symbol:s}=ds(),r=()=>{navigator.clipboard.writeText("TNgzwecDR23DDKFodjkfn20d"),e(!0),setTimeout(()=>e(!1),2e3)},o=()=>{t(`/coin/transaction/${s}`,{state:{isUser:!0}})};return c.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[c.jsx(Me,{title:"코인 입금"}),c.jsx("div",{className:"flex-1 px-6 py-6 overflow-auto bg-gray-50",children:c.jsxs("div",{className:"mb-16 max-w-md mx-auto",children:[c.jsx(aV,{networkName:s||"Unknown"}),c.jsx(lV,{address:"TNgzwecDR23DDKFodjkfn20d",copied:n,onCopy:r}),c.jsx(cV,{})]})}),c.jsx("div",{className:"p-5 bg-white shadow-lg border-t border-gray-100",children:c.jsx($e,{text:"입금 확인",onClick:o,color:"blue",className:"w-full rounded-lg py-3 font-semibold text-lg shadow-md"})}),c.jsx(ot,{})]})}function dV({value:n,onChange:e}){return c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-lg font-semibold mb-3 text-gray-700",children:"거래 ID"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:n,onChange:t=>e(t.target.value),placeholder:"예: TNgzwecDR23DDKFodjkfn20d",className:"w-full border border-gray-300 rounded-lg py-3 px-4 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),n&&c.jsx("button",{onClick:()=>e(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),c.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})]})}const hV=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"입금 가이드"}),c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[c.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"STEP 1"}),c.jsx("p",{className:"text-gray-700 mb-2 text-sm",children:"Upbit 내 출금 완료 후 해당 코인 내역에 접속 후 거래 내역 클릭"}),c.jsx("p",{className:"text-red-600 font-medium text-sm mb-4",children:"※ 출금이 완료되었는지 반드시 확인하세요!"}),c.jsx("div",{className:"bg-white p-2 rounded-lg border border-gray-200",children:c.jsx("img",{src:"/transaction1.svg",alt:"출금 완료 확인 이미지",className:"w-full rounded"})})]}),c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[c.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"STEP 2"}),c.jsx("p",{className:"text-gray-700 mb-4 text-sm",children:"거래 ID를 복사하여 Crepe에 입력하여 거래 확인"}),c.jsx("div",{className:"bg-white p-2 rounded-lg border border-gray-200",children:c.jsx("img",{src:"/transaction2.svg",alt:"거래 ID 복사 이미지",className:"w-full rounded"})})]})]});function fV(){const n=je(),t=ds().symbol,[s,r]=C.useState(""),o=!s,a=async()=>{if(!t){alert("코인 심볼이 없습니다.");return}if(!s){alert("거래 ID를 입력해주세요.");return}console.log(t,s);try{await O6(t,s),n(`/coin-detail/${t}`,{state:{isUser:!0,symbol:t,transactionId:s}})}catch(u){alert("입금 요청 실패: "+u.message)}};return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[c.jsx(Me,{title:"코인 입금"}),c.jsxs("div",{className:"flex-1 px-5 py-6 overflow-auto",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"거래 ID 입력"}),c.jsx(dV,{value:s,onChange:r})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:c.jsx(hV,{})})]}),c.jsx("div",{className:"p-5 bg-white border-t border-gray-100 shadow-sm",children:c.jsx($e,{text:"확인",onClick:a,color:o?"gray":"blue",className:"rounded-lg h-14 text-lg font-medium"})}),c.jsx(ot,{})]})}function pV({coins:n,onClick:e}){return c.jsxs("div",{className:"rounded-xl bg-white p-4 shadow-sm",children:[c.jsx("div",{className:"mb-4 flex items-center justify-between",children:c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"보유 가상자산"})}),c.jsx("div",{className:"space-y-3",children:n.map(t=>c.jsxs("div",{onClick:()=>e(t.currency),className:"flex cursor-pointer items-center justify-between rounded-lg p-3 hover:bg-gray-50",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full ",children:c.jsx("img",{src:t.icon,alt:t.coinName,className:"h-5 w-5 rounded-full"})}),c.jsxs("div",{className:"ml-3",children:[c.jsxs("h4",{className:"font-medium text-gray-900",children:[t.coinName," ",c.jsx("span",{className:"text-sm text-gray-500",children:t.currency})]}),c.jsx("div",{className:"text-sm text-green-500",children:t.change})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-medium text-gray-900",children:t.balance}),c.jsx("div",{className:"text-sm text-gray-500",children:t.krw})]})]},t.currency))})]})}function mV({tokens:n,onClick:e}){const[t,s]=C.useState({}),r=je(),o=a=>{s(u=>({...u,[a]:!u[a]}))};return c.jsxs("div",{className:"rounded-xl bg-white p-4 shadow",children:[c.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-800",children:"보유 토큰"}),n.map(a=>{var u;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between bg-white p-4",children:[c.jsxs("div",{className:"flex cursor-pointer items-center gap-3",onClick:()=>r(`/token/detail/${a.currency}`),children:[c.jsx("img",{src:a.bankImageUrl,alt:a.name,className:"h-6 w-6 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:a.name}),c.jsx("p",{className:"text-xs text-gray-500",children:a.currency})]})]}),c.jsxs("div",{className:"flex cursor-pointer items-center gap-2",onClick:()=>o(a.currency),children:[c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[a.balance.toLocaleString()," ",a.currency]}),c.jsx("p",{className:"text-sm text-gray-500",children:a.krw})]}),c.jsx("div",{children:t[a.currency]?c.jsx(HS,{size:16,className:"text-gray-500"}):c.jsx(US,{size:16,className:"text-gray-500"})})]})]}),t[a.name]&&((u=a.product)==null?void 0:u.map(d=>c.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-gray-50 p-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200",children:c.jsx("span",{className:"whitespace-pre text-xs font-medium"})}),c.jsx("div",{children:c.jsx("p",{className:"font-medium",children:d.name})})]}),c.jsxs("div",{className:"flex cursor-pointer items-center gap-2 text-right",onClick:()=>r(`/token/product/detail/${d.subId}`,{state:{products:d,tokenInfo:a}}),children:[c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("p",{className:"text-blue-600 font-medium",children:d.balance}),c.jsx("p",{className:"text-xs text-gray-500",children:a.currency})]}),c.jsx(Ay,{size:16,className:"text-gray-500"})]})]},d.subId)))]},a.currency)})]})}const d1=c1((n,e)=>({tokens:[],setTokens:t=>n({tokens:t}),getTokenImage:t=>{var s;return(s=e().tokens.find(r=>r.currency===t))==null?void 0:s.bankImageUrl}})),dm="http://localhost:8080",h1="http://localhost:8080",gV=async n=>{const e=sessionStorage.getItem("accessToken"),t=await fetch(`${dm}/api/expired/terminate/${n}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){let s="알 수 없는 오류가 발생했습니다.";try{s=(await t.json()).message||s}catch(r){console.warn("상품 목록 조회 실패:",r)}throw new Error(s)}return await t.text()},xV=async(n,e)=>{const t=sessionStorage.getItem("accessToken"),s=await fetch(`${dm}/api/deposit/token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({subscribeId:n,amount:e})});if(!s.ok){let r="알 수 없는 오류가 발생했습니다.";try{r=(await s.json()).message||r}catch(o){console.warn("상품 목록 조회 실패:",o)}throw new Error(r)}return await s.text()},yV=async()=>{const n=sessionStorage.getItem("accessToken"),e=await fetch(`${dm}/api/account`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!e.ok){let t="알 수 없는 오류가 발생했습니다.";try{t=(await e.json()).message||t}catch(s){console.warn("상품 목록 조회 실패:",s)}throw new Error(t)}return await e.json()},vV=async n=>{const e=sessionStorage.getItem("accessToken"),t=await fetch(`${dm}/api/subscribe/preview/${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){let s="알 수 없는 오류가 발생했습니다.";try{s=(await t.json()).message||s}catch(r){console.warn("내역 조회 실패:",r)}throw new Error(s)}return await t.json()},I_=async(n,e,t=3)=>{const s=sessionStorage.getItem("accessToken");if(!s)throw new Error("로그인 토큰이 없습니다. 다시 로그인해주세요.");const r=await fetch(`${dm}/api/subscribe/history/${n}?page=${e}&size=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});if(!r.ok){let o="알 수 없는 오류가 발생했습니다.";try{o=(await r.json()).message||o}catch(a){console.warn("상품 목록 조회 실패:",a)}throw new Error(o)}return await r.json()},f1=async n=>{const e=sessionStorage.getItem("accessToken"),t=await fetch(`${h1}/api/exchange/info?currency=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error(`토큰 정보 조회 실패: ${t.status}`);return await t.json()},bV=async(n,e)=>{const t=sessionStorage.getItem("accessToken"),r=await fetch(`${h1}${n?"/api/exchange/token":"/api/exchange/coin"}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error(`환전 요청 실패: ${r.status}`);return await r.text()},wV=async(n,e=0,t=5)=>{const s=sessionStorage.getItem("accessToken"),r=new URLSearchParams;r.append("currency",n),r.append("page",e.toString()),r.append("size",t.toString());const o=await fetch(`${h1}/api/history/token?${r}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error(`환전 내역 조회 실패: ${o.status}`);return await o.json()};async function M_(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`/api/token/balance/${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok){let s="알 수 없는 오류가 발생했습니다.";try{s=(await t.json()).message||s}catch(r){console.warn("잔액 조회 실패:",r)}throw new Error(s)}return await t.json()}function SV(){const n=je(),[e,t]=C.useState("coin"),[s,r]=C.useState([]),[o,a]=C.useState([]),u=nh(),[d,h]=C.useState(0);C.useEffect(()=>{if(!o.length||!u)return;(async()=>{try{const b=await Promise.all(o.map(j=>f1(j.currency)));let E=0;const A=o.map(j=>{const k=b.find(M=>M.currency===j.currency);if(!k)return{...j,krw:"- KRW"};const P=k.portfolios.reduce((M,D)=>{var B;const O=((B=u[`KRW-${D.currency}`])==null?void 0:B.trade_price)??0;return M+(D.amount??0)*O},0)/(k.totalSupply||1),R=Math.floor(j.balance*P);return E+=R,{...j,krw:`${R.toLocaleString()} KRW`}});a(A),h(E)}catch(b){console.error("토큰 정보 불러오기 실패:",b)}})()},[o.length,u]),C.useEffect(()=>{(async()=>{try{const b=await T_();r(b.balance),a(b.bankTokenInfo),d1.getState().setTokens(b.bankTokenInfo),u1.getState().setCoins(b.balance)}catch(b){console.error("잔액 불러오기 실패",b)}})()},[]);const p=C.useMemo(()=>s.map(w=>{const b=w.balance,E=u[`KRW-${w.currency}`],A=(E==null?void 0:E.trade_price)??0,j=(E==null?void 0:E.signed_change_rate)??0,k=(E==null?void 0:E.change)??"EVEN",P=`${b} ${w.currency}`,R=b&&A?`${Math.floor(b*A).toLocaleString()} KRW`:"- KRW",M=k==="EVEN"?"-":`${k==="RISE"?"+":"-"}${(Math.abs(j)*100).toFixed(2)}%`;return{currency:w.currency,coinName:w.coinName,icon:w.coinImageUrl,balance:P,krw:R,change:M,changeDirection:k}}),[s,u]),g=w=>{n(`/coin-detail/${w}`)},x=()=>{n("/token/onsale/products")},v=p.reduce((w,b)=>{const E=Number(b.krw.replace(/[^0-9]/g,""));return w+(isNaN(E)?0:E)},0);return c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:"자산관리"}),c.jsxs("main",{className:"flex-1 overflow-auto bg-gray-50",children:[c.jsxs("div",{className:"px-4 py-6",children:[c.jsxs("div",{className:"overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-400 to-blue-500 p-5 shadow-lg",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx($3,{className:"mr-2 h-6 w-6 text-blue-100"}),c.jsx("span",{className:"text-lg font-medium text-blue-100",children:"총 자산"})]}),c.jsxs("h2",{className:"mb-1 text-3xl font-bold text-white",children:[d+v," KRW"]}),c.jsx("div",{className:"flex items-center text-green-300"})]}),c.jsx("div",{className:"mt-5 w-full",children:c.jsx("button",{className:"w-full bg-[#0a2e64] text-white py-2 rounded-xl font-medium text-base shadow-sm",onClick:x,children:"K-토큰 상품 가입"})})]}),c.jsxs("div",{className:"mb-4 flex border-b border-gray-200 bg-white",children:[c.jsx("button",{className:`flex-1 py-3 text-center text-sm font-medium ${e==="coin"?"border-b-2 border-indigo-400 text-indigo-400":"text-gray-500"}`,onClick:()=>t("coin"),children:"가상 자산"}),c.jsx("button",{className:`flex-1 py-3 text-center text-sm font-medium ${e==="token"?"border-b-2 border-indigo-400 text-indigo-400":"text-gray-500"}`,onClick:()=>t("token"),children:"K-토큰"})]}),c.jsx("div",{className:"px-4",children:e==="coin"?c.jsx(pV,{coins:p,onClick:g}):c.jsx(mV,{tokens:o,onClick:x})}),c.jsx("button",{onClick:()=>n("/my/orders"),className:"fixed bottom-24 right-6 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-indigo-500 text-white shadow-lg hover:bg-indigo-500","aria-label":"주문 내역으로 이동",children:c.jsx(YT,{className:"h-6 w-6 stroke-white"})})]}),c.jsx(ot,{})]})}const D_=C.createContext({});function AV(n){const e=C.useRef(null);return e.current===null&&(e.current=n()),e.current}const p1=C.createContext(null),O_=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function CV(n=!0){const e=C.useContext(p1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,o=C.useId();C.useEffect(()=>{n&&r(o)},[n]);const a=C.useCallback(()=>n&&s&&s(o),[o,s,n]);return!t&&s?[!1,a]:[!0]}const m1=typeof window<"u",EV=m1?C.useLayoutEffect:C.useEffect,Ps=n=>n;let F_=Ps;function g1(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ud=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s},ao=n=>n*1e3,lo=n=>n/1e3,jV={useManualTiming:!1};function NV(n){let e=new Set,t=new Set,s=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(h){o.has(h)&&(d.schedule(h),n()),h(a)}const d={schedule:(h,p=!1,g=!1)=>{const v=g&&s?e:t;return p&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{t.delete(h),o.delete(h)},process:h=>{if(a=h,s){r=!0;return}s=!0,[e,t]=[t,e],e.forEach(u),e.clear(),s=!1,r&&(r=!1,d.process(h))}};return d}const $g=["read","resolveKeyframes","update","preRender","render","postRender"],kV=40;function B_(n,e){let t=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,a=$g.reduce((A,j)=>(A[j]=NV(o),A),{}),{read:u,resolveKeyframes:d,update:h,preRender:p,render:g,postRender:x}=a,v=()=>{const A=performance.now();t=!1,r.delta=s?1e3/60:Math.max(Math.min(A-r.timestamp,kV),1),r.timestamp=A,r.isProcessing=!0,u.process(r),d.process(r),h.process(r),p.process(r),g.process(r),x.process(r),r.isProcessing=!1,t&&e&&(s=!1,n(v))},w=()=>{t=!0,s=!0,r.isProcessing||n(v)};return{schedule:$g.reduce((A,j)=>{const k=a[j];return A[j]=(P,R=!1,M=!1)=>(t||w(),k.schedule(P,R,M)),A},{}),cancel:A=>{for(let j=0;j<$g.length;j++)a[$g[j]].cancel(A)},state:r,steps:a}}const{schedule:bt,cancel:Ra,state:yn,steps:nb}=B_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ps,!0),$_=C.createContext({strict:!1}),iN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hd={};for(const n in iN)Hd[n]={isEnabled:e=>iN[n].some(t=>!!e[t])};function TV(n){for(const e in n)Hd[e]={...Hd[e],...n[e]}}const PV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wx(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||PV.has(n)}let V_=n=>!Wx(n);function _V(n){n&&(V_=e=>e.startsWith("on")?!Wx(e):n(e))}try{_V(require("@emotion/is-prop-valid").default)}catch{}function RV(n,e,t){const s={};for(const r in n)r==="values"&&typeof n.values=="object"||(V_(r)||t===!0&&Wx(r)||!e&&!Wx(r)||n.draggable&&r.startsWith("onDrag"))&&(s[r]=n[r]);return s}function LV(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...s)=>n(...s);return new Proxy(t,{get:(s,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const Ry=C.createContext({});function If(n){return typeof n=="string"||Array.isArray(n)}function Ly(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const x1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y1=["initial",...x1];function Iy(n){return Ly(n.animate)||y1.some(e=>If(n[e]))}function z_(n){return!!(Iy(n)||n.variants)}function IV(n,e){if(Iy(n)){const{initial:t,animate:s}=n;return{initial:t===!1||If(t)?t:void 0,animate:If(s)?s:void 0}}return n.inherit!==!1?e:{}}function MV(n){const{initial:e,animate:t}=IV(n,C.useContext(Ry));return C.useMemo(()=>({initial:e,animate:t}),[oN(e),oN(t)])}function oN(n){return Array.isArray(n)?n.join(" "):n}const DV=Symbol.for("motionComponentSymbol");function xu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function OV(n,e,t){return C.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):xu(t)&&(t.current=s))},[e])}const v1=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FV="framerAppearId",U_="data-"+v1(FV),{schedule:b1}=B_(queueMicrotask,!1),H_=C.createContext({});function BV(n,e,t,s,r){var o,a;const{visualElement:u}=C.useContext(Ry),d=C.useContext($_),h=C.useContext(p1),p=C.useContext(O_).reducedMotion,g=C.useRef(null);s=s||d.renderer,!g.current&&s&&(g.current=s(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const x=g.current,v=C.useContext(H_);x&&!x.projection&&r&&(x.type==="html"||x.type==="svg")&&$V(g.current,t,r,v);const w=C.useRef(!1);C.useInsertionEffect(()=>{x&&w.current&&x.update(t,h)});const b=t[U_],E=C.useRef(!!b&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return EV(()=>{x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),b1.render(x.render),E.current&&x.animationState&&x.animationState.animateChanges())}),C.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,b)}),E.current=!1))}),x}function $V(n,e,t,s){const{layoutId:r,layout:o,drag:a,dragConstraints:u,layoutScroll:d,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:W_(n.parent)),n.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||u&&xu(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:h})}function W_(n){if(n)return n.options.allowProjection!==!1?n.projection:W_(n.parent)}function VV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:s,Component:r}){var o,a;n&&TV(n);function u(h,p){let g;const x={...C.useContext(O_),...h,layoutId:zV(h)},{isStatic:v}=x,w=MV(h),b=s(h,v);if(!v&&m1){UV();const E=HV(x);g=E.MeasureLayout,w.visualElement=BV(r,b,x,e,E.ProjectionNode)}return c.jsxs(Ry.Provider,{value:w,children:[g&&w.visualElement?c.jsx(g,{visualElement:w.visualElement,...x}):null,t(r,h,OV(b,w.visualElement,p),b,v,w.visualElement)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${(a=(o=r.displayName)!==null&&o!==void 0?o:r.name)!==null&&a!==void 0?a:""})`}`;const d=C.forwardRef(u);return d[DV]=r,d}function zV({layoutId:n}){const e=C.useContext(D_).id;return e&&n!==void 0?e+"-"+n:n}function UV(n,e){C.useContext($_).strict}function HV(n){const{drag:e,layout:t}=Hd;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const WV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w1(n){return typeof n!="string"||n.includes("-")?!1:!!(WV.indexOf(n)>-1||/[A-Z]/u.test(n))}function aN(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function S1(n,e,t,s){if(typeof e=="function"){const[r,o]=aN(s);e=e(t!==void 0?t:n.custom,r,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,o]=aN(s);e=e(t!==void 0?t:n.custom,r,o)}return e}const Xb=n=>Array.isArray(n),GV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),KV=n=>Xb(n)?n[n.length-1]||0:n,Dn=n=>!!(n&&n.getVelocity);function nx(n){const e=Dn(n)?n.get():n;return GV(e)?e.toValue():e}function qV({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},s,r,o){const a={latestValues:XV(s,r,o,n),renderState:e()};return t&&(a.onMount=u=>t({props:s,current:u,...a}),a.onUpdate=u=>t(u)),a}const G_=n=>(e,t)=>{const s=C.useContext(Ry),r=C.useContext(p1),o=()=>qV(n,e,s,r);return t?o():AV(o)};function XV(n,e,t,s){const r={},o=s(n,{});for(const x in o)r[x]=nx(o[x]);let{initial:a,animate:u}=n;const d=Iy(n),h=z_(n);e&&h&&!d&&n.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let p=t?t.initial===!1:!1;p=p||a===!1;const g=p?u:a;if(g&&typeof g!="boolean"&&!Ly(g)){const x=Array.isArray(g)?g:[g];for(let v=0;v<x.length;v++){const w=S1(n,x[v]);if(w){const{transitionEnd:b,transition:E,...A}=w;for(const j in A){let k=A[j];if(Array.isArray(k)){const P=p?k.length-1:0;k=k[P]}k!==null&&(r[j]=k)}for(const j in b)r[j]=b[j]}}}return r}const sh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_c=new Set(sh),K_=n=>e=>typeof e=="string"&&e.startsWith(n),q_=K_("--"),YV=K_("var(--"),A1=n=>YV(n)?QV.test(n.split("/*")[0].trim()):!1,QV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,X_=(n,e)=>e&&typeof n=="number"?e.transform(n):n,go=(n,e,t)=>t>e?e:t<n?n:t,rh={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Mf={...rh,transform:n=>go(0,1,n)},Vg={...rh,default:1},hm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),zo=hm("deg"),fi=hm("%"),Pe=hm("px"),JV=hm("vh"),ZV=hm("vw"),lN={...fi,parse:n=>fi.parse(n)/100,transform:n=>fi.transform(n*100)},ez={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe},tz={rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:Vg,scaleX:Vg,scaleY:Vg,scaleZ:Vg,skew:zo,skewX:zo,skewY:zo,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Mf,originX:lN,originY:lN,originZ:Pe},cN={...rh,transform:Math.round},C1={...ez,...tz,zIndex:cN,size:Pe,fillOpacity:Mf,strokeOpacity:Mf,numOctaves:cN},nz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sz=sh.length;function rz(n,e,t){let s="",r=!0;for(let o=0;o<sz;o++){const a=sh[o],u=n[a];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(a.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||t){const h=X_(u,C1[a]);if(!d){r=!1;const p=nz[a]||a;s+=`${p}(${h}) `}t&&(e[a]=h)}}return s=s.trim(),t?s=t(e,r?"":s):r&&(s="none"),s}function E1(n,e,t){const{style:s,vars:r,transformOrigin:o}=n;let a=!1,u=!1;for(const d in e){const h=e[d];if(_c.has(d)){a=!0;continue}else if(q_(d)){r[d]=h;continue}else{const p=X_(h,C1[d]);d.startsWith("origin")?(u=!0,o[d]=p):s[d]=p}}if(e.transform||(a||t?s.transform=rz(e,n.transform,t):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=o;s.transformOrigin=`${d} ${h} ${p}`}}const iz={offset:"stroke-dashoffset",array:"stroke-dasharray"},oz={offset:"strokeDashoffset",array:"strokeDasharray"};function az(n,e,t=1,s=0,r=!0){n.pathLength=1;const o=r?iz:oz;n[o.offset]=Pe.transform(-s);const a=Pe.transform(e),u=Pe.transform(t);n[o.array]=`${a} ${u}`}function uN(n,e,t){return typeof n=="string"?n:Pe.transform(e+t*n)}function lz(n,e,t){const s=uN(e,n.x,n.width),r=uN(t,n.y,n.height);return`${s} ${r}`}function j1(n,{attrX:e,attrY:t,attrScale:s,originX:r,originY:o,pathLength:a,pathSpacing:u=1,pathOffset:d=0,...h},p,g){if(E1(n,h,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:v,dimensions:w}=n;x.transform&&(w&&(v.transform=x.transform),delete x.transform),w&&(r!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=lz(w,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),s!==void 0&&(x.scale=s),a!==void 0&&az(x,a,u,d,!1)}const N1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Y_=()=>({...N1(),attrs:{}}),k1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Q_(n,{style:e,vars:t},s,r){Object.assign(n.style,e,r&&r.getProjectionStyles(s));for(const o in t)n.style.setProperty(o,t[o])}const J_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Z_(n,e,t,s){Q_(n,e,void 0,s);for(const r in e.attrs)n.setAttribute(J_.has(r)?r:v1(r),e.attrs[r])}const Gx={};function cz(n){Object.assign(Gx,n)}function eR(n,{layout:e,layoutId:t}){return _c.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Gx[n]||n==="opacity")}function T1(n,e,t){var s;const{style:r}=n,o={};for(const a in r)(Dn(r[a])||e.style&&Dn(e.style[a])||eR(a,n)||((s=t==null?void 0:t.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(o[a]=r[a]);return o}function tR(n,e,t){const s=T1(n,e,t);for(const r in n)if(Dn(n[r])||Dn(e[r])){const o=sh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[o]=n[r]}return s}function uz(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const dN=["x","y","width","height","cx","cy","r"],dz={useVisualState:G_({scrapeMotionValuesFromProps:tR,createRenderState:Y_,onUpdate:({props:n,prevProps:e,current:t,renderState:s,latestValues:r})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in r)if(_c.has(u)){o=!0;break}}if(!o)return;let a=!e;if(e)for(let u=0;u<dN.length;u++){const d=dN[u];n[d]!==e[d]&&(a=!0)}a&&bt.read(()=>{uz(t,s),bt.render(()=>{j1(s,r,k1(t.tagName),n.transformTemplate),Z_(t,s)})})}})},hz={useVisualState:G_({scrapeMotionValuesFromProps:T1,createRenderState:N1})};function nR(n,e,t){for(const s in e)!Dn(e[s])&&!eR(s,t)&&(n[s]=e[s])}function fz({transformTemplate:n},e){return C.useMemo(()=>{const t=N1();return E1(t,e,n),Object.assign({},t.vars,t.style)},[e])}function pz(n,e){const t=n.style||{},s={};return nR(s,t,n),Object.assign(s,fz(n,e)),s}function mz(n,e){const t={},s=pz(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}function gz(n,e,t,s){const r=C.useMemo(()=>{const o=Y_();return j1(o,e,k1(s),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};nR(o,n.style,n),r.style={...o,...r.style}}return r}function xz(n=!1){return(t,s,r,{latestValues:o},a)=>{const d=(w1(t)?gz:mz)(s,o,a,t),h=RV(s,typeof t=="string",n),p=t!==C.Fragment?{...h,...d,ref:r}:{},{children:g}=s,x=C.useMemo(()=>Dn(g)?g.get():g,[g]);return C.createElement(t,{...p,children:x})}}function yz(n,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...w1(s)?dz:hz,preloadedFeatures:n,useRender:xz(r),createVisualElement:e,Component:s};return VV(a)}}function sR(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}function My(n,e,t){const s=n.getProps();return S1(s,e,t!==void 0?t:s.custom,n)}const vz=g1(()=>window.ScrollTimeline!==void 0);class bz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map(r=>{if(vz()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{s.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wz extends bz{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function P1(n,e){return n?n[e]||n.default||n:void 0}const Yb=2e4;function rR(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Yb;)e+=t,s=n.next(e);return e>=Yb?1/0:e}function _1(n){return typeof n=="function"}function hN(n,e){n.timeline=e,n.onfinish=null}const R1=n=>Array.isArray(n)&&typeof n[0]=="number",Sz={linearEasing:void 0};function Az(n,e){const t=g1(n);return()=>{var s;return(s=Sz[e])!==null&&s!==void 0?s:t()}}const Kx=Az(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iR=(n,e,t=10)=>{let s="";const r=Math.max(Math.round(e/t),2);for(let o=0;o<r;o++)s+=n(Ud(0,r-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function oR(n){return!!(typeof n=="function"&&Kx()||!n||typeof n=="string"&&(n in Qb||Kx())||R1(n)||Array.isArray(n)&&n.every(oR))}const tf=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,Qb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tf([0,.65,.55,1]),circOut:tf([.55,0,1,.45]),backIn:tf([.31,.01,.66,-.59]),backOut:tf([.33,1.53,.69,.99])};function aR(n,e){if(n)return typeof n=="function"&&Kx()?iR(n,e):R1(n)?tf(n):Array.isArray(n)?n.map(t=>aR(t,e)||Qb.easeOut):Qb[n]}const ur={x:!1,y:!1};function lR(){return ur.x||ur.y}function Cz(n,e,t){var s;if(n instanceof Element)return[n];if(typeof n=="string"){let r=document;const o=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function cR(n,e){const t=Cz(n),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[t,r,()=>s.abort()]}function fN(n){return e=>{e.pointerType==="touch"||lR()||n(e)}}function Ez(n,e,t={}){const[s,r,o]=cR(n,t),a=fN(u=>{const{target:d}=u,h=e(u);if(typeof h!="function"||!d)return;const p=fN(g=>{h(g),d.removeEventListener("pointerleave",p)});d.addEventListener("pointerleave",p,r)});return s.forEach(u=>{u.addEventListener("pointerenter",a,r)}),o}const uR=(n,e)=>e?n===e?!0:uR(n,e.parentElement):!1,L1=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,jz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nz(n){return jz.has(n.tagName)||n.tabIndex!==-1}const nf=new WeakSet;function pN(n){return e=>{e.key==="Enter"&&n(e)}}function sb(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kz=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=pN(()=>{if(nf.has(t))return;sb(t,"down");const r=pN(()=>{sb(t,"up")}),o=()=>sb(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function mN(n){return L1(n)&&!lR()}function Tz(n,e,t={}){const[s,r,o]=cR(n,t),a=u=>{const d=u.currentTarget;if(!mN(u)||nf.has(d))return;nf.add(d);const h=e(u),p=(v,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),!(!mN(v)||!nf.has(d))&&(nf.delete(d),typeof h=="function"&&h(v,{success:w}))},g=v=>{p(v,t.useGlobalTarget||uR(d,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",x,r)};return s.forEach(u=>{!Nz(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",a,r),u.addEventListener("focus",h=>kz(h,r),r)}),o}function Pz(n){return n==="x"||n==="y"?ur[n]?null:(ur[n]=!0,()=>{ur[n]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}const dR=new Set(["width","height","top","left","right","bottom",...sh]);let sx;function _z(){sx=void 0}const pi={now:()=>(sx===void 0&&pi.set(yn.isProcessing||jV.useManualTiming?yn.timestamp:performance.now()),sx),set:n=>{sx=n,queueMicrotask(_z)}};function I1(n,e){n.indexOf(e)===-1&&n.push(e)}function M1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class D1{constructor(){this.subscriptions=[]}add(e){return I1(this.subscriptions,e),()=>M1(this.subscriptions,e)}notify(e,t,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,s);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hR(n,e){return e?n*(1e3/e):0}const gN=30,Rz=n=>!isNaN(parseFloat(n));class Lz{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const o=pi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Rz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new D1);const s=this.events[e].add(t);return e==="change"?()=>{s(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gN)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,gN);return hR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Df(n,e){return new Lz(n,e)}function Iz(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Df(t))}function Mz(n,e){const t=My(n,e);let{transitionEnd:s={},transition:r={},...o}=t||{};o={...o,...s};for(const a in o){const u=KV(o[a]);Iz(n,a,u)}}function Dz(n){return!!(Dn(n)&&n.add)}function Jb(n,e){const t=n.getValue("willChange");if(Dz(t))return t.add(e)}function fR(n){return n.props[U_]}const pR=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Oz=1e-7,Fz=12;function Bz(n,e,t,s,r){let o,a,u=0;do a=e+(t-e)/2,o=pR(a,s,r)-n,o>0?t=a:e=a;while(Math.abs(o)>Oz&&++u<Fz);return a}function fm(n,e,t,s){if(n===e&&t===s)return Ps;const r=o=>Bz(o,0,1,n,t);return o=>o===0||o===1?o:pR(r(o),e,s)}const mR=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gR=n=>e=>1-n(1-e),xR=fm(.33,1.53,.69,.99),O1=gR(xR),yR=mR(O1),vR=n=>(n*=2)<1?.5*O1(n):.5*(2-Math.pow(2,-10*(n-1))),F1=n=>1-Math.sin(Math.acos(n)),bR=gR(F1),wR=mR(F1),SR=n=>/^0[^.\s]+$/u.test(n);function $z(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||SR(n):!0}const wf=n=>Math.round(n*1e5)/1e5,B1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vz(n){return n==null}const zz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$1=(n,e)=>t=>!!(typeof t=="string"&&zz.test(t)&&t.startsWith(n)||e&&!Vz(t)&&Object.prototype.hasOwnProperty.call(t,e)),AR=(n,e,t)=>s=>{if(typeof s!="string")return s;const[r,o,a,u]=s.match(B1);return{[n]:parseFloat(r),[e]:parseFloat(o),[t]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},Uz=n=>go(0,255,n),rb={...rh,transform:n=>Math.round(Uz(n))},pl={test:$1("rgb","red"),parse:AR("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+rb.transform(n)+", "+rb.transform(e)+", "+rb.transform(t)+", "+wf(Mf.transform(s))+")"};function Hz(n){let e="",t="",s="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Zb={test:$1("#"),parse:Hz,transform:pl.transform},yu={test:$1("hsl","hue"),parse:AR("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+fi.transform(wf(e))+", "+fi.transform(wf(t))+", "+wf(Mf.transform(s))+")"},In={test:n=>pl.test(n)||Zb.test(n)||yu.test(n),parse:n=>pl.test(n)?pl.parse(n):yu.test(n)?yu.parse(n):Zb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?pl.transform(n):yu.transform(n)},Wz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gz(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(B1))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Wz))===null||t===void 0?void 0:t.length)||0)>0}const CR="number",ER="color",Kz="var",qz="var(",xN="${}",Xz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Of(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},r=[];let o=0;const u=e.replace(Xz,d=>(In.test(d)?(s.color.push(o),r.push(ER),t.push(In.parse(d))):d.startsWith(qz)?(s.var.push(o),r.push(Kz),t.push(d)):(s.number.push(o),r.push(CR),t.push(parseFloat(d))),++o,xN)).split(xN);return{values:t,split:u,indexes:s,types:r}}function jR(n){return Of(n).values}function NR(n){const{split:e,types:t}=Of(n),s=e.length;return r=>{let o="";for(let a=0;a<s;a++)if(o+=e[a],r[a]!==void 0){const u=t[a];u===CR?o+=wf(r[a]):u===ER?o+=In.transform(r[a]):o+=r[a]}return o}}const Yz=n=>typeof n=="number"?0:n;function Qz(n){const e=jR(n);return NR(n)(e.map(Yz))}const La={test:Gz,parse:jR,createTransformer:NR,getAnimatableNone:Qz},Jz=new Set(["brightness","contrast","saturate","opacity"]);function Zz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(B1)||[];if(!s)return n;const r=t.replace(s,"");let o=Jz.has(e)?1:0;return s!==t&&(o*=100),e+"("+o+r+")"}const eU=/\b([a-z-]*)\(.*?\)/gu,ew={...La,getAnimatableNone:n=>{const e=n.match(eU);return e?e.map(Zz).join(" "):n}},tU={...C1,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:ew,WebkitFilter:ew},V1=n=>tU[n];function kR(n,e){let t=V1(n);return t!==ew&&(t=La),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const nU=new Set(["auto","none","0"]);function sU(n,e,t){let s=0,r;for(;s<n.length&&!r;){const o=n[s];typeof o=="string"&&!nU.has(o)&&Of(o).values.length&&(r=n[s]),s++}if(r&&t)for(const o of e)n[o]=kR(t,r)}const yN=n=>n===rh||n===Pe,vN=(n,e)=>parseFloat(n.split(", ")[e]),bN=(n,e)=>(t,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return vN(r[1],e);{const o=s.match(/^matrix\((.+)\)$/u);return o?vN(o[1],n):0}},rU=new Set(["x","y","z"]),iU=sh.filter(n=>!rU.has(n));function oU(n){const e=[];return iU.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Wd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:bN(4,13),y:bN(5,14)};Wd.translateX=Wd.x;Wd.translateY=Wd.y;const vc=new Set;let tw=!1,nw=!1;function TR(){if(nw){const n=Array.from(vc).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const r=oU(s);r.length&&(t.set(s,r),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=t.get(s);r&&r.forEach(([o,a])=>{var u;(u=s.getValue(o))===null||u===void 0||u.set(a)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nw=!1,tw=!1,vc.forEach(n=>n.complete()),vc.clear()}function PR(){vc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(nw=!0)})}function aU(){PR(),TR()}class z1{constructor(e,t,s,r,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vc.add(this),tw||(tw=!0,bt.read(PR),bt.resolveKeyframes(TR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:r}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const a=r==null?void 0:r.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&t){const d=s.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),r&&a===void 0&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _R=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),lU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cU(n){const e=lU.exec(n);if(!e)return[,];const[,t,s,r]=e;return[`--${t??s}`,r]}function RR(n,e,t=1){const[s,r]=cU(n);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const a=o.trim();return _R(a)?parseFloat(a):a}return A1(r)?RR(r,e,t+1):r}const LR=n=>e=>e.test(n),uU={test:n=>n==="auto",parse:n=>n},IR=[rh,Pe,fi,zo,ZV,JV,uU],wN=n=>IR.find(LR(n));class MR extends z1{constructor(e,t,s,r,o){super(e,t,s,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),A1(h))){const p=RR(h,t.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!dR.has(s)||e.length!==2)return;const[r,o]=e,a=wN(r),u=wN(o);if(a!==u)if(yN(a)&&yN(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let r=0;r<e.length;r++)$z(e[r])&&s.push(r);s.length&&sU(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Wd[s](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}const SN=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(La.test(n)||n==="0")&&!n.startsWith("url("));function dU(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function hU(n,e,t,s){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],a=SN(r,e),u=SN(o,e);return!a||!u?!1:dU(n)||(t==="spring"||_1(t))&&s}const fU=n=>n!==null;function Dy(n,{repeat:e,repeatType:t="loop"},s){const r=n.filter(fU),o=e&&t!=="loop"&&e%2===1?0:r.length-1;return!o||s===void 0?r[o]:s}const pU=40;class DR{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pi.now(),this.options={autoplay:e,delay:t,type:s,repeat:r,repeatDelay:o,repeatType:a,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&aU(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=pi.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:o,delay:a,onComplete:u,onUpdate:d,isGenerator:h}=this.options;if(!h&&!hU(e,s,r,o))if(a)this.options.duration=0;else{d&&d(Dy(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,t);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...p},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pt=(n,e,t)=>n+(e-n)*t;function ib(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function mU({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let r=0,o=0,a=0;if(!e)r=o=a=t;else{const u=t<.5?t*(1+e):t+e-t*e,d=2*t-u;r=ib(d,u,n+1/3),o=ib(d,u,n),a=ib(d,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:s}}function qx(n,e){return t=>t>0?e:n}const ob=(n,e,t)=>{const s=n*n,r=t*(e*e-s)+s;return r<0?0:Math.sqrt(r)},gU=[Zb,pl,yu],xU=n=>gU.find(e=>e.test(n));function AN(n){const e=xU(n);if(!e)return!1;let t=e.parse(n);return e===yu&&(t=mU(t)),t}const CN=(n,e)=>{const t=AN(n),s=AN(e);if(!t||!s)return qx(n,e);const r={...t};return o=>(r.red=ob(t.red,s.red,o),r.green=ob(t.green,s.green,o),r.blue=ob(t.blue,s.blue,o),r.alpha=Pt(t.alpha,s.alpha,o),pl.transform(r))},yU=(n,e)=>t=>e(n(t)),pm=(...n)=>n.reduce(yU),sw=new Set(["none","hidden"]);function vU(n,e){return sw.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function bU(n,e){return t=>Pt(n,e,t)}function U1(n){return typeof n=="number"?bU:typeof n=="string"?A1(n)?qx:In.test(n)?CN:AU:Array.isArray(n)?OR:typeof n=="object"?In.test(n)?CN:wU:qx}function OR(n,e){const t=[...n],s=t.length,r=n.map((o,a)=>U1(o)(o,e[a]));return o=>{for(let a=0;a<s;a++)t[a]=r[a](o);return t}}function wU(n,e){const t={...n,...e},s={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(s[r]=U1(n[r])(n[r],e[r]));return r=>{for(const o in s)t[o]=s[o](r);return t}}function SU(n,e){var t;const s=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=n.indexes[a][r[a]],d=(t=n.values[u])!==null&&t!==void 0?t:0;s[o]=d,r[a]++}return s}const AU=(n,e)=>{const t=La.createTransformer(e),s=Of(n),r=Of(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?sw.has(n)&&!r.values.length||sw.has(e)&&!s.values.length?vU(n,e):pm(OR(SU(s,r),r.values),t):qx(n,e)};function FR(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Pt(n,e,t):U1(n)(n,e)}const CU=5;function BR(n,e,t){const s=Math.max(e-CU,0);return hR(t-n(s),e-s)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},EN=.001;function EU({duration:n=Mt.duration,bounce:e=Mt.bounce,velocity:t=Mt.velocity,mass:s=Mt.mass}){let r,o,a=1-e;a=go(Mt.minDamping,Mt.maxDamping,a),n=go(Mt.minDuration,Mt.maxDuration,lo(n)),a<1?(r=h=>{const p=h*a,g=p*n,x=p-t,v=rw(h,a),w=Math.exp(-g);return EN-x/v*w},o=h=>{const g=h*a*n,x=g*t+t,v=Math.pow(a,2)*Math.pow(h,2)*n,w=Math.exp(-g),b=rw(Math.pow(h,2),a);return(-r(h)+EN>0?-1:1)*((x-v)*w)/b}):(r=h=>{const p=Math.exp(-h*n),g=(h-t)*n+1;return-.001+p*g},o=h=>{const p=Math.exp(-h*n),g=(t-h)*(n*n);return p*g});const u=5/n,d=NU(r,o,u);if(n=ao(n),isNaN(d))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:n};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:a*2*Math.sqrt(s*h),duration:n}}}const jU=12;function NU(n,e,t){let s=t;for(let r=1;r<jU;r++)s=s-n(s)/e(s);return s}function rw(n,e){return n*Math.sqrt(1-e*e)}const kU=["duration","bounce"],TU=["stiffness","damping","mass"];function jN(n,e){return e.some(t=>n[t]!==void 0)}function PU(n){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...n};if(!jN(n,TU)&&jN(n,kU))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),r=s*s,o=2*go(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Mt.mass,stiffness:r,damping:o}}else{const t=EU(n);e={...e,...t,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function $R(n=Mt.visualDuration,e=Mt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:r}=t;const o=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:v}=PU({...t,velocity:-lo(t.velocity||0)}),w=x||0,b=h/(2*Math.sqrt(d*p)),E=a-o,A=lo(Math.sqrt(d/p)),j=Math.abs(E)<5;s||(s=j?Mt.restSpeed.granular:Mt.restSpeed.default),r||(r=j?Mt.restDelta.granular:Mt.restDelta.default);let k;if(b<1){const R=rw(A,b);k=M=>{const D=Math.exp(-b*A*M);return a-D*((w+b*A*E)/R*Math.sin(R*M)+E*Math.cos(R*M))}}else if(b===1)k=R=>a-Math.exp(-A*R)*(E+(w+A*E)*R);else{const R=A*Math.sqrt(b*b-1);k=M=>{const D=Math.exp(-b*A*M),O=Math.min(R*M,300);return a-D*((w+b*A*E)*Math.sinh(O)+R*E*Math.cosh(O))/R}}const P={calculatedDuration:v&&g||null,next:R=>{const M=k(R);if(v)u.done=R>=g;else{let D=0;b<1&&(D=R===0?ao(w):BR(k,R,M));const O=Math.abs(D)<=s,B=Math.abs(a-M)<=r;u.done=O&&B}return u.value=u.done?a:M,u},toString:()=>{const R=Math.min(rR(P),Yb),M=iR(D=>P.next(R*D).value,R,30);return R+"ms "+M}};return P}function NN({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=n[0],x={done:!1,value:g},v=O=>u!==void 0&&O<u||d!==void 0&&O>d,w=O=>u===void 0?d:d===void 0||Math.abs(u-O)<Math.abs(d-O)?u:d;let b=t*e;const E=g+b,A=a===void 0?E:a(E);A!==E&&(b=A-g);const j=O=>-b*Math.exp(-O/s),k=O=>A+j(O),P=O=>{const B=j(O),z=k(O);x.done=Math.abs(B)<=h,x.value=x.done?A:z};let R,M;const D=O=>{v(x.value)&&(R=O,M=$R({keyframes:[x.value,w(x.value)],velocity:BR(k,O,x.value),damping:r,stiffness:o,restDelta:h,restSpeed:p}))};return D(0),{calculatedDuration:null,next:O=>{let B=!1;return!M&&R===void 0&&(B=!0,P(O),D(O)),R!==void 0&&O>=R?M.next(O-R):(!B&&P(O),x)}}}const _U=fm(.42,0,1,1),RU=fm(0,0,.58,1),VR=fm(.42,0,.58,1),LU=n=>Array.isArray(n)&&typeof n[0]!="number",IU={linear:Ps,easeIn:_U,easeInOut:VR,easeOut:RU,circIn:F1,circInOut:wR,circOut:bR,backIn:O1,backInOut:yR,backOut:xR,anticipate:vR},kN=n=>{if(R1(n)){F_(n.length===4);const[e,t,s,r]=n;return fm(e,t,s,r)}else if(typeof n=="string")return IU[n];return n};function MU(n,e,t){const s=[],r=t||FR,o=n.length-1;for(let a=0;a<o;a++){let u=r(n[a],n[a+1]);if(e){const d=Array.isArray(e)?e[a]||Ps:e;u=pm(d,u)}s.push(u)}return s}function DU(n,e,{clamp:t=!0,ease:s,mixer:r}={}){const o=n.length;if(F_(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=MU(e,s,r),d=u.length,h=p=>{if(a&&p<n[0])return e[0];let g=0;if(d>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const x=Ud(n[g],n[g+1],p);return u[g](x)};return t?p=>h(go(n[0],n[o-1],p)):h}function OU(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const r=Ud(0,e,s);n.push(Pt(t,1,r))}}function FU(n){const e=[0];return OU(e,n.length-1),e}function BU(n,e){return n.map(t=>t*e)}function $U(n,e){return n.map(()=>e||VR).splice(0,n.length-1)}function Xx({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const r=LU(s)?s.map(kN):kN(s),o={done:!1,value:e[0]},a=BU(t&&t.length===e.length?t:FU(e),n),u=DU(a,e,{ease:Array.isArray(r)?r:$U(e,r)});return{calculatedDuration:n,next:d=>(o.value=u(d),o.done=d>=n,o)}}const VU=n=>{const e=({timestamp:t})=>n(t);return{start:()=>bt.update(e,!0),stop:()=>Ra(e),now:()=>yn.isProcessing?yn.timestamp:pi.now()}},zU={decay:NN,inertia:NN,tween:Xx,keyframes:Xx,spring:$R},UU=n=>n/100;class H1 extends DR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:s,element:r,keyframes:o}=this.options,a=(r==null?void 0:r.KeyframeResolver)||z1,u=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new a(o,u,t,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=this.options,u=_1(t)?t:zU[t]||Xx;let d,h;u!==Xx&&typeof e[0]!="number"&&(d=pm(UU,FR(e[0],e[1])),e=[0,100]);const p=u({...this.options,keyframes:e});o==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-a})),p.calculatedDuration===null&&(p.calculatedDuration=rR(p));const{calculatedDuration:g}=p,x=g+r,v=x*(s+1)-r;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:x,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:s}=this;if(!s){const{keyframes:O}=this.options;return{done:!0,value:O[O.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:a,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=s;if(this.startTime===null)return o.next(0);const{delay:x,repeat:v,repeatType:w,repeatDelay:b,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-x*(this.speed>=0?1:-1),j=this.speed>=0?A<0:A>p;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let k=this.currentTime,P=o;if(v){const O=Math.min(this.currentTime,p)/g;let B=Math.floor(O),z=O%1;!z&&O>=1&&(z=1),z===1&&B--,B=Math.min(B,v+1),!!(B%2)&&(w==="reverse"?(z=1-z,b&&(z-=b/g)):w==="mirror"&&(P=a)),k=go(0,1,z)*g}const R=j?{done:!1,value:d[0]}:P.next(k);u&&(R.value=u(R.value));let{done:M}=R;!j&&h!==null&&(M=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return D&&r!==void 0&&(R.value=Dy(d,this.options,r)),E&&E(R.value),D&&this.finish(),R}get duration(){const{resolved:e}=this;return e?lo(e.calculatedDuration):0}get time(){return lo(this.currentTime)}set time(e){e=ao(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=lo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=VU,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const HU=new Set(["opacity","clipPath","filter","transform"]);function WU(n,e,t,{delay:s=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:u="easeInOut",times:d}={}){const h={[e]:t};d&&(h.offset=d);const p=aR(u,r);return Array.isArray(p)&&(h.easing=p),n.animate(h,{delay:s,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const GU=g1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yx=10,KU=2e4;function qU(n){return _1(n.type)||n.type==="spring"||!oR(n.ease)}function XU(n,e){const t=new H1({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:n[0]};const r=[];let o=0;for(;!s.done&&o<KU;)s=t.sample(o),r.push(s.value),o+=Yx;return{times:void 0,keyframes:r,duration:o-Yx,ease:"linear"}}const zR={anticipate:vR,backInOut:yR,circInOut:wR};function YU(n){return n in zR}class TN extends DR{constructor(e){super(e);const{name:t,motionValue:s,element:r,keyframes:o}=this.options;this.resolver=new MR(o,(a,u)=>this.onKeyframesResolved(a,u),t,s,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:r,ease:o,type:a,motionValue:u,name:d,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Kx()&&YU(o)&&(o=zR[o]),qU(this.options)){const{onComplete:g,onUpdate:x,motionValue:v,element:w,...b}=this.options,E=XU(e,b);e=E.keyframes,e.length===1&&(e[1]=e[0]),s=E.duration,r=E.times,o=E.ease,a="keyframes"}const p=WU(u.owner.current,d,e,{...this.options,duration:s,times:r,ease:o});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(hN(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;u.set(Dy(e,this.options,t)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:s,times:r,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return lo(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return lo(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=ao(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Ps;const{animation:s}=t;hN(s,e)}return Ps}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:r,type:o,ease:a,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:x,...v}=this.options,w=new H1({...v,keyframes:s,duration:r,type:o,ease:a,times:u,isGenerator:!0}),b=ao(this.time);h.setWithVelocity(w.sample(b-Yx).value,w.sample(b).value,Yx)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:r,repeatType:o,damping:a,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return GU()&&s&&HU.has(s)&&!d&&!h&&!r&&o!=="mirror"&&a!==0&&u!=="inertia"}}const QU={type:"spring",stiffness:500,damping:25,restSpeed:10},JU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ZU={type:"keyframes",duration:.8},eH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tH=(n,{keyframes:e})=>e.length>2?ZU:_c.has(n)?n.startsWith("scale")?JU(e[1]):QU:eH;function nH({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const W1=(n,e,t,s={},r,o)=>a=>{const u=P1(s,n)||{},d=u.delay||s.delay||0;let{elapsed:h=0}=s;h=h-ao(d);let p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:r};nH(u)||(p={...p,...tH(n,p)}),p.duration&&(p.duration=ao(p.duration)),p.repeatDelay&&(p.repeatDelay=ao(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!o&&e.get()!==void 0){const x=Dy(p.keyframes,u);if(x!==void 0)return bt.update(()=>{p.onUpdate(x),p.onComplete()}),new wz([])}return!o&&TN.supports(p)?new TN(p):new H1(p)};function sH({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function UR(n,e,{delay:t=0,transitionOverride:s,type:r}={}){var o;let{transition:a=n.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(a=s);const h=[],p=r&&n.animationState&&n.animationState.getState()[r];for(const g in d){const x=n.getValue(g,(o=n.latestValues[g])!==null&&o!==void 0?o:null),v=d[g];if(v===void 0||p&&sH(p,g))continue;const w={delay:t,...P1(a||{},g)};let b=!1;if(window.MotionHandoffAnimation){const A=fR(n);if(A){const j=window.MotionHandoffAnimation(A,g,bt);j!==null&&(w.startTime=j,b=!0)}}Jb(n,g),x.start(W1(g,x,v,n.shouldReduceMotion&&dR.has(g)?{type:!1}:w,n,b));const E=x.animation;E&&h.push(E)}return u&&Promise.all(h).then(()=>{bt.update(()=>{u&&Mz(n,u)})}),h}function iw(n,e,t={}){var s;const r=My(n,e,t.type==="exit"?(s=n.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(UR(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=o;return rH(n,e,p+h,g,x,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,p]=d==="beforeChildren"?[a,u]:[u,a];return h().then(()=>p())}else return Promise.all([a(),u(t.delay)])}function rH(n,e,t=0,s=0,r=1,o){const a=[],u=(n.variantChildren.size-1)*s,d=r===1?(h=0)=>h*s:(h=0)=>u-h*s;return Array.from(n.variantChildren).sort(iH).forEach((h,p)=>{h.notify("AnimationStart",e),a.push(iw(h,e,{...o,delay:t+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function iH(n,e){return n.sortNodePosition(e)}function oH(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(o=>iw(n,o,t));s=Promise.all(r)}else if(typeof e=="string")s=iw(n,e,t);else{const r=typeof e=="function"?My(n,e,t.custom):e;s=Promise.all(UR(n,r,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const aH=y1.length;function HR(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?HR(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<aH;t++){const s=y1[t],r=n.props[s];(If(r)||r===!1)&&(e[s]=r)}return e}const lH=[...x1].reverse(),cH=x1.length;function uH(n){return e=>Promise.all(e.map(({animation:t,options:s})=>oH(n,t,s)))}function dH(n){let e=uH(n),t=PN(),s=!0;const r=d=>(h,p)=>{var g;const x=My(n,p,d==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(x){const{transition:v,transitionEnd:w,...b}=x;h={...h,...b,...w}}return h};function o(d){e=d(n)}function a(d){const{props:h}=n,p=HR(n.parent)||{},g=[],x=new Set;let v={},w=1/0;for(let E=0;E<cH;E++){const A=lH[E],j=t[A],k=h[A]!==void 0?h[A]:p[A],P=If(k),R=A===d?j.isActive:null;R===!1&&(w=E);let M=k===p[A]&&k!==h[A]&&P;if(M&&s&&n.manuallyAnimateOnMount&&(M=!1),j.protectedKeys={...v},!j.isActive&&R===null||!k&&!j.prevProp||Ly(k)||typeof k=="boolean")continue;const D=hH(j.prevProp,k);let O=D||A===d&&j.isActive&&!M&&P||E>w&&P,B=!1;const z=Array.isArray(k)?k:[k];let K=z.reduce(r(A),{});R===!1&&(K={});const{prevResolvedValues:X={}}=j,ee={...X,...K},J=G=>{O=!0,x.has(G)&&(B=!0,x.delete(G)),j.needsAnimating[G]=!0;const H=n.getValue(G);H&&(H.liveStyle=!1)};for(const G in ee){const H=K[G],te=X[G];if(v.hasOwnProperty(G))continue;let ne=!1;Xb(H)&&Xb(te)?ne=!sR(H,te):ne=H!==te,ne?H!=null?J(G):x.add(G):H!==void 0&&x.has(G)?J(G):j.protectedKeys[G]=!0}j.prevProp=k,j.prevResolvedValues=K,j.isActive&&(v={...v,...K}),s&&n.blockInitialAnimation&&(O=!1),O&&(!(M&&D)||B)&&g.push(...z.map(G=>({animation:G,options:{type:A}})))}if(x.size){const E={};x.forEach(A=>{const j=n.getBaseTarget(A),k=n.getValue(A);k&&(k.liveStyle=!0),E[A]=j??null}),g.push({animation:E})}let b=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(b=!1),s=!1,b?e(g):Promise.resolve()}function u(d,h){var p;if(t[d].isActive===h)return Promise.resolve();(p=n.variantChildren)===null||p===void 0||p.forEach(x=>{var v;return(v=x.animationState)===null||v===void 0?void 0:v.setActive(d,h)}),t[d].isActive=h;const g=a(d);for(const x in t)t[x].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=PN(),s=!0}}}function hH(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!sR(e,n):!1}function rl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PN(){return{animate:rl(!0),whileInView:rl(),whileHover:rl(),whileTap:rl(),whileDrag:rl(),whileFocus:rl(),exit:rl()}}class Va{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fH extends Va{constructor(e){super(e),e.animationState||(e.animationState=dH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ly(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let pH=0;class mH extends Va{constructor(){super(...arguments),this.id=pH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gH={animation:{Feature:fH},exit:{Feature:mH}};function Ff(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function mm(n){return{point:{x:n.pageX,y:n.pageY}}}const xH=n=>e=>L1(e)&&n(e,mm(e));function Sf(n,e,t,s){return Ff(n,e,xH(t),s)}const _N=(n,e)=>Math.abs(n-e);function yH(n,e){const t=_N(n.x,e.x),s=_N(n.y,e.y);return Math.sqrt(t**2+s**2)}class WR{constructor(e,t,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=lb(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=yH(g.offset,{x:0,y:0})>=3;if(!x&&!v)return;const{point:w}=g,{timestamp:b}=yn;this.history.push({...w,timestamp:b});const{onStart:E,onMove:A}=this.handlers;x||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=ab(x,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=lb(g.type==="pointercancel"?this.lastMoveEventInfo:ab(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,E),w&&w(g,E)},!L1(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=s,this.contextWindow=r||window;const a=mm(e),u=ab(a,this.transformPagePoint),{point:d}=u,{timestamp:h}=yn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=t;p&&p(e,lb(u,this.history)),this.removeListeners=pm(Sf(this.contextWindow,"pointermove",this.handlePointerMove),Sf(this.contextWindow,"pointerup",this.handlePointerUp),Sf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ra(this.updatePoint)}}function ab(n,e){return e?{point:e(n.point)}:n}function RN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function lb({point:n},e){return{point:n,delta:RN(n,GR(e)),offset:RN(n,vH(e)),velocity:bH(e,.1)}}function vH(n){return n[0]}function GR(n){return n[n.length-1]}function bH(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const r=GR(n);for(;t>=0&&(s=n[t],!(r.timestamp-s.timestamp>ao(e)));)t--;if(!s)return{x:0,y:0};const o=lo(r.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-s.x)/o,y:(r.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const KR=1e-4,wH=1-KR,SH=1+KR,qR=.01,AH=0-qR,CH=0+qR;function Rs(n){return n.max-n.min}function EH(n,e,t){return Math.abs(n-e)<=t}function LN(n,e,t,s=.5){n.origin=s,n.originPoint=Pt(e.min,e.max,n.origin),n.scale=Rs(t)/Rs(e),n.translate=Pt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=wH&&n.scale<=SH||isNaN(n.scale))&&(n.scale=1),(n.translate>=AH&&n.translate<=CH||isNaN(n.translate))&&(n.translate=0)}function Af(n,e,t,s){LN(n.x,e.x,t.x,s?s.originX:void 0),LN(n.y,e.y,t.y,s?s.originY:void 0)}function IN(n,e,t){n.min=t.min+e.min,n.max=n.min+Rs(e)}function jH(n,e,t){IN(n.x,e.x,t.x),IN(n.y,e.y,t.y)}function MN(n,e,t){n.min=e.min-t.min,n.max=n.min+Rs(e)}function Cf(n,e,t){MN(n.x,e.x,t.x),MN(n.y,e.y,t.y)}function NH(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?Pt(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?Pt(t,n,s.max):Math.min(n,t)),n}function DN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kH(n,{top:e,left:t,bottom:s,right:r}){return{x:DN(n.x,t,r),y:DN(n.y,e,s)}}function ON(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function TH(n,e){return{x:ON(n.x,e.x),y:ON(n.y,e.y)}}function PH(n,e){let t=.5;const s=Rs(n),r=Rs(e);return r>s?t=Ud(e.min,e.max-s,n.min):s>r&&(t=Ud(n.min,n.max-r,e.min)),go(0,1,t)}function _H(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ow=.35;function RH(n=ow){return n===!1?n=0:n===!0&&(n=ow),{x:FN(n,"left","right"),y:FN(n,"top","bottom")}}function FN(n,e,t){return{min:BN(n,e),max:BN(n,t)}}function BN(n,e){return typeof n=="number"?n:n[e]||0}const $N=()=>({translate:0,scale:1,origin:0,originPoint:0}),vu=()=>({x:$N(),y:$N()}),VN=()=>({min:0,max:0}),Bt=()=>({x:VN(),y:VN()});function Vs(n){return[n("x"),n("y")]}function XR({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function LH({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function IH(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function cb(n){return n===void 0||n===1}function aw({scale:n,scaleX:e,scaleY:t}){return!cb(n)||!cb(e)||!cb(t)}function ol(n){return aw(n)||YR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function YR(n){return zN(n.x)||zN(n.y)}function zN(n){return n&&n!=="0%"}function Qx(n,e,t){const s=n-t,r=e*s;return t+r}function UN(n,e,t,s,r){return r!==void 0&&(n=Qx(n,r,s)),Qx(n,t,s)+e}function lw(n,e=0,t=1,s,r){n.min=UN(n.min,e,t,s,r),n.max=UN(n.max,e,t,s,r)}function QR(n,{x:e,y:t}){lw(n.x,e.translate,e.scale,e.originPoint),lw(n.y,t.translate,t.scale,t.originPoint)}const HN=.999999999999,WN=1.0000000000001;function MH(n,e,t,s=!1){const r=t.length;if(!r)return;e.x=e.y=1;let o,a;for(let u=0;u<r;u++){o=t[u],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&wu(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,QR(n,a)),s&&ol(o.latestValues)&&wu(n,o.latestValues))}e.x<WN&&e.x>HN&&(e.x=1),e.y<WN&&e.y>HN&&(e.y=1)}function bu(n,e){n.min=n.min+e,n.max=n.max+e}function GN(n,e,t,s,r=.5){const o=Pt(n.min,n.max,r);lw(n,e,t,o,s)}function wu(n,e){GN(n.x,e.x,e.scaleX,e.scale,e.originX),GN(n.y,e.y,e.scaleY,e.scale,e.originY)}function JR(n,e){return XR(IH(n.getBoundingClientRect(),e))}function DH(n,e,t){const s=JR(n,t),{scroll:r}=e;return r&&(bu(s.x,r.offset.x),bu(s.y,r.offset.y)),s}const ZR=({current:n})=>n?n.ownerDocument.defaultView:null,OH=new WeakMap;class FH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(mm(p).point)},o=(p,g)=>{const{drag:x,dragPropagation:v,onDragStart:w}=this.getProps();if(x&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pz(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(E=>{let A=this.getAxisMotionValue(E).get()||0;if(fi.test(A)){const{projection:j}=this.visualElement;if(j&&j.layout){const k=j.layout.layoutBox[E];k&&(A=Rs(k)*(parseFloat(A)/100))}}this.originPoint[E]=A}),w&&bt.postRender(()=>w(p,g)),Jb(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(p,g)=>{const{dragPropagation:x,dragDirectionLock:v,onDirectionLock:w,onDrag:b}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=g;if(v&&this.currentDirection===null){this.currentDirection=BH(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),b&&b(p,g)},u=(p,g)=>this.stop(p,g),d=()=>Vs(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new WR(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:ZR(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&bt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:r}=this.getProps();if(!s||!zg(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=NH(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&xu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=kH(r.layoutBox,t):this.constraints=!1,this.elastic=RH(s),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_H(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xu(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=DH(s,r.root,this.visualElement.getTransformPagePoint());let a=TH(r.layout.layoutBox,o);if(t){const u=t(LH(a));this.hasMutatedConstraints=!!u,u&&(a=XR(u))}return a}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=Vs(p=>{if(!zg(p,t,this.currentDirection))return;let g=d&&d[p]||{};a&&(g={min:0,max:0});const x=r?200:1e6,v=r?40:1e7,w={type:"inertia",velocity:s?e[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Jb(this.visualElement,e),s.start(W1(e,s,0,t,this.visualElement,!1))}stopAnimation(){Vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vs(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[t];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vs(t=>{const{drag:s}=this.getProps();if(!zg(t,s,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:u}=r.layout.layoutBox[t];o.set(e[t]-Pt(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!xu(t)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vs(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const d=u.get();r[a]=PH({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vs(a=>{if(!zg(a,e,null))return;const u=this.getAxisMotionValue(a),{min:d,max:h}=this.constraints[a];u.set(Pt(d,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;OH.set(this.visualElement,this);const e=this.visualElement.current,t=Sf(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();xu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),bt.read(s);const a=Ff(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Vs(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())});return()=>{a(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=ow,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:u}}}function zg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function BH(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class $H extends Va{constructor(e){super(e),this.removeGroupControls=Ps,this.removeListeners=Ps,this.controls=new FH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const KN=n=>(e,t)=>{n&&bt.postRender(()=>n(e,t))};class VH extends Va{constructor(){super(...arguments),this.removePointerDownListener=Ps}onPointerDown(e){this.session=new WR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:KN(e),onStart:KN(t),onMove:s,onEnd:(o,a)=>{delete this.session,r&&bt.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=Sf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qN(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Xh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Pe.test(n))n=parseFloat(n);else return n;const t=qN(n,e.target.x),s=qN(n,e.target.y);return`${t}% ${s}%`}},zH={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,r=La.parse(n);if(r.length>5)return s;const o=La.createTransformer(n),a=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;r[0+a]/=u,r[1+a]/=d;const h=Pt(u,d,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),o(r)}};class UH extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:o}=e;cz(HH),o&&(t.group&&t.group.add(o),s&&s.register&&r&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),rx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:r,isPresent:o}=this.props,a=s.projection;return a&&(a.isPresent=o,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||bt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),b1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e2(n){const[e,t]=CV(),s=C.useContext(D_);return c.jsx(UH,{...n,layoutGroup:s,switchLayoutGroup:C.useContext(H_),isPresent:e,safeToRemove:t})}const HH={borderRadius:{...Xh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xh,borderTopRightRadius:Xh,borderBottomLeftRadius:Xh,borderBottomRightRadius:Xh,boxShadow:zH};function WH(n,e,t){const s=Dn(n)?n:Df(n);return s.start(W1("",s,e,t)),s.animation}function GH(n){return n instanceof SVGElement&&n.tagName!=="svg"}const KH=(n,e)=>n.depth-e.depth;class qH{constructor(){this.children=[],this.isDirty=!1}add(e){I1(this.children,e),this.isDirty=!0}remove(e){M1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KH),this.isDirty=!1,this.children.forEach(e)}}function XH(n,e){const t=pi.now(),s=({timestamp:r})=>{const o=r-t;o>=e&&(Ra(s),n(o-e))};return bt.read(s,!0),()=>Ra(s)}const t2=["TopLeft","TopRight","BottomLeft","BottomRight"],YH=t2.length,XN=n=>typeof n=="string"?parseFloat(n):n,YN=n=>typeof n=="number"||Pe.test(n);function QH(n,e,t,s,r,o){r?(n.opacity=Pt(0,t.opacity!==void 0?t.opacity:1,JH(s)),n.opacityExit=Pt(e.opacity!==void 0?e.opacity:1,0,ZH(s))):o&&(n.opacity=Pt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let a=0;a<YH;a++){const u=`border${t2[a]}Radius`;let d=QN(e,u),h=QN(t,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||YN(d)===YN(h)?(n[u]=Math.max(Pt(XN(d),XN(h),s),0),(fi.test(h)||fi.test(d))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=Pt(e.rotate||0,t.rotate||0,s))}function QN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const JH=n2(0,.5,bR),ZH=n2(.5,.95,Ps);function n2(n,e,t){return s=>s<n?0:s>e?1:t(Ud(n,e,s))}function JN(n,e){n.min=e.min,n.max=e.max}function Bs(n,e){JN(n.x,e.x),JN(n.y,e.y)}function ZN(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ek(n,e,t,s,r){return n-=e,n=Qx(n,1/t,s),r!==void 0&&(n=Qx(n,1/r,s)),n}function eW(n,e=0,t=1,s=.5,r,o=n,a=n){if(fi.test(e)&&(e=parseFloat(e),e=Pt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=Pt(o.min,o.max,s);n===o&&(u-=e),n.min=ek(n.min,e,t,u,r),n.max=ek(n.max,e,t,u,r)}function tk(n,e,[t,s,r],o,a){eW(n,e[t],e[s],e[r],e.scale,o,a)}const tW=["x","scaleX","originX"],nW=["y","scaleY","originY"];function nk(n,e,t,s){tk(n.x,e,tW,t?t.x:void 0,s?s.x:void 0),tk(n.y,e,nW,t?t.y:void 0,s?s.y:void 0)}function sk(n){return n.translate===0&&n.scale===1}function s2(n){return sk(n.x)&&sk(n.y)}function rk(n,e){return n.min===e.min&&n.max===e.max}function sW(n,e){return rk(n.x,e.x)&&rk(n.y,e.y)}function ik(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function r2(n,e){return ik(n.x,e.x)&&ik(n.y,e.y)}function ok(n){return Rs(n.x)/Rs(n.y)}function ak(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class rW{constructor(){this.members=[]}add(e){I1(this.members,e),e.scheduleRender()}remove(e){if(M1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let s;for(let r=t;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iW(n,e,t){let s="";const r=n.x.translate/e.x,o=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((r||o||a)&&(s=`translate3d(${r}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:v,skewY:w}=t;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),v&&(s+=`skewX(${v}deg) `),w&&(s+=`skewY(${w}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sf=typeof window<"u"&&window.MotionDebug!==void 0,ub=["","X","Y","Z"],oW={visibility:"hidden"},lk=1e3;let aW=0;function db(n,e,t,s){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),s&&(s[n]=0))}function i2(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=fR(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",bt,!(r||o))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&i2(s)}function o2({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},u=e==null?void 0:e()){this.id=aW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sf&&(al.totalNodes=al.resolvedTargetDeltas=al.recalculatedProjection=0),this.nodes.forEach(uW),this.nodes.forEach(mW),this.nodes.forEach(gW),this.nodes.forEach(dW),sf&&window.MotionDebug.record(al)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new qH)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new D1),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const d=this.eventHandlers.get(a);d&&d.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GH(a),this.instance=a;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||d)&&(this.isLayoutDirty=!0),n){let g;const x=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=XH(x,250),rx.hasAnimatedSinceResize&&(rx.hasAnimatedSinceResize=!1,this.nodes.forEach(uk))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||wW,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=p.getProps(),j=!this.targetLayout||!r2(this.targetLayout,w)||v,k=!x&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||x&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,k);const P={...P1(b,"layout"),onPlay:E,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else x||uk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xW),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ck);return}this.isUpdating||this.nodes.forEach(fW),this.isUpdating=!1,this.nodes.forEach(pW),this.nodes.forEach(lW),this.nodes.forEach(cW),this.clearAllSnapshots();const u=pi.now();yn.delta=go(0,1e3/60,u-yn.timestamp),yn.timestamp=u,yn.isProcessing=!0,nb.update.process(yn),nb.preRender.process(yn),nb.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hW),this.sharedNodes.forEach(yW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!s2(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;a&&(u||ol(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return a&&(d=this.removeTransform(d)),SW(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:u}=this.options;if(!u)return Bt();const d=u.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(AW))){const{scroll:p}=this.root;p&&(bu(d.x,p.offset.x),bu(d.y,p.offset.y))}return d}removeElementScroll(a){var u;const d=Bt();if(Bs(d,a),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Bs(d,a),bu(d.x,g.offset.x),bu(d.y,g.offset.y))}return d}applyTransform(a,u=!1){const d=Bt();Bs(d,a);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&wu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ol(p.latestValues)&&wu(d,p.latestValues)}return ol(this.latestValues)&&wu(d,this.latestValues),d}removeTransform(a){const u=Bt();Bs(u,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ol(h.latestValues))continue;aw(h.latestValues)&&h.updateSnapshot();const p=Bt(),g=h.measurePageBox();Bs(p,g),nk(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return ol(this.latestValues)&&nk(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(a||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Cf(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bs(this.target,this.layout.layoutBox),QR(this.target,this.targetDelta)):Bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Cf(this.relativeTargetOrigin,this.target,v.target),Bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sf&&al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||aw(this.parent.latestValues)||YR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Bs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;MH(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Bt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZN(this.prevProjectionDelta.x,this.projectionDelta.x),ZN(this.prevProjectionDelta.y,this.projectionDelta.y)),Af(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!ak(this.projectionDelta.x,this.prevProjectionDelta.x)||!ak(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),sf&&al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vu(),this.projectionDelta=vu(),this.projectionDeltaWithTransform=vu()}setAnimationOrigin(a,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=vu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Bt(),v=d?d.source:void 0,w=this.layout?this.layout.source:void 0,b=v!==w,E=this.getStack(),A=!E||E.members.length<=1,j=!!(b&&!A&&this.options.crossfade===!0&&!this.path.some(bW));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const R=P/1e3;dk(g.x,a.x,R),dk(g.y,a.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vW(this.relativeTarget,this.relativeTargetOrigin,x,R),k&&sW(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Bt()),Bs(k,this.relativeTarget)),b&&(this.animationValues=p,QH(p,h,this.latestValues,R,j,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{rx.hasAnimatedSinceResize=!0,this.currentAnimation=WH(0,lk,{...a,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=a;if(!(!u||!d||!h)){if(this!==a&&this.layout&&h&&a2(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Bt();const g=Rs(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+g;const x=Rs(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+x}Bs(u,d),wu(u,p),Af(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new rW),this.sharedNodes.get(a).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:u}=this.options;return u?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:u}=this.options;return u?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&db("z",a,h,this.animationValues);for(let p=0;p<ub.length;p++)db(`rotate${ub[p]}`,a,h,this.animationValues),db(`skew${ub[p]}`,a,h,this.animationValues);a.render();for(const p in h)a.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);a.scheduleRender()}getProjectionStyles(a){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oW;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=nx(a==null?void 0:a.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=nx(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ol(this.latestValues)&&(b.transform=p?p({},""):"none",this.hasProjected=!1),b}const x=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=iW(this.projectionDeltaWithTransform,this.treeScale,x),p&&(h.transform=p(x,h.transform));const{x:v,y:w}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,g.animationValues?h.opacity=g===this?(d=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const b in Gx){if(x[b]===void 0)continue;const{correct:E,applyTo:A}=Gx[b],j=h.transform==="none"?x[b]:E(x[b],g);if(A){const k=A.length;for(let P=0;P<k;P++)h[A[P]]=j}else h[b]=j}return this.options.layoutId&&(h.pointerEvents=g===this?nx(a==null?void 0:a.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(ck),this.root.sharedNodes.clear()}}}function lW(n){n.updateLayout()}function cW(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=n.layout,{animationType:o}=n.options,a=t.source!==n.layout.source;o==="size"?Vs(g=>{const x=a?t.measuredBox[g]:t.layoutBox[g],v=Rs(x);x.min=s[g].min,x.max=x.min+v}):a2(o,t.layoutBox,s)&&Vs(g=>{const x=a?t.measuredBox[g]:t.layoutBox[g],v=Rs(s[g]);x.max=x.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+v)});const u=vu();Af(u,s,t.layoutBox);const d=vu();a?Af(d,n.applyTransform(r,!0),t.measuredBox):Af(d,s,t.layoutBox);const h=!s2(u);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const w=Bt();Cf(w,t.layoutBox,x.layoutBox);const b=Bt();Cf(b,s,v.layoutBox),r2(w,b)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=b,n.relativeTargetOrigin=w,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function uW(n){sf&&al.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function dW(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function hW(n){n.clearSnapshot()}function ck(n){n.clearMeasurements()}function fW(n){n.isLayoutDirty=!1}function pW(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function uk(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function mW(n){n.resolveTargetDelta()}function gW(n){n.calcProjection()}function xW(n){n.resetSkewAndRotation()}function yW(n){n.removeLeadSnapshot()}function dk(n,e,t){n.translate=Pt(e.translate,0,t),n.scale=Pt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function hk(n,e,t,s){n.min=Pt(e.min,t.min,s),n.max=Pt(e.max,t.max,s)}function vW(n,e,t,s){hk(n.x,e.x,t.x,s),hk(n.y,e.y,t.y,s)}function bW(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const wW={duration:.45,ease:[.4,0,.1,1]},fk=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pk=fk("applewebkit/")&&!fk("chrome/")?Math.round:Ps;function mk(n){n.min=pk(n.min),n.max=pk(n.max)}function SW(n){mk(n.x),mk(n.y)}function a2(n,e,t){return n==="position"||n==="preserve-aspect"&&!EH(ok(e),ok(t),.2)}function AW(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const CW=o2({attachResizeListener:(n,e)=>Ff(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hb={current:void 0},l2=o2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!hb.current){const n=new CW({});n.mount(window),n.setOptions({layoutScroll:!0}),hb.current=n}return hb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),EW={pan:{Feature:VH},drag:{Feature:$H,ProjectionNode:l2,MeasureLayout:e2}};function gk(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,o=s[r];o&&bt.postRender(()=>o(e,mm(e)))}class jW extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=Ez(e,t=>(gk(this.node,t,"Start"),s=>gk(this.node,s,"End"))))}unmount(){}}class NW extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pm(Ff(this.node.current,"focus",()=>this.onFocus()),Ff(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xk(n,e,t){const{props:s}=n;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),o=s[r];o&&bt.postRender(()=>o(e,mm(e)))}class kW extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=Tz(e,t=>(xk(this.node,t,"Start"),(s,{success:r})=>xk(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cw=new WeakMap,fb=new WeakMap,TW=n=>{const e=cw.get(n.target);e&&e(n)},PW=n=>{n.forEach(TW)};function _W({root:n,...e}){const t=n||document;fb.has(t)||fb.set(t,{});const s=fb.get(t),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(PW,{root:n,...e})),s[r]}function RW(n,e,t){const s=_W(e);return cw.set(n,t),s.observe(n),()=>{cw.delete(n),s.unobserve(n)}}const LW={some:0,all:1};class IW extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:r="some",once:o}=e,a={root:t?t.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:LW[r]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(d)};return RW(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(MW(e,t))&&this.startObserver()}unmount(){}}function MW({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const DW={inView:{Feature:IW},tap:{Feature:kW},focus:{Feature:NW},hover:{Feature:jW}},OW={layout:{ProjectionNode:l2,MeasureLayout:e2}},uw={current:null},c2={current:!1};function FW(){if(c2.current=!0,!!m1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>uw.current=n.matches;n.addListener(e),e()}else uw.current=!1}const BW=[...IR,In,La],$W=n=>BW.find(LR(n)),yk=new WeakMap;function VW(n,e,t){for(const s in e){const r=e[s],o=t[s];if(Dn(r))n.addValue(s,r);else if(Dn(o))n.addValue(s,Df(r,{owner:n}));else if(o!==r)if(n.hasValue(s)){const a=n.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=n.getStaticValue(s);n.addValue(s,Df(a!==void 0?a:r,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const vk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zW{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:o,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=pi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,bt.render(this.render,!1,!0))};const{latestValues:d,renderState:h,onUpdate:p}=a;this.onUpdate=p,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Iy(t),this.isVariantNode=z_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in x){const w=x[v];d[v]!==void 0&&Dn(w)&&w.set(d[v],!1)}}mount(e){this.current=e,yk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),c2.current||FW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yk.delete(this.current),this.projection&&this.projection.unmount(),Ra(this.notifyUpdate),Ra(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=_c.has(e),r=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&bt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hd){const t=Hd[e];if(!t)continue;const{isEnabled:s,Feature:r}=t;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<vk.length;s++){const r=vk[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=e[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=VW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Df(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_R(r)||SR(r))?r=parseFloat(r):!$W(r)&&La.test(t)&&(r=kR(e,t)),this.setBaseTarget(e,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const a=S1(this.props,s,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(r=a[e])}if(s&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Dn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new D1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class u2 extends zW{constructor(){super(...arguments),this.KeyframeResolver=MR}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function UW(n){return window.getComputedStyle(n)}class HW extends u2{constructor(){super(...arguments),this.type="html",this.renderInstance=Q_}readValueFromInstance(e,t){if(_c.has(t)){const s=V1(t);return s&&s.default||0}else{const s=UW(e),r=(q_(t)?s.getPropertyValue(t):s[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return JR(e,t)}build(e,t,s){E1(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return T1(e,t,s)}}class WW extends u2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_c.has(t)){const s=V1(t);return s&&s.default||0}return t=J_.has(t)?t:v1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return tR(e,t,s)}build(e,t,s){j1(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,r){Z_(e,t,s,r)}mount(e){this.isSVGTag=k1(e.tagName),super.mount(e)}}const GW=(n,e)=>w1(n)?new WW(e):new HW(e,{allowProjection:n!==C.Fragment}),KW=yz({...gH,...DW,...EW,...OW},GW),Ns=LV(KW);function qW({isSelected:n}){return c.jsx(Ns.div,{className:"w-6 h-6 rounded-full border border-gray-300 flex items-center justify-center",animate:{borderColor:n?"#002169":"#d1d5db",boxShadow:n?"0 0 0 2px rgba(0, 33, 105, 0.2)":"none"},children:n&&c.jsx(Ns.div,{className:"w-4 h-4 rounded-full bg-[#002169]",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}})})}function XW({option:n}){return c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:n.label}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-lg font-bold",children:n.amount}),n.insufficientBalance&&c.jsx("span",{className:"ml-2 text-sm text-red-500",children:"잔액 부족"})]})]})}function YW({option:n,isSelected:e,onSelect:t,animationDelay:s}){return c.jsx(Ns.div,{className:`p-4 rounded-lg border ${e?"border-[#002169]":"border-gray-200"} ${n.insufficientBalance?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{n.insufficientBalance||t(n.id)},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},whileHover:n.insufficientBalance?{}:{scale:1.02},whileTap:n.insufficientBalance?{}:{scale:.98},children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(XW,{option:n}),c.jsx(qW,{isSelected:e})]})})}const QW=({options:n,selectedPaymentId:e,onSelectPayment:t})=>c.jsx("div",{className:"space-y-4",children:n.map((s,r)=>c.jsx(YW,{option:s,isSelected:e===s.id,onSelect:t,animationDelay:r*.1},s.id))}),G1="http://localhost:8080";async function JW(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${G1}/api/orders/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(n)});if(!t.ok)throw new Error(`Order creation failed with status ${t.status}`);return t.text()}async function ZW(n){const e=sessionStorage.getItem("accessToken"),t=await fetch(`${G1}/api/orders/${n}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Failed to fetch order details with status ${t.status}`);return t.json()}async function e8(){const n=sessionStorage.getItem("accessToken"),e=await fetch(`${G1}/api/orders`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!e.ok)throw new Error(`Failed to fetch order details with status ${e.status}`);return e.json()}function t8(){var g,x,v,w,b,E,A,j,k,P,R;const n=je(),[e,t]=C.useState(null),s=nh(),[r,o]=C.useState({}),[a,u]=C.useState(0);C.useEffect(()=>{const M=localStorage.getItem("totalPrice");M&&u(Number(M))},[]),C.useEffect(()=>{(async()=>{try{const B=(await T_()).balance.reduce((z,K)=>(z[K.currency]=K.balance,z),{});o(B)}catch(D){console.error("Error fetching balances:",D)}})()},[]);const d=[{id:"XRP",label:"XRP",amount:(g=s["KRW-XRP"])!=null&&g.trade_price?`${(a/s["KRW-XRP"].trade_price).toFixed(2)} XRP`:"Loading...",insufficientBalance:!((x=s["KRW-XRP"])!=null&&x.trade_price)||r.XRP===void 0||r.XRP<a/s["KRW-XRP"].trade_price},{id:"SOL",label:"SOL",amount:(v=s["KRW-SOL"])!=null&&v.trade_price?`${(a/((w=s["KRW-SOL"])==null?void 0:w.trade_price)).toFixed(2)} SOL`:"Loading...",insufficientBalance:!((b=s["KRW-SOL"])!=null&&b.trade_price)||r.SOL===void 0||r.SOL<a/((E=s["KRW-SOL"])==null?void 0:E.trade_price)},{id:"USDT",label:"USDT",amount:(A=s["KRW-USDT"])!=null&&A.trade_price?`${(a/((j=s["KRW-USDT"])==null?void 0:j.trade_price)).toFixed(2)} USDT`:"Loading...",insufficientBalance:!((k=s["KRW-USDT"])!=null&&k.trade_price)||r.USDT===void 0||r.USDT<a/((P=s["KRW-USDT"])==null?void 0:P.trade_price)}],h=M=>{t(M)},p=async()=>{var ee;if(!e)return;const M=d.find(J=>J.id===e);if(M!=null&&M.insufficientBalance){alert("잔액이 부족합니다.");return}const D=localStorage.getItem("cartItems");if(!D){alert("장바구니에 담긴 상품이 없습니다.");return}const O=JSON.parse(D);if(!O.length){alert("장바구니가 비어있습니다.");return}const B=(ee=O[0])==null?void 0:ee.storeId;if(B==null){alert("유효한 가게 정보가 없습니다. (storeId is null)");return}const z=O.map(J=>({menuId:J.id,menuCount:J.quantity})),K=s[`KRW-${e}`].trade_price;if(!K){alert("시세 정보를 불러오지 못했습니다. 잠시 후 다시 시도해주세요.");return}const X={storeId:B,orderDetails:z,currency:e,exchangeRate:K};try{const J=await JW(X);n("/mall/store/order-pending",{state:{orderId:J}})}catch(J){console.error("Order creation failed:",J),alert("주문 생성에 실패했습니다.")}};return c.jsxs("div",{className:"flex flex-col min-h-screen",children:[c.jsx(Me,{title:"결제수단 선택",isStore:!1}),c.jsxs("div",{className:"flex-grow page-container bg-white pb-0 pt-5",children:[c.jsx("div",{className:"p-4 min-h-[70vh]",children:c.jsx(QW,{options:d,selectedPaymentId:e,onSelectPayment:h})}),c.jsx("div",{className:"flex justify-center mt-auto px-4 pb-4",children:c.jsx($e,{text:"주문하기",onClick:p,color:"primary",disabled:!e||((R=d.find(M=>M.id===e))==null?void 0:R.insufficientBalance),fullWidth:!0})})]}),c.jsx(ot,{})]})}const n8=({items:n,onIncrease:e,onDecrease:t})=>c.jsx("div",{className:"space-y-5",children:n.map(s=>c.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"flex-shrink-0 mr-4",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:s.image,alt:s.name,className:"w-20 h-20 object-cover rounded-lg shadow-sm"}),c.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs font-medium px-2 py-1 rounded-full",children:s.quantity})]})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-base font-medium text-gray-800 mb-1",children:s.name}),c.jsxs("p",{className:"text-blue-600 font-medium",children:[s.price.toLocaleString()," KRW"]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{className:"w-8 h-8 flex items-center justify-center text-blue-600 rounded-full hover:bg-blue-50 transition-colors",onClick:()=>t(s.id),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M5 12H19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),c.jsx("span",{className:"w-6 text-center font-medium text-gray-700",children:s.quantity}),c.jsx("button",{className:"w-8 h-8 flex items-center justify-center text-blue-600 rounded-full hover:bg-blue-50 transition-colors",onClick:()=>e(s.id),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},s.id))}),s8=({totalPrice:n,onCheckoutClick:e})=>c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-3",children:"결제 정보"}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[c.jsx("span",{children:"상품 금액"}),c.jsxs("span",{children:[n.toLocaleString()," KRW"]})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[c.jsx("span",{children:"배송비"}),c.jsx("span",{children:"0 KRW"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[c.jsx("span",{children:"할인 금액"}),c.jsx("span",{children:"0 KRW"})]})]}),c.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-b mb-6",children:[c.jsx("span",{className:"font-medium text-gray-800",children:"총 결제 금액"}),c.jsxs("span",{className:"font-bold text-xl text-blue-700",children:[n.toLocaleString()," KRW"]})]}),c.jsx($e,{text:"결제수단 선택",onClick:e,className:"w-full py-3 rounded-lg font-medium bg-blue-700 hover:bg-blue-800 text-white transition-colors shadow-md"})]}),r8=({onClick:n})=>c.jsxs("button",{className:"flex items-center justify-center w-full py-3 rounded-lg bg-blue-50 text-blue-700 font-medium hover:bg-blue-100 transition-colors",onClick:n,children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2",children:c.jsx("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),c.jsx("span",{children:"더 담으러 가기"})]});function i8(){const n=je(),[e,t]=C.useState([]),[s,r]=C.useState(null),o=e.length>0?e[0].storeId:0;C.useEffect(()=>{const u=localStorage.getItem("cartItems");u?t(JSON.parse(u)):(console.warn("로컬 스토리지에 장바구니 데이터가 없습니다."),n(-1))},[]),C.useEffect(()=>{e.length>0&&(async()=>{try{const d=e[0].storeId,h=await L_(d);r(h)}catch(d){console.error("Error fetching store data:",d)}})()},[e]);const a=e.reduce((u,d)=>u+d.price*d.quantity,0);return C.useEffect(()=>{localStorage.setItem("totalPrice",a.toString())},[a]),c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[c.jsx(Me,{title:"장바구니",isStore:!1}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"text-center px-4 mt-4 mb-5",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s==null?void 0:s.storeName}),c.jsxs("p",{className:"text-base tracking-tight mt-2 text-gray-700",children:["주소: ",s==null?void 0:s.storeAddress]}),c.jsx("div",{className:"flex justify-center mt-5 mb-5",children:c.jsx(_y,{coins:(s==null?void 0:s.coinList)||[]})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4 border-b pb-3",children:"주문 상품 목록"}),c.jsx("div",{className:"space-y-5",children:c.jsx(n8,{items:e,onIncrease:u=>{t(d=>{const h=d.map(p=>p.id===u?{...p,quantity:p.quantity+1}:p);return localStorage.setItem("cartItems",JSON.stringify(h)),h})},onDecrease:u=>{t(d=>{const h=d.map(p=>p.id===u?{...p,quantity:Math.max(0,p.quantity-1)}:p).filter(p=>p.quantity>0);return localStorage.setItem("cartItems",JSON.stringify(h)),h})}})}),c.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:c.jsx(r8,{onClick:()=>n(`/mall/store/${o}`)})})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-12",children:c.jsx(s8,{totalPrice:a,onCheckoutClick:()=>n("/mall/store/order")})})]})}),c.jsx(ot,{})]})}const o8=({currentStep:n})=>{const e=[{label:"주문요청",number:1},{label:"주문확인",number:2},{label:"준비완료",number:3}];return c.jsx("div",{className:"flex justify-between items-center mb-8",children:e.map((t,s)=>c.jsxs(ls.Fragment,{children:[c.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[c.jsx("div",{className:`w-8 h-8 rounded-full ${t.number<=n?"bg-[#002169] text-white":"bg-gray-300 text-gray-500"} flex items-center justify-center mb-2`,children:n>=t.number?c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M20 6L9 17L4 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):t.number}),c.jsx("div",{className:`text-xs ${t.number<=n?"text-[#002169] font-medium":"text-gray-500"}`,children:t.label})]}),s<e.length-1&&c.jsx("div",{className:"w-16 h-1 bg-gray-300"})]},t.number))})},a8=(n,e)=>{switch(n){case"WAITING":return c.jsx("div",{className:"text-xs text-blue-500",children:"주문 접수"});case"PAID":return c.jsx("div",{className:"text-xs text-green-500",children:"주문 수락"});case"COMPLETED":return c.jsx("div",{className:"text-xs text-green-500",children:"준비 완료"});case"CANCELLED":return c.jsxs("div",{className:"text-xs text-red-500",children:["주문 거절",e?" - "+e:""]});default:return c.jsx("div",{className:"text-xs text-gray-500",children:"알 수 없는 상태"})}},l8=({orderId:n,totalPrice:e,orderStatus:t,orderType:s,orderDetails:r,reason:o})=>c.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-md flex items-center justify-center mr-2",children:c.jsx(c8,{})}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-bold",children:["Order #",n]}),a8(t,o)]})]}),c.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[c.jsxs("p",{children:["주문 유형: ",s]}),c.jsxs("p",{children:["총 금액: ",e.toLocaleString()," 원"]})]}),c.jsx("div",{className:"mt-4",children:r.map((a,u)=>c.jsxs("div",{className:"flex justify-between text-sm py-1 border-b last:border-0",children:[c.jsxs("span",{children:[a.menuName," x ",a.menuCount]}),c.jsxs("span",{children:[(a.menuPrice*a.menuCount).toLocaleString()," 원"]})]},u))})]}),c8=()=>c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z",stroke:"#4CAF50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z",stroke:"#4CAF50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6",stroke:"#4CAF50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),u8=({orderStatus:n})=>{let e="",t="",s="",r=null;switch(n){case"PAID":e="주문이 확인되었습니다",t="결제가 완료되었습니다.",s="bg-blue-100",r=c.jsx("svg",{className:"w-12 h-12 text-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});break;case"COMPLETED":e="준비완료",t="주문하신 상품이 준비되었습니다.",s="bg-green-100",r=c.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});break;case"CANCELLED":e="주문이 취소되었습니다",t="취소된 주문입니다.",s="bg-red-100",r=c.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});break;default:e="주문이 접수되었습니다",t="곧 매장에서 주문을 확인할 예정입니다.",s="bg-green-100",r=c.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});break}return c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:`inline-block rounded-full ${s} p-4 mb-4 shadow-md`,children:r}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:e}),c.jsx("p",{className:"text-gray-600",children:t})]})};function d8(){const n=je(),{orderId:e}=ds(),[t,s]=C.useState(null),r=u=>{switch(u){case"WAITING":return 1;case"PAID":return 2;case"COMPLETED":return 3;default:return 1}};C.useEffect(()=>{if(!e)return;const u=async()=>{try{const h=await ZW(e);s(h)}catch(h){console.error("Failed to fetch order details:",h)}};u();const d=setInterval(u,1e4);return()=>clearInterval(d)},[e]),C.useEffect(()=>{localStorage.removeItem("totalPrice"),localStorage.removeItem("cartItems")},[]);const o={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};return c.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[c.jsx(Me,{title:"주문 요청",isStore:!1}),c.jsx(Ns.div,{className:"flex-grow",initial:"hidden",animate:"visible",variants:o,children:c.jsxs("div",{className:"p-6",children:[c.jsx(Ns.div,{variants:a,children:c.jsx(u8,{orderStatus:t?t.orderStatus:"WAITING"})}),c.jsx(Ns.div,{variants:a,children:c.jsx(o8,{currentStep:t?r(t.orderStatus):1})}),c.jsx(Ns.div,{variants:a,className:"my-8 transition-all duration-300 hover:shadow-lg rounded-xl",children:t?c.jsx(l8,{orderId:t.orderId,totalPrice:t.totalPrice,orderStatus:t.orderStatus,orderType:t.orderType,orderDetails:t.orderDetails}):c.jsx("p",{children:"주문 상세 정보를 불러오는 중..."})}),c.jsx(Ns.div,{className:"mt-6",variants:a,whileHover:{scale:1.03},whileTap:{scale:.97},children:c.jsx($e,{text:"홈으로 돌아가기",onClick:()=>n("/mall"),color:"primary",className:"py-4 rounded-xl shadow-lg",fullWidth:!0})}),c.jsx(Ns.div,{className:"mt-6 text-center text-gray-500 text-sm",variants:a})]})}),c.jsx(ot,{})]})}const h8=()=>{const[n,e]=C.useState(""),[t,s]=C.useState("전체"),r=je(),[o,a]=C.useState(!1),[u,d]=C.useState([]),[h,p]=C.useState(!0),[g,x]=C.useState(null);C.useEffect(()=>(window.scrollTo(0,0),a(!0),document.body.style.overflow="hidden",document.body.classList.remove("page-transition"),(async()=>{try{p(!0);const j=await Q6();d(j),x(null)}catch(j){console.error("Error fetching stores:",j),x("가게 목록을 불러오는데 실패했습니다. 다시 시도해주세요.")}finally{p(!1)}})(),()=>{document.body.style.overflow=""}),[]);const v=A=>{A.preventDefault()},w=u.filter(A=>{const j=n===""||A.storeName.toLowerCase().includes(n.toLowerCase()),k=t==="전체"||A.storeType===t;return j&&k}),b=g?[]:w;return c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:"쇼핑몰",isStore:!1}),c.jsxs("main",{className:"flex-1 overflow-auto",children:[c.jsx("div",{className:"bg-white shadow-sm",children:c.jsxs("div",{className:"px-5 pt-5 pb-3",children:[c.jsxs("form",{onSubmit:v,className:"relative mb-5",children:[c.jsx("input",{type:"text",placeholder:"상품 검색어를 입력해 주세요.",value:n,onChange:A=>e(A.target.value),className:"w-full h-12 bg-gray-100 rounded-full pl-5 pr-12 focus:outline-none focus:ring-2 focus:ring-[#002169] focus:ring-opacity-30 transition-all"}),c.jsx("button",{type:"submit",className:"absolute right-4 top-3",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-500",children:c.jsx("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),c.jsxs("div",{className:"flex border-b border-gray-200",children:[["전체","음식점","카페"].map(A=>c.jsxs("button",{className:`px-5 py-3 text-sm font-medium relative transition-all ${t===A?"text-[#002169] font-semibold":"text-gray-500 hover:text-gray-700"}`,onClick:()=>s(A),children:[A,t===A&&c.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-[#002169] rounded-t-full"})]},`tab-${A}`)),c.jsxs("button",{className:"ml-auto px-4 py-3 text-sm font-medium text-gray-600 flex items-center",children:["최신순",c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-1",children:c.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})}),h?c.jsx("div",{className:"flex justify-center items-center p-10",children:c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-[#002169]"})}):g?c.jsxs("div",{className:"px-5 py-10 text-center text-gray-600",children:[c.jsx("p",{children:g}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#002169] text-white rounded-lg hover:bg-opacity-90",children:"새로고침"})]}):c.jsx("div",{className:"bg-gray-50 py-3",children:c.jsx("div",{className:"px-5 space-y-4",children:b.length>0?b.map(A=>c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 transition-all hover:shadow-md",onClick:()=>{document.body.classList.add("page-transition"),r(`/mall/store/${A.storeId}`)},children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h3",{className:"font-bold text-gray-900",children:A.storeName}),c.jsx("div",{className:"flex items-center",children:c.jsx("img",{src:A.storeImage,alt:A.storeName,width:80,height:60,className:"rounded-lg object-cover"})})]}),c.jsx(_y,{coins:A.coinList||[]}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsx("div",{className:"text-sm text-gray-500",children:A.storeType&&c.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full",children:A.storeType})}),c.jsxs("div",{className:"flex items-center text-gray-500 bg-gray-50 px-2 py-1 rounded-full",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-1",children:c.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),c.jsx("span",{className:"text-sm font-medium",children:A.likeCount||0})]})]})]},`store-${A.storeId}`)):c.jsx("div",{className:"py-10 text-center text-gray-600",children:c.jsx("p",{children:"표시할 가게가 없습니다."})})})})]}),c.jsx(ot,{}),c.jsx("style",{dangerouslySetInnerHTML:{__html:`
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      width: 100vw;
      overflow: hidden;
    }

    #root {
      height: 100%;
      width: 100%;
      overflow: hidden;
    }

    .page-transition {
      opacity: 0.8;
      transition: opacity 0.2s ease-in-out;
    }
  `}})]})};function f8(){var D,O;const{bank:n}=ds(),e=je(),s=((D=dt().state)==null?void 0:D.isUser)??!1,[r,o]=C.useState(!0),[a,u]=C.useState(0),[d,h]=C.useState(null),p=C.useRef(null),g=d1(B=>B.tokens),x=nh(),v=g.find(B=>B.currency===n),w=(B,z)=>z===0?0:B/z,[b,E]=C.useState(0),[A,j]=C.useState(0);C.useEffect(()=>{if(!d||!x)return;const B=d.portfolios.reduce((K,X)=>{var J;const ee=((J=x[`KRW-${X.currency}`])==null?void 0:J.trade_price)??0;return K+(X.amount??0)*ee},0);E(B);const z=w(B,d.totalSupply??0);j(z)},[d,x]),C.useEffect(()=>{if(!n)return;const B=async()=>{const[K]=await Promise.all([f1(n)]);h(K)};B();const z=setInterval(B,5e3);return()=>clearInterval(z)},[n]);const{data:k,fetchNextPage:P,hasNextPage:R,isFetchingNextPage:M}=ET({queryKey:["tokenExchangeHistory",n],queryFn:({pageParam:B=0})=>wV(n??"",B,5),getNextPageParam:B=>{var z;if(!(B.last||(((z=B.content)==null?void 0:z.length)||0)===0))return B.pageable.pageNumber+1},enabled:!!n,initialPageParam:0,refetchOnWindowFocus:!1});return C.useEffect(()=>{const B=new IntersectionObserver(z=>{z[0].isIntersecting&&R&&!M&&P()});return p.current&&B.observe(p.current),()=>B.disconnect()},[P,R,M]),C.useEffect(()=>{n&&M_(n).then(B=>u(B)).catch(B=>{console.error("잔액 조회 실패:",B),u(0)})},[n]),n?c.jsxs("div",{className:"relative flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:`${n} 상세`,onBackClick:()=>{e("/my/coin")}}),c.jsxs("main",{className:"flex-1 overflow-auto p-3 transition-all duration-500 ease-in-out sm:p-4 md:p-5",children:[c.jsx("div",{className:"mb-4 rounded-xl border border-gray-200 bg-white p-4 shadow-[0_2px_10px_rgba(0,0,0,0.04)] transition-all duration-500 ease-in-out sm:mb-5 sm:p-8 md:mb-6 md:rounded-2xl md:border-2 md:p-12 md:shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[(v==null?void 0:v.bankImageUrl)&&c.jsx("img",{src:v.bankImageUrl,alt:v.name,className:"h-8 w-8 rounded-full"}),c.jsx("p",{className:"ml-3 text-lg font-semibold sm:text-xl md:text-2xl",children:"총 보유"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-lg font-bold sm:text-xl md:text-2xl",children:[a.toFixed(2)," ",n]}),c.jsxs("p",{className:"text-sm text-gray-500 sm:text-base",children:[(A*a).toFixed(2)," KRW"]})]})]})}),c.jsx("div",{className:"mb-4 w-full sm:mb-5 md:mb-6",children:c.jsx("button",{className:"flex w-full items-center justify-center gap-2 rounded-xl bg-[#0a2e64] py-3 font-semibold text-white shadow transition-all hover:bg-[#081d40]",onClick:()=>{setTimeout(()=>{e(`/token/exchange/${n}`,{state:{bank:n,isUser:s}})},200)},children:c.jsx("span",{className:"text-base text-white",children:"토큰 환전"})})}),c.jsxs("div",{className:"mb-3 flex items-center justify-between sm:mb-4",children:[c.jsx("h3",{className:"text-base font-bold text-gray-800 sm:text-lg",children:"거래 내역"}),c.jsxs("button",{className:"flex items-center text-xs font-medium text-[#0a2e64] sm:text-sm",children:["전체보기",c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-1",children:c.jsx("path",{d:"M6 12L10 8L6 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),c.jsxs("div",{className:"space-y-4 pb-16 text-sm sm:space-y-5 sm:pb-10 sm:text-base md:space-y-6 md:text-lg lg:text-xl",children:[Array.isArray(k==null?void 0:k.pages)&&k.pages.length>0?k.pages.map((B,z)=>B.content.map((K,X)=>{var ae;const ee=w(b,(d==null?void 0:d.totalSupply)??0),J=Math.floor(K.amount*ee).toLocaleString();return c.jsx("div",{className:"transition-all duration-300 ease-in-out",children:c.jsx(k_,{date:new Date(K.transferredAt).toLocaleString(),type:K.amount>0?"환전 입금 완료":"환전 출금 완료",balance:`${((ae=K.afterBalance)==null?void 0:ae.toFixed(2))??"-"} ${n}`,amount:`${K.amount.toFixed(2)} ${n}`,krw:`${J} KRW`,isDeposit:K.amount>0,showAfterBalance:K.status==="ACCEPTED"})},K.id||`${K.transferredAt}-${K.amount}-${z}-${X}`)})):!r&&c.jsx("div",{className:"flex items-center justify-center py-10 text-gray-500",children:c.jsx("p",{children:"거래 내역이 없습니다"})}),c.jsxs("div",{ref:p,className:"mt-4 flex h-10 items-center justify-center",children:[M&&c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-gray-200 border-t-[#0a2e64]"}),!R&&((O=k==null?void 0:k.pages[0])==null?void 0:O.content.length)>0&&c.jsx("p",{className:"text-sm text-gray-500",children:"더 이상 거래 내역이 없습니다"})]})]})]}),c.jsx(ot,{})]}):c.jsx("div",{className:"p-4",children:"잘못된 경로입니다."})}const p8=(n,e,t,s,r)=>n?e?e*s/r:0:t?t*r/s:0;function m8(n,e){return n.reduce((t,s)=>{var a;const r=((a=e[`KRW-${s.currency}`])==null?void 0:a.trade_price)??0,o=s.amount-(s.nonAvailableAmount||0);return t+o*r},0)}function bk(n,e){return!e||e===0?0:n/e}function g8({tokenInfo:n,selectedCurrency:e,tokenCapital:t,tickerData:s}){var g;if(!n||!e||!t||!n.totalSupply)return"-";const r=t/n.totalSupply,o=((g=s[`KRW-${e}`])==null?void 0:g.trade_price)??0,a=n.portfolios.find(x=>x.currency===e);return a?(((a.amount??0)-(a.nonAvailableAmount??0))*o/r*r/o).toFixed(2):"-"}function x8({tokenInfo:n,selectedCurrency:e,tokenCapital:t,tickerData:s}){var p;if(!n||!e||!t||!n.tokenBalance)return"-";const r=t/n.tokenBalance,o=((p=s[`KRW-${e}`])==null?void 0:p.trade_price)??0,a=n.portfolios.find(g=>g.currency===e),u=((a==null?void 0:a.amount)??0)-((a==null?void 0:a.nonAvailableAmount)??0);return o===0||r===0?"-":(u*o/r).toFixed(2)}function y8(){var J,ae;const n=je(),{bank:e}=ds(),[t,s]=C.useState(null),[r,o]=C.useState("XRP"),[a,u]=C.useState(0),[d,h]=C.useState(0),[p,g]=C.useState(0),[x,v]=C.useState(!0),[w,b]=C.useState(0),[E,A]=C.useState(0),j=t==null?void 0:t.portfolios.find(Y=>Y.currency===r),k=u1(Y=>Y.coins),P=d1(Y=>Y.tokens),R=k.find(Y=>Y.currency===r),M=P.find(Y=>Y.currency===e),D=nh();C.useEffect(()=>{if(!e)return;(async()=>{const[G]=await Promise.all([f1(e)]);s(G),o(H=>H||(G.portfolios.length>0?G.portfolios[0].currency:""))})()},[e]),C.useEffect(()=>{var ne;if(!t||!r)return;const Y=m8(t.portfolios,D);g(Number(Y.toFixed(2)));const G=bk(Y,t.tokenBalance),H=((ne=D[`KRW-${r}`])==null?void 0:ne.trade_price)??0;if(!H||!G)return;const te=p8(x,a,d,H,G);x?h(Number(te.toFixed(2))):u(Number(te.toFixed(2)))},[t,r,a,d,x,D]);const O=C.useMemo(()=>bk(p,(t==null?void 0:t.tokenAmount)??0),[p,t==null?void 0:t.tokenAmount]),B=C.useMemo(()=>x8({tokenInfo:t,selectedCurrency:r,tokenCapital:p,tickerData:D}),[t,r,p,D]),z=C.useMemo(()=>g8({tokenInfo:t,selectedCurrency:r,tokenCapital:p,tickerData:D}),[t,r,p,D]),K=C.useMemo(()=>{var G;if(!a||!r||!D)return 0;const Y=((G=D[`KRW-${r}`])==null?void 0:G.trade_price)??0;return(a*Y).toFixed(2)},[a,r,D]),X=C.useMemo(()=>!d||!O?0:(d*O).toFixed(2),[d,O]),ee=async()=>{if(!t)return console.error("Exchange error");const Y={};t.portfolios.forEach(G=>{var ne;const H=G.currency,te=(ne=D[`KRW-${H}`])==null?void 0:ne.trade_price;te!=null?Y[H]=Number(te.toFixed(2)):console.warn(` ${H} 시세를 찾을 수 없습니다.`)});try{await bV(x,{fromCurrency:x?r:t.currency,toCurrency:x?t.currency:r,coinRates:Y,tokenAmount:d??0,coinAmount:a??0}),n("/token/exchange/complete",{state:{bank:t.currency,fromCurrency:r,toCurrency:t.currency,fromAmount:a,toAmount:d,isCoinToToken:x}})}catch(G){console.error(G),alert("환전 요청에 실패했습니다.")}};return C.useEffect(()=>{e&&(M_(e).then(A).catch(Y=>{console.error("토큰 잔액 조회 실패:",Y),A(0)}),l1(r).then(Y=>{b(Y.balance)}).catch(Y=>{console.error("코인 잔액 조회 실패:",Y),b(0)}))},[e,r]),c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:"토큰 환전"}),c.jsxs("main",{className:"flex-1 overflow-auto p-5",children:[c.jsx("div",{className:"mb-6 mt-6 min-h-[10px] rounded-2xl border-2 border-gray-200 bg-white p-6 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-0.5",children:t&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"ml-3 flex items-center gap-3",children:x?(R==null?void 0:R.coinImageUrl)&&c.jsx("img",{src:R.coinImageUrl,alt:R.coinName,className:"h-10 w-10 rounded-full"}):(M==null?void 0:M.bankImageUrl)&&c.jsx("img",{src:M.bankImageUrl,alt:M.name,className:"h-10 w-10 rounded-full"})}),x?((J=t==null?void 0:t.portfolios)==null?void 0:J.length)>0&&c.jsx("select",{value:r,onChange:Y=>o(Y.target.value),className:"rounded border border-none px-3 py-1 text-lg font-bold outline-none",children:t.portfolios.map(Y=>c.jsx("option",{value:Y.currency,children:Y.currency},Y.currency))}):c.jsx("p",{className:"ml-3 text-lg font-bold",children:t.currency})]})}),c.jsxs("div",{className:"mr-3 mt-0 flex min-w-[140px] flex-col items-end space-y-1",children:[c.jsxs("p",{className:"text-xs text-gray-400",children:["보유:"," ",x?`${w} ${r}`:`${E} ${e}`]}),c.jsxs("div",{className:"flex items-baseline space-x-1",children:[c.jsx("input",{type:"number",step:"any",min:"0",className:"appearance-none border-none bg-transparent text-right text-lg font-bold outline-none",value:x?a:d,onChange:Y=>{const G=Number(Y.target.value),te=Math.min(G,x?w:E);x?u(te):h(te)},placeholder:"0"}),c.jsx("span",{className:"text-lg font-bold",children:x?r:t==null?void 0:t.currency})]}),c.jsx("p",{className:"text-xs text-gray-500",children:x?`≈ ${K} KRW`:`≈ ${X} KRW`})]})]})}),c.jsx("div",{className:"mb-4 flex justify-center",children:c.jsx("button",{onClick:()=>v(!x),className:"border-blue-300 hover:bg-blue-50 flex items-center justify-center rounded-full border bg-white p-3 shadow transition","aria-label":"Switch direction",children:c.jsx(i3,{size:20,className:"text-blue-800"})})}),c.jsx("div",{className:"mb-6 min-h-[110px] rounded-2xl border-2 border-gray-200 bg-white p-9 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-0.5",children:[x?(M==null?void 0:M.bankImageUrl)&&c.jsx("img",{src:M.bankImageUrl,alt:M.name,className:"h-10 w-10 rounded-full"}):(R==null?void 0:R.coinImageUrl)&&c.jsx("img",{src:R.coinImageUrl,alt:R.coinName,className:"h-10 w-10 rounded-full"}),x?c.jsx("p",{className:"ml-4 text-lg font-bold",children:t==null?void 0:t.currency}):((ae=t==null?void 0:t.portfolios)==null?void 0:ae.length)>0&&c.jsx("select",{value:r,onChange:Y=>o(Y.target.value),className:"rounded border border-none px-3 py-1 text-lg font-bold outline-none",children:t.portfolios.map(Y=>c.jsx("option",{value:Y.currency,children:Y.currency},Y.currency))})]}),c.jsxs("div",{className:"text-blue-600 min-w-[100px] text-right text-xl font-bold",children:[x?d!==null?c.jsxs(c.Fragment,{children:[d,c.jsx("span",{className:"ml-5",children:t==null?void 0:t.currency})]}):"-":a!==null?c.jsxs(c.Fragment,{children:[a,c.jsx("span",{className:"ml-5",children:r})]}):"-",x&&j&&(()=>{j.amount,j.nonAvailableAmount})()]})]})}),c.jsx("div",{className:"mt-2 space-y-1 text-sm text-gray-500",children:c.jsxs("p",{children:["* 잔여 교환 가능"," ",x?`${r} → ${t==null?void 0:t.currency} : ${B} ${t==null?void 0:t.currency}`:`${t==null?void 0:t.currency} → ${r} : ${z} ${r}`]})})]}),c.jsxs("div",{className:"mb-28 border-none p-5",children:[c.jsxs("div",{className:"mb-3 flex items-end justify-between",children:[c.jsx("h2",{className:"text-xl font-bold",children:"토큰 구성"}),c.jsxs("p",{className:"text-sm text-gray-500",children:["총 자본금 ",p==null?void 0:p.toFixed(2).toLocaleString()," KRW"]})]}),t==null?void 0:t.portfolios.map(Y=>{const G=Y.nonAvailableAmount&&Y.amount>0?Y.nonAvailableAmount/Y.amount*100:0;return c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"mb-1 flex justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:Y.currency}),c.jsxs("span",{className:"text-sm text-gray-600",children:["교환됨 ",G.toFixed(2),"%"]})]}),c.jsxs("div",{className:"flex h-3 w-full overflow-hidden rounded-full bg-gray-200",children:[c.jsx("div",{className:"bg-indigo-500",style:{width:`${100-G}%`}}),c.jsx("div",{className:"bg-fuchsia-400",style:{width:`${G}%`}})]})]},Y.currency)})]}),c.jsx("div",{className:"border-t border-gray-50 bg-gray-50 p-5 shadow-lg",children:c.jsx($e,{text:"환전 요청",onClick:ee,className:"w-full rounded-lg py-3 text-lg font-semibold shadow-md"})}),c.jsx(ot,{})]})}function v8(){const n=je(),e=dt(),{bank:t,fromCurrency:s,toCurrency:r,fromAmount:o,toAmount:a,isCoinToToken:u}=e.state||{},d=()=>{t?n(`/token/detail/${t}`):alert("잘못된 접근입니다.")};return c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{disableBack:!0,title:"토큰 환전"}),c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-2xl font-medium mb-2",children:"환전이"}),c.jsx("h2",{className:"text-2xl font-medium mb-12",children:"완료되었습니다."}),c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("p",{className:"text-3xl font-bold",children:u?`${o} ${s}`:`${a} ${r}`}),c.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M12 5v14M19 12l-7 7-7-7"})})}),c.jsx("p",{className:"text-3xl font-bold",children:u?`${a} ${r}`:`${o} ${s}`})]})]})}),c.jsx("div",{className:"p-5 bg-gray-50 shadow-lg border-t border-gray-50",children:c.jsx($e,{text:"확인",onClick:d,className:"w-full rounded-lg py-3 font-semibold text-lg shadow-md"})}),c.jsx(ot,{})]})}const b8={WTK:{label:"우리은행",image:"/woori.png"},STK:{label:"신한은행",image:"/shinhan.png"},HTK:{label:"하나은행",image:"/hana.png"},KTK:{label:"국민은행",image:"/hana.png"},NTK:{label:"농협은행",image:"/hana.png"}};function ih({bank:n}){const{label:e,image:t}=b8[n];return c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-gray-200",children:c.jsx("img",{src:t,alt:e,className:"object-cover w-full h-full"})})})}const Bf=c1(n=>({bankTokens:null,fetchBankTokens:async()=>{try{const t=(await yV()).map(s=>{const r=s.balances.map(a=>parseFloat(a)).reduce((a,u)=>a+u,0).toFixed(2),o=s.products.map(a=>({subscribeId:a.id,name:a.productName,amount:a.balance.toFixed(2),status:a.status==="ACTIVE"?"진행 중":"만료",rate:`${a.baseInterestRate.toFixed(2)}%`,maxMonthlyPayment:a.maxMonthlyPayment,preTaxInterest:a.preTaxInterest}));return{bankTokenName:s.bankTokenName,currency:s.currency,totalBalance:r,products:o}}).sort((s,r)=>s.bankTokenName.localeCompare(r.bankTokenName));n({bankTokens:t})}catch(e){console.error("토큰 계좌 조회 실패:",e),n({bankTokens:[]})}}}));function w8(){const n=je(),[e,t]=C.useState(0),{bankTokens:s}=Bf(),{subscribeId:r}=ds(),o=dt(),{productState:a,tokenInfoState:u}=o.state||{},[d,h]=C.useState(0);if(!r||!a||!u)return c.jsx("div",{className:"p-4",children:"해당 토큰 정보를 찾을 수 없습니다."});C.useEffect(()=>{if(!r)return;(async()=>{try{const v=await I_(r,0,100),w=v.content??v,b=new Date,E=new Date(b.getFullYear(),b.getMonth(),1),j=w.filter(k=>{const P=new Date(k.date);return k.eventType.toUpperCase()==="DEPOSIT"&&P>=E&&P<=b}).reduce((k,P)=>k+Number(P.amount),0);h(j)}catch(v){console.error("이번 달 예치 합산 실패",v)}})()},[r]);const p=async()=>{if(!r||e<=0){alert("예치할 금액을 입력해주세요.");return}console.log("product",a.maxMonthlyPayment);try{await xV(r,e),alert("예치가 완료되었습니다."),n(`/token/product/detail/${r}`,{state:{productState:a,tokenInfoState:u},replace:!0})}catch(x){alert(x.message)}},g=Math.max(0,Number(a.maxMonthlyPayment)-d);return c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:"토큰 예치"}),c.jsxs("main",{className:"flex-1 overflow-auto p-5",children:[c.jsx("div",{className:"mb-6 rounded-2xl border-2 border-gray-200 bg-white p-9 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"mr-3",children:c.jsx(ih,{bank:u.currency})}),c.jsx("p",{className:"text-xl font-semibold",children:u.bankTokenName})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"flex items-center justify-end gap-0.5",children:[c.jsx("input",{type:"number",step:1e3,min:0,value:e,onChange:x=>t(Number(x.target.value)),placeholder:"예치할 금액 입력",className:"text-xl font-bold text-right w-full border-none bg-transparent focus:outline-none focus:ring-0"}),c.jsx("span",{className:"text-xl font-bold text-black",children:u.currency})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["= ",a.evaluated]})]})]})}),c.jsx("div",{className:"flex justify-center my-1",children:c.jsx("div",{className:"w-10 h-12 bg-navy-800 flex items-center justify-center rounded-full -mt-3",children:c.jsxs("svg",{className:"w-6 h-10 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 3v16"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]})})}),c.jsx("div",{className:"mb-6 rounded-2xl border-2 border-gray-200 bg-white p-9 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"mr-3",children:c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium whitespace-pre",children:a.rate})})}),c.jsx("p",{className:"text-xl font-semibold",children:a.name})]}),c.jsx("div",{className:"text-right gap-0.5",children:c.jsxs("p",{className:"text-xl font-bold ",children:[e.toLocaleString()," ",u.currency]})})]})},a.subscribeId),c.jsxs("div",{className:"mt-6 space-y-3 text-sm text-gray-700",children:[c.jsxs("p",{className:"leading-snug",children:["💡 한달 최대 ",c.jsx("span",{className:"text-indigo-600 text-base font-bold",children:Number(a.maxMonthlyPayment).toLocaleString()}),c.jsx("span",{className:"ml-1 text-indigo-600 text-base font-bold",children:u.currency})," 예치 가능"]}),c.jsxs("p",{className:"leading-snug",children:["💰 이번 달 남은 예치 가능 토큰:"," ",c.jsx("span",{className:"text-indigo-600 text-base text font-bold",children:g.toLocaleString()}),c.jsx("span",{className:"ml-1 text-base text-indigo-600 font-bold",children:u.currency})]})]})]}),c.jsx("div",{className:"p-5 bg-gray-50 shadow-lg border-t border-gray-50",children:c.jsx($e,{text:"예치 하기",onClick:p,className:"w-full rounded-lg py-3 font-semibold text-lg shadow-md"})}),c.jsx(ot,{})]})}function S8(){const n=je(),{bankTokens:e}=Bf(),{fetchBankTokens:t}=Bf.getState(),{subscribeId:s}=ds(),r=dt(),{productState:o,tokenInfoState:a}=r.state||{},[u,d]=C.useState(null),p=new Date().toISOString().slice(0,10);if(!s||!o||!a)return c.jsx("div",{className:"p-4",children:"해당 토큰 정보를 찾을 수 없습니다."});C.useEffect(()=>{(async()=>{if(s)try{const M=await vV(s);d(M)}catch(M){console.error("해지 예상 정보 조회 실패",M),alert("예상 정보를 불러오는 데 실패했습니다.")}})()},[s]),console.log("productState:",o);const g=async()=>{if(!s){alert("해지할 상품을 찾을 수 없습니다.");return}try{const R=await gV(s);alert("상품이 해지되었습니다."),console.log("해지 결과:",R),n(`/token/product/detail/${s}`,{state:{productState:o,tokenInfoState:a},replace:!0})}catch(R){console.error(R),alert("해지 중 오류가 발생했습니다.")}},x=(u==null?void 0:u.totalPayout.toLocaleString())??"-",v=(u==null?void 0:u.preTaxInterest.toLocaleString())??"-";u==null||u.postTaxInterest.toLocaleString();const w=(u==null?void 0:u.postTaxInterest)??0,b=w*.14,E=w*.014,A=b.toLocaleString(),j=E.toLocaleString(),P=(b+E).toLocaleString();return c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:"상품 중도 해지"}),c.jsxs("div",{className:"flex-1 overflow-auto",children:[c.jsxs("div",{className:"p-4 text-center font-semibold text-gray-600 text-lg bg-gray-50 border-b border-gray-200",children:[c.jsx("p",{children:"중도해지 시 아래와 같이"}),c.jsx("p",{children:"오늘까지 발생한 이자와 원금이 입금됩니다."})]}),c.jsxs("div",{className:"p-4 pb-0",children:[c.jsx("div",{className:"text-center mb-2 text-base text-gray-500",children:"받으실 금액"}),c.jsx("div",{className:"text-center text-3xl font-bold mb-2 text-blue-900",children:c.jsxs("span",{className:"text-xl",children:[x," ",a.currency]})}),c.jsxs("div",{className:"rounded-xl overflow-hidden border border-gray-200 shadow-sm mt-4 mb-6",children:[c.jsx("div",{className:"bg-blue-50 px-4 py-3 border-b border-gray-200",children:c.jsx("h3",{className:"font-medium text-blue-800",children:"거래 상세 내역"})}),c.jsxs("div",{className:"flex justify-between py-4 px-4 bg-blue-50/50 border-b border-gray-200",children:[c.jsx("div",{className:"font-medium text-gray-700",children:"원금"}),c.jsxs("div",{className:"font-bold text-blue-900",children:[o.amount,a.currency," "]})]}),c.jsxs("div",{className:"flex justify-between py-4 px-4 bg-blue-50/30 border-b border-gray-200",children:[c.jsx("div",{className:"font-medium text-gray-700",children:"이자(세전)"}),c.jsxs("div",{className:"font-bold text-indigo-500",children:[" ",v," ",a.currency]})]}),c.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:c.jsx("div",{className:"text-xs text-gray-500",children:"세금 정보"})}),c.jsxs("div",{className:"flex justify-between py-3 px-4 border-b border-gray-100",children:[c.jsx("div",{className:"text-gray-600",children:"세금"}),c.jsxs("div",{className:"font-medium text-gray-800",children:[P," ",a.currency]})]}),c.jsxs("div",{className:"flex justify-between py-3 px-4 border-b border-gray-100 bg-gray-50/50",children:[c.jsx("div",{className:"text-gray-600 pl-4 text-sm",children:"└ 소득세"}),c.jsxs("div",{className:"font-medium text-gray-700",children:[A," ",a.currency]})]}),c.jsxs("div",{className:"flex justify-between py-3 px-4 border-b border-gray-100 bg-gray-50/50",children:[c.jsx("div",{className:"text-gray-600 pl-4 text-sm",children:"└ 지방소득세"}),c.jsxs("div",{className:"font-medium text-gray-700",children:[j," ",a.currency]})]}),c.jsxs("div",{className:"flex justify-between py-3 px-4 border-b border-gray-200",children:[c.jsx("div",{className:"text-gray-600",children:"과세구분"}),c.jsx("div",{className:"font-medium text-gray-800",children:"일반과세"})]}),c.jsxs("div",{className:"flex justify-between py-4 px-4 bg-blue-100/50 border-b border-gray-200",children:[c.jsx("div",{className:"font-semibold text-blue-900",children:"받으실 금액"}),c.jsxs("div",{className:"font-bold text-indigo-700",children:[x," ",a.currency]})]}),c.jsxs("div",{className:"flex justify-between py-3 px-4",children:[c.jsx("div",{className:"text-gray-600",children:"기준일"}),c.jsx("div",{className:"font-medium text-gray-800",children:p})]})]}),c.jsxs("div",{className:"mt-1 mb-1 text-base font-semibold text-center text-gray-200",children:[c.jsx("p",{children:"⚠️ 중도 해지시 우대금리, 세제혜택 등이 ⚠️"}),c.jsx("p",{children:"적용되지 않습니다️"})]}),c.jsx("div",{className:"mb-6 mt-8 rounded-2xl border-2 border-gray-200 bg-white p-9 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"mr-3",children:c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium whitespace-pre",children:o.rate})})}),c.jsx("p",{className:"text-xl font-semibold",children:o.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-xl font-bold",children:[o.amount," ",a.currency]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["= ",o.amount]})]})]})},o.subscribeId),c.jsx("div",{className:"flex justify-center my-1",children:c.jsx("div",{className:"w-10 h-12 bg-navy-800 flex items-center justify-center rounded-full -mt-3",children:c.jsxs("svg",{className:"w-6 h-10 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 3v16"}),c.jsx("path",{d:"M19 12l-7 7-7-7"})]})})}),c.jsx("div",{className:"mb-6 rounded-2xl border-2 border-gray-200 bg-white p-9 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"mr-3",children:c.jsx(ih,{bank:a.currency})}),c.jsx("p",{className:"text-xl font-semibold",children:a.bankTokenName})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-xl font-bold",children:[o.amount," ",a.currency]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["= ",a.totalBalance]})]})]})})]})]}),c.jsx("div",{className:"p-5 bg-gray-50 shadow-lg border-t border-gray-50",children:c.jsx($e,{text:"상품 해지",onClick:g,className:"w-full rounded-lg py-3 font-semibold text-lg shadow-md"})}),c.jsx(ot,{})]})}function A8({order:n}){const e=je(),{id:t,status:s,reason:r,storeName:o,orderItems:a,orderDate:u,totalPrice:d,storeLocation:h}=n;function p(b,E){switch(b){case"WAITING":return"주문 접수";case"PAID":return"주문 수락";case"COMPLETED":return"준비 완료";case"CANCELLED":return`주문 거절${E?" - "+E:""}`;default:return"알 수 없는 상태"}}function g(b){switch(b){case"WAITING":case"PAID":case"COMPLETED":return"bg-green-500";case"CANCELLED":return"bg-red-500";default:return"bg-gray-400"}}const x=p(s,r),v=g(s),w=["WAITING","PAID","COMPLETED"].includes(s);return c.jsxs("div",{className:"mb-6 rounded-2xl bg-white shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between border-b p-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"relative mr-4",children:[c.jsx(GS,{className:"h-8 w-8"}),c.jsx("div",{className:`absolute -bottom-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full ${v}`,children:w?c.jsx(Qd,{className:"h-4 w-4 text-white"}):c.jsx(z3,{className:"h-4 w-4 text-white"})})]}),c.jsxs("p",{className:"text-xl font-medium",children:["주문번호 ",t]})]}),c.jsx("div",{className:"text-base text-gray-500",children:c.jsx("p",{children:x})}),c.jsx("button",{onClick:()=>e(`/mall/store/pay-complete/${t}`),className:"flex h-10 w-10 items-center justify-center rounded-full border border-gray-300",children:c.jsx(_f,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("p",{className:"mb-3 text-lg font-medium",children:o}),c.jsxs("div",{className:"text-base text-gray-500",children:[c.jsx("p",{children:a}),c.jsxs("p",{children:["주문금액: ",d]}),c.jsxs("p",{children:["주문점포: ",h]}),c.jsxs("p",{children:["주문일시: ",u]})]})]})]})}function C8({orders:n}){return c.jsxs("div",{className:"mx-6 mt-8 pb-6",children:[c.jsx("h2",{className:"mb-6 text-2xl font-bold",children:"Crepe 주문 현황"}),n.map(e=>c.jsx(A8,{order:e},e.id))]})}function E8(){je();const[n,e]=C.useState([]);function t(s){return s.map(r=>{const a=new Date(r.createdAt).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});return{id:r.orderId,status:r.orderStatus,reason:r.message||"",storeName:r.storeName,orderItems:r.orderDetails.map(u=>`${u.menuName} x ${u.menuCount}`).join(", "),orderDate:a,orderNumber:r.orderId,totalPrice:r.totalPrice.toString(),storeLocation:r.storeAddress}})}return C.useEffect(()=>{(async()=>{try{const s=await e8();e(t(s))}catch(s){console.error("Failed to fetch order history:",s)}})()},[]),c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:"주문 내역"}),c.jsx("main",{className:"flex-1 overflow-auto px-4 py-6",children:c.jsx(C8,{orders:n})}),c.jsx(ot,{})]})}function wk({icon:n,label:e,onClick:t}){return c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm border border-gray-100 mb-4 cursor-pointer",onClick:t,children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center mr-4",children:n}),c.jsx("span",{className:"text-lg font-medium",children:e})]}),c.jsx(Ay,{className:"text-gray-400"})]})}function Sk(){return c.jsx("img",{src:"/verify-mark.png",alt:"Verify Mark",width:40,height:40})}function j8(){const n=je(),e=()=>{n("/id/verification/step2")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"본인확인"}),c.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[c.jsx("h1",{className:"text-2xl font-bold text-[#0a2d6b] mb-2",children:"STEP1 신분증 확인"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"원하는 방법을 선택해주세요"}),c.jsx("div",{className:"flex justify-center my-8",children:c.jsx("div",{className:"border w-80 h-40 rounded flex items-center justify-center",children:c.jsx("img",{src:"/idcard-emoticon.png",alt:"ID Card Emoticon",className:"object-contain w-full h-full"})})}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx(wk,{icon:c.jsx(Sk,{}),label:"주민등록증",onClick:e}),c.jsx(wk,{icon:c.jsx(Sk,{}),label:"운전면허증",onClick:e})]})]})]})}function N8({onCapture:n}){const[e,t]=C.useState(null),[s,r]=C.useState("environment"),[o,a]=C.useState(null),[u,d]=C.useState(!1),[h,p]=C.useState(!1),g=C.useRef(null),x=C.useRef(null),v=async()=>{try{e&&e.getTracks().forEach(j=>j.stop());const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:s,width:{ideal:1280},height:{ideal:720}},audio:!1});t(A),a(null),g.current&&(g.current.srcObject=A)}catch{a("카메라 접근에 실패했습니다. 권한을 확인해주세요.")}};C.useEffect(()=>{const A=setInterval(()=>{d(j=>!j)},2e3);return()=>clearInterval(A)},[]);const w=()=>{e&&(e.getTracks().forEach(A=>A.stop()),t(null))},b=()=>{r(A=>A==="user"?"environment":"user")},E=()=>{!g.current||!x.current||(p(!0),setTimeout(()=>{const A=g.current,j=x.current;if(!A||!j)return;j.width=A.videoWidth,j.height=A.videoHeight;const k=j.getContext("2d");if(k){k.drawImage(A,0,0,j.width,j.height);const P=j.toDataURL("image/png");n&&n(P)}p(!1)},300))};return C.useEffect(()=>(v(),()=>{w()}),[s]),c.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden rounded-xl shadow-lg",children:[c.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),c.jsx("canvas",{ref:x,className:"hidden"}),c.jsxs("div",{className:`
        absolute inset-0 m-auto w-72 h-44 border-4 rounded-lg pointer-events-none
        ${u?"border-green-400":"border-white"}
        ${h?"scale-95 opacity-0":"scale-100 opacity-100"}
      `,children:[c.jsx("div",{className:"absolute -top-1 -left-1 w-5 h-5 border-t-2 border-l-2 rounded-tl-md border-current"}),c.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 border-t-2 border-r-2 rounded-tr-md border-current"}),c.jsx("div",{className:"absolute -bottom-1 -left-1 w-5 h-5 border-b-2 border-l-2 rounded-bl-md border-current"}),c.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 border-b-2 border-r-2 rounded-br-md border-current"})]}),u&&c.jsxs("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 bg-green-500 bg-opacity-90 text-white px-3 py-1 rounded-full text-xs flex items-center space-x-1 shadow-md",children:[c.jsx(Qd,{size:14}),c.jsx("span",{children:"신분증 인식됨"})]}),c.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center items-center space-x-4",children:[c.jsx("button",{onClick:b,className:"relative p-1 rounded-full focus:outline-none transform transition-all bg-gray-800 bg-opacity-60 hover:bg-opacity-80 shadow-lg",children:c.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",children:c.jsx(qT,{size:16,className:"text-white"})})}),c.jsx("button",{onClick:E,disabled:!u,className:`
      relative p-1 rounded-full focus:outline-none transform transition-all 
      ${u?"bg-white hover:bg-opacity-80 scale-100":"bg-gray-400 scale-95 cursor-not-allowed"}
    `,children:c.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-current flex items-center justify-center",children:c.jsx(UT,{size:16,className:u?"text-black":"text-gray-600"})})})]}),o&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500 bg-opacity-75 text-white p-4 rounded-xl",children:c.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[c.jsx(HT,{size:32}),c.jsx("p",{className:"text-center",children:o})]})}),h&&c.jsx("div",{className:"absolute inset-0 bg-white animate-flash"})]})}function k8(){const n=je(),e=C.useRef(null),[t,s]=C.useState(null),[r,o]=C.useState(null),a=()=>{var p;(p=e.current)==null||p.click()},u=p=>{var x;const g=(x=p.target.files)==null?void 0:x[0];g&&(o(g),s(URL.createObjectURL(g)))},d=()=>{o(null),s(null)},h=async()=>{if(r||t)try{let p=null;if(r)p=r;else if(t){const v=await(await fetch(t)).blob();p=new File([v],"captured.png",{type:"image/png"})}if(!p)throw new Error("No file to send for OCR processing.");const g=await r5(p);n("/id/verification/step3",{state:g})}catch(p){console.error(p),alert("OCR 처리 중 오류가 발생했습니다.")}else alert("신분증 이미지가 필요합니다.")};return c.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[c.jsx(Me,{title:"본인확인"}),c.jsxs("div",{className:"px-5 py-4",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"신분증 촬영"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"신분증의 모든 정보가 잘 보이도록 촬영해주세요"})]}),c.jsxs("div",{className:"flex-1 px-5 flex flex-col",children:[c.jsx("div",{className:"w-full h-80 bg-white rounded-xl overflow-hidden shadow-md",children:t?c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("img",{src:t,alt:"Uploaded ID",className:"w-full h-full object-contain"}),c.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white rounded-full px-3 py-1 text-xs flex items-center space-x-1",children:[c.jsx(Qd,{size:14}),c.jsx("span",{children:"이미지 준비완료"})]})]}):c.jsx(N8,{onCapture:s})}),!t&&c.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-100 p-3 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"촬영 가이드"}),c.jsxs("ul",{className:"mt-1 text-xs text-blue-700 list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"신분증이 프레임 안에 완전히 들어오도록 해주세요"}),c.jsx("li",{children:"밝은 곳에서 그림자 없이 촬영하세요"}),c.jsx("li",{children:"모든 정보가 선명하게 보여야 합니다"})]})]})]}),c.jsxs("div",{className:"p-5 space-y-3 bg-white border-t border-gray-200 shadow-inner",children:[c.jsx("input",{type:"file",ref:e,accept:"image/*",className:"hidden",onChange:u}),c.jsx($e,{text:"파일 업로드",fullWidth:!0,onClick:a}),c.jsx($e,{text:"다음",fullWidth:!0,onClick:h}),t&&c.jsx($e,{text:"다시 촬영하기",fullWidth:!0,onClick:d})]})]})}function T8(){const n=je(),{state:e}=dt(),t=e||{name:"",personalNum:"",address:"",issueDate:"",authority:""},[s,r]=ls.useState(t),o=(u,d)=>{r(h=>({...h,[u]:d}))},a=()=>{n("/id/verification/step4")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"본인확인"}),c.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6",children:"인증정보 확인 및 수정"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"OCR 결과를 확인 후 필요시 정보를 수정해주세요."}),c.jsx(Js,{label:"이름",value:s.name,onChange:u=>o("name",u.target.value)}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-500 mb-2",children:"주민등록번호"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"text",value:s.personalNum.split("-")[0]||"",onChange:u=>o("personalNum",u.target.value+"-"+(s.personalNum.split("-")[1]||"")),className:"w-full py-3 px-0 border-0 border-b border-gray-300 focus:outline-none focus:border-[#0a2d6b] text-xl",maxLength:6}),c.jsx("span",{className:"mx-4 text-xl",children:"-"}),c.jsx("input",{type:"text",value:s.personalNum.split("-")[1]||"",readOnly:!0,className:"w-full py-3 px-0 border-0 border-b border-gray-300 focus:outline-none text-xl"})]})]}),c.jsx(Js,{label:"발급일",value:s.issueDate,onChange:u=>o("issueDate",u.target.value)})]}),c.jsx("div",{className:"p-4",children:c.jsx($e,{text:"다음",onClick:a,fullWidth:!0})})]})}function P8({eventType:n,amount:e,date:t,currency:s,totalBalance:r}){const o=n==="TERMINATION",a=parseFloat(e)>0&&!o,u=`+${parseFloat(e).toLocaleString()} ${s}`,d=new Date(t).toLocaleString("ko-KR",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),h={INTEREST:"이자 지급",DEPOSIT:"예치 완료",TERMINATION:"해지 완료"};return c.jsxs("div",{className:"space-y-2 border-b border-gray-200 pb-4",children:[c.jsx("p",{className:"text-sm text-gray-500",children:d}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:`text-base font-semibold ${o?"text-red-500":"text-indigo-800"}`,children:h[n]??n}),c.jsx("p",{className:`text-base font-bold ${o?"text-red-500":"text-indigo-800"}`,children:u})]}),o&&r!==void 0&&c.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["계좌 잔액: ",r.toLocaleString()," ",s]})]})}const _8=({transactions:n,loaderRef:e,loading:t,hasNext:s,currency:r,totalBalance:o})=>c.jsxs("div",{className:"space-y-4 pb-10 text-xs",children:[n.length>0?n.map((a,u)=>c.jsx(P8,{eventType:a.eventType,amount:a.amount,date:a.date,currency:r,totalBalance:a.eventType==="TERMINATION"?o:void 0},u)):c.jsx("p",{className:"text-sm text-gray-500",children:"거래 내역이 없습니다."}),c.jsxs("div",{ref:e,className:"h-10 flex items-center justify-center",children:[t&&c.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-gray-300 border-t-[#0a2e64]"}),!s&&!t&&n.length>0&&c.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"더 이상 거래 내역이 없습니다"})]})]});function R8(){const{subscribeId:n}=ds(),{bankTokens:e,fetchBankTokens:t}=Bf(),s=je(),[r,o]=C.useState(null),[a,u]=C.useState([]),[d,h]=C.useState(!1),[p,g]=C.useState(0),x=dt(),[v,w]=C.useState(!0),b=C.useRef(null),E=C.useRef(null),[A,j]=C.useState(!1),[k,P]=C.useState(!1),[R,M]=C.useState(null),[D,O]=C.useState(null),B=()=>{s(`/token/product/cancel/${n}`,{state:{productState:R,tokenInfoState:D}})},z=()=>{s(`/token/product/deposit/${n}`,{state:{productState:R,tokenInfoState:D}})},K=C.useCallback(async()=>{if(!(!n||!v||d)){h(!0);try{const X=await I_(n.toString(),p,3),ee=(X.content||[]).map(J=>({eventType:J.eventType,amount:J.amount,date:J.date}));u(J=>[...J,...ee]),w(!X.last),g(J=>J+1)}catch(X){o(X.message||"오류가 발생했습니다.")}finally{h(!1)}}},[n,p,v,d]);return C.useEffect(()=>{x.state&&(u([]),g(0),w(!0),t().then(()=>{var ee;const X=(ee=Bf.getState().bankTokens)==null?void 0:ee.flatMap(J=>J.products.map(ae=>({product:ae,tokenInfo:{currency:J.currency,totalBalance:J.totalBalance,bankTokenName:J.bankTokenName}}))).find(J=>Number(n)===J.product.subscribeId);X&&(console.log(X.product),M(X.product),O(X.tokenInfo)),j(!0)}))},[x.state,n]),C.useEffect(()=>{A&&!k&&(K(),P(!0))},[A,k,K]),C.useEffect(()=>{if(d)return;const X=E.current;if(X)return b.current&&b.current.disconnect(),b.current=new IntersectionObserver(([ee])=>{ee.isIntersecting&&v&&K()}),b.current.observe(X),console.log("fetch called with page:",p),()=>{var ee;return(ee=b.current)==null?void 0:ee.disconnect()}},[K,p,v,d]),A?c.jsxs("div",{className:"flex h-full flex-col bg-gray-50",children:[c.jsx(Me,{title:`${R.name} 상세`,onBackClick:()=>s(-1)}),c.jsxs("main",{className:"flex-1 overflow-auto p-5",children:[c.jsx("div",{className:"mb-6 rounded-2xl border-2 border-gray-200 bg-white p-9 shadow-[0_4px_20px_rgba(0,0,0,0.06)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"mr-3",children:c.jsx(ih,{bank:D.currency})}),c.jsx("p",{className:"text-2xl font-semibold",children:"총 보유"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-2xl font-bold",children:[R.amount," ",D.currency]}),c.jsxs("p",{className:"text-base text-gray-500",children:["= ",R.evaluated]}),c.jsxs("p",{className:"text-lg mt-1 font-semibold text-indigo-800",children:["연 ",c.jsx("span",{className:"text-lg font-semibold text-indigo-800",children:R.rate})]})]})]})}),c.jsx("div",{className:"-mt-2 mb-4 w-full",children:c.jsx("button",{className:"w-full bg-[#0a2e64] text-white py-3 rounded-lg font-semibold text-base shadow-sm",onClick:z,children:"토큰 예치"})}),c.jsx("div",{className:"mb-7 flex items-center justify-between",children:c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"거래 내역"})}),c.jsx(_8,{transactions:a,loaderRef:E,loading:d,hasNext:v,currency:D.currency,totalBalance:D.totalBalance})]}),c.jsx("div",{className:"p-5 bg-gray-50 shadow-lg border-t border-gray-50",children:c.jsx($e,{text:"해지하기",onClick:B,className:"w-full rounded-lg py-3 font-semibold text-base shadow-md"})}),c.jsx(ot,{})]}):c.jsx("div",{className:"p-4",children:"로딩 중입니다..."})}function K1({text:n,color:e}){const t={gray:"bg-gray-300",purple:"bg-purple-200",green:"bg-green-200"}[e];return c.jsx("div",{className:`${t} px-3 py-1 rounded-md text-sm`,children:n})}function d2({productTitle:n,interestRange:e}){return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-2 font-bold text-2xl",children:n}),c.jsx("div",{className:"text-2xl font-bold mb-2",children:e})]})}function L8({productName:n,productType:e,target:t,amount:s,condition:r,interestPayment:o,baseRate:a,preferentialRate:u,infoMessage:d}){return c.jsxs("div",{className:"border-t border-b py-4 px-4",children:[c.jsx("h2",{className:"font-medium mb-2",children:"상품 안내"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"상품명"}),c.jsx("div",{children:n})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"상품 종류"}),c.jsx("div",{children:e})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"가입 대상"}),c.jsx("div",{children:t})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"가입 금액"}),c.jsx("div",{children:s})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"가입 조건"}),c.jsx("div",{children:r})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"이자 지급"}),c.jsx("div",{children:o})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"기본 금리"}),c.jsx("div",{children:a})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"우대 금리"}),c.jsx("div",{children:u})]})]}),c.jsxs("div",{className:"mt-4 bg-gray-100 p-3 rounded-md text-sm text-gray-600 flex items-start",children:[c.jsx(N3,{size:16,className:"mr-2 mt-0.5"}),c.jsx("p",{children:d})]})]})}function Ug({text:n}){return c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 mt-2 mr-2"}),c.jsx("div",{children:n})]})}function I8({depositorProtection:n,productType:e,selectionEnrollment:t,interestRateNotice:s}){return c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"font-medium mb-2",children:"예금자보호"}),c.jsx("div",{className:"space-y-2",children:c.jsx(Ug,{text:n})}),c.jsx("h2",{className:"font-medium mb-2 mt-4",children:"상품유형"}),c.jsx("div",{className:"space-y-2",children:c.jsx(Ug,{text:e})}),c.jsx("h2",{className:"font-medium mb-2 mt-4",children:"선택순 가입"}),c.jsx("div",{className:"space-y-2",children:t.map((r,o)=>c.jsx(Ug,{text:r},o))}),c.jsx("h2",{className:"font-medium mb-2 mt-4",children:"우대이자율 안내"}),c.jsx("div",{className:"space-y-2",children:c.jsx(Ug,{text:s})})]})}const h2="http://localhost:8080";async function M8(){const n=sessionStorage.getItem("accessToken");if(!n)throw new Error("인증 토큰이 없습니다.");console.log("Access token:",sessionStorage.getItem("accessToken"));const e=await fetch(`${h2}/api/product`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error(t||"상품 목록 조회 실패")}return await e.json()}async function D8(n){const e=sessionStorage.getItem("accessToken");if(!e)throw new Error("인증 토큰이 없습니다.");const t=await fetch(`${h2}/api/product/${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const s=await t.text();throw new Error(s||"상품 상세 조회 실패")}return await t.json()}const f2={우리은행:{code:"WTK",label:"우리은행",image:"/woori.png"},신한은행:{code:"STK",label:"신한은행",image:"/shinhan.png"},하나은행:{code:"HTK",label:"하나은행",image:"/hana.png"},국민은행:{code:"KTK",label:"국민은행",image:"/kookmin.png"},농협은행:{code:"NTK",label:"농협은행",image:"/nonghyup.png"}};function O8(){var v,w,b,E,A,j,k,P,R,M;const n=je(),{productId:e}=ds(),[t,s]=C.useState(null),[r,o]=C.useState(null),u=(v=dt().state)==null?void 0:v.product,d=["gray","purple","green"];function h(D){let O=0;for(let z=0;z<D.length;z++)O=D.charCodeAt(z)+((O<<5)-O);const B=Math.abs(O)%d.length;return d[B]}if(C.useEffect(()=>{D8(Number(e)).then(s).catch(()=>o("상품 정보를 불러오는 데 실패했습니다."))},[e]),!t)return c.jsx("div",{className:"p-4",children:"상품 정보를 불러오는 중입니다..."});const p={...u,...t},g=f2[p.bankName??"WTK"],x=()=>{n("/token/onsale/products/signup",{state:{product:p}})};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"자산관리"}),c.jsx("div",{className:"flex-1 overflow-auto bg-gray-50",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4",children:[c.jsx(ih,{bank:(g==null?void 0:g.code)??"WTK"}),c.jsx(d2,{productTitle:p.productName,interestRange:p.minInterestRate&&p.maxInterestRate?`연 ${p.minInterestRate}% ~ 연 ${p.maxInterestRate}%`:`기본금리 연 ${p.baseInterestRate}%`}),c.jsx("div",{className:"flex gap-2 mt-3 flex-wrap",children:(w=p.tags)==null?void 0:w.map((D,O)=>c.jsx(K1,{text:D,color:h(D)},O))})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"상품 안내"}),c.jsx(L8,{productName:p.productName,productType:p.type,target:(b=p.joinCondition)!=null&&b.allAges?"전 연령":((A=(E=p.joinCondition)==null?void 0:E.ageGroups)==null?void 0:A.join(", "))??"-",amount:p.maxMonthlyPayment+"원",condition:((k=(j=p.joinCondition)==null?void 0:j.occupations)==null?void 0:k.join(", "))??"-",interestPayment:"만기 일시 지급",baseRate:`연 ${p.baseInterestRate}%`,preferentialRate:(P=p.rateConditions)!=null&&P.length?`최대 연 ${Math.max(...p.rateConditions.map(D=>D.rate))}%`:"없음",infoMessage:"자세한 우대조건은 상품 가이드를 확인하세요."})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"추가 정보"}),c.jsx(I8,{depositorProtection:"예금자 보호 대상 아님",productType:p.type,selectionEnrollment:((R=p.rateConditions)==null?void 0:R.map(D=>D.title))??[],interestRateNotice:(M=p.rateConditions)!=null&&M.length?`우대 조건 만족 시 최대 연 ${Math.max(...p.rateConditions.map(D=>D.rate))}% 우대 이율 제공`:"우대 조건 없음"})]})]})}),c.jsx("div",{className:"p-4",children:c.jsx($e,{text:"토큰 상품 가입",onClick:x,fullWidth:!0})})]})}const F8="modulepreload",B8=function(n){return"/"+n},Ak={},Hg=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=a(t.map(h=>{if(h=B8(h),h in Ak)return;Ak[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":F8,p||(x.as="script"),x.crossOrigin="",x.href=h,d&&x.setAttribute("nonce",d),document.head.appendChild(x),p)return new Promise((v,w)=>{x.addEventListener("load",v),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return r.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var Ef={};Ef.d=(n,e)=>{for(var t in e)Ef.o(e,t)&&!Ef.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Ef.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var De=globalThis.pdfjsLib={};Ef.d(De,{AbortException:()=>Lc,AnnotationEditorLayer:()=>SS,AnnotationEditorParamsType:()=>Ie,AnnotationEditorType:()=>Be,AnnotationEditorUIManager:()=>jc,AnnotationLayer:()=>O7,AnnotationMode:()=>Wo,ColorPicker:()=>ty,DOMSVGFactory:()=>iA,DrawLayer:()=>jS,FeatureTest:()=>Wn,GlobalWorkerOptions:()=>io,ImageKind:()=>ix,InvalidPDFException:()=>m2,MissingPDFException:()=>Rc,OPS:()=>hr,OutputScale:()=>mw,PDFDataRangeTransport:()=>dL,PDFDateString:()=>J1,PDFWorker:()=>ku,PasswordResponses:()=>U8,PermissionFlag:()=>z8,PixelsPerInch:()=>Ia,RenderingCancelledException:()=>Y1,TextLayer:()=>Uw,UnexpectedResponseException:()=>$y,Util:()=>Se,VerbosityLevel:()=>Oy,XfaLayer:()=>fL,build:()=>x7,createValidAbsoluteUrl:()=>K8,fetchData:()=>zy,getDocument:()=>l7,getFilenameFromUrl:()=>nG,getPdfFilenameFromUrl:()=>sG,getXfaPageViewport:()=>rG,isDataScheme:()=>Uy,isPdfFile:()=>Q1,noContextMenu:()=>Zs,normalizeUnicode:()=>Z8,setLayerDimensions:()=>Ec,shadow:()=>Ye,version:()=>g7});const On=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),p2=[1,0,0,1,0,0],dw=[.001,0,0,.001,0,0],$8=1e7,pb=1.35,Es={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Wo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},V8="pdfjs_internal_editor_",Be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ie={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},z8={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Nn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ix={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Xt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Yh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Oy={ERRORS:0,WARNINGS:1,INFOS:5},hr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},U8={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Fy=Oy.WARNINGS;function H8(n){Number.isInteger(n)&&(Fy=n)}function W8(){return Fy}function By(n){Fy>=Oy.INFOS&&console.log(`Info: ${n}`)}function Ue(n){Fy>=Oy.WARNINGS&&console.log(`Warning: ${n}`)}function vt(n){throw new Error(n)}function Zt(n,e){n||vt(e)}function G8(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function K8(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=J8(n)}catch{}}const s=e?new URL(n,e):new URL(n);if(G8(s))return s}catch{}return null}function Ye(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const za=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class hw extends za{constructor(e,t){super(e,"PasswordException"),this.code=t}}class fw extends za{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class m2 extends za{constructor(e){super(e,"InvalidPDFException")}}class Rc extends za{constructor(e){super(e,"MissingPDFException")}}class $y extends za{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class q8 extends za{constructor(e){super(e,"FormatError")}}class Lc extends za{constructor(e){super(e,"AbortException")}}function g2(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&vt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),a=n.subarray(r,o);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function Vy(n){typeof n!="string"&&vt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function X8(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function q1(n){const e=Object.create(null);for(const[t,s]of n)e[t]=s;return e}function Y8(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Q8(){try{return new Function(""),!0}catch{return!1}}class Wn{static get isLittleEndian(){return Ye(this,"isLittleEndian",Y8())}static get isEvalSupported(){return Ye(this,"isEvalSupported",Q8())}static get isOffscreenCanvasSupported(){return Ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ye(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ye(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ye(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const mb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var uo,ox,pw;class Se{static makeHexColor(e,t,s){return`#${mb[e]}${mb[t]}${mb[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const s=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[s,r]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s;return[r,o]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],r[0],o[0],a[0]),Math.min(s[1],r[1],o[1],a[1]),Math.max(s[0],r[0],o[0],a[0]),Math.max(s[1],r[1],o[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],u=(s+a)/2,d=Math.sqrt((s+a)**2-4*(s*a-o*r))/2,h=u+d||1,p=u-d||1;return[Math.sqrt(h),Math.sqrt(p)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>a?null:[s,o,r,a]}static bezierBoundingBox(e,t,s,r,o,a,u,d,h){return h?(h[0]=Math.min(h[0],e,u),h[1]=Math.min(h[1],t,d),h[2]=Math.max(h[2],e,u),h[3]=Math.max(h[3],t,d)):h=[Math.min(e,u),Math.min(t,d),Math.max(e,u),Math.max(t,d)],_(this,uo,pw).call(this,e,s,o,u,t,r,a,d,3*(-e+3*(s-o)+u),6*(e-2*s+o),3*(s-e),h),_(this,uo,pw).call(this,e,s,o,u,t,r,a,d,3*(-t+3*(r-a)+d),6*(t-2*r+a),3*(r-t),h),h}}uo=new WeakSet,ox=function(e,t,s,r,o,a,u,d,h,p){if(h<=0||h>=1)return;const g=1-h,x=h*h,v=x*h,w=g*(g*(g*e+3*h*t)+3*x*s)+v*r,b=g*(g*(g*o+3*h*a)+3*x*u)+v*d;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],b),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],b)},pw=function(e,t,s,r,o,a,u,d,h,p,g,x){if(Math.abs(h)<1e-12){Math.abs(p)>=1e-12&&_(this,uo,ox).call(this,e,t,s,r,o,a,u,d,-g/p,x);return}const v=p**2-4*g*h;if(v<0)return;const w=Math.sqrt(v),b=2*h;_(this,uo,ox).call(this,e,t,s,r,o,a,u,d,(-p+w)/b,x),_(this,uo,ox).call(this,e,t,s,r,o,a,u,d,(-p-w)/b,x)},I(Se,uo);function J8(n){return decodeURIComponent(escape(n))}let gb=null,Ck=null;function Z8(n){return gb||(gb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ck=new Map([["ﬅ","ſt"]])),n.replaceAll(gb,(e,t,s)=>t?t.normalize("NFKC"):Ck.get(s))}function eG(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return g2(n)}const X1="pdfjs_internal_id_",ki={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function tG(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(g2(n))}const _i="http://www.w3.org/2000/svg",hl=class hl{};Le(hl,"CSS",96),Le(hl,"PDF",72),Le(hl,"PDF_TO_CSS_UNITS",hl.CSS/hl.PDF);let Ia=hl;async function zy(n,e="text"){if(rf(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class gm{constructor({viewBox:e,scale:t,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=s,this.offsetX=r,this.offsetY=o;const u=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,p,g,x;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,p=0,g=0,x=1;break;case 90:h=0,p=1,g=1,x=0;break;case 270:h=0,p=-1,g=-1,x=0;break;case 0:h=1,p=0,g=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(g=-g,x=-x);let v,w,b,E;h===0?(v=Math.abs(d-e[1])*t+r,w=Math.abs(u-e[0])*t+o,b=(e[3]-e[1])*t,E=(e[2]-e[0])*t):(v=Math.abs(u-e[0])*t+r,w=Math.abs(d-e[1])*t+o,b=(e[2]-e[0])*t,E=(e[3]-e[1])*t),this.transform=[h*t,p*t,g*t,x*t,v-h*t*u-g*t*d,w-p*t*u-x*t*d],this.width=b,this.height=E}get rawDims(){const{viewBox:e}=this;return Ye(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new gm({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){return Se.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Se.applyTransform([e[0],e[1]],this.transform),s=Se.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return Se.applyInverseTransform([e,t],this.transform)}}class Y1 extends za{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Uy(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Q1(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function nG(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function sG(n,e="document.pdf"){if(typeof n!="string")return e;if(Uy(n))return Ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||e}class Ek{constructor(){Le(this,"started",Object.create(null));Le(this,"times",[])}time(e){e in this.started&&Ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:o}of this.times)e.push(`${s.padEnd(t)} ${o-r}ms
`);return e.join("")}}function rf(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Zs(n){n.preventDefault()}function jk(n){console.log("Deprecated API usage: "+n)}var Wf;class J1{static toDateObject(e){if(!e||typeof e!="string")return null;f(this,Wf)||T(this,Wf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,Wf).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const h=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,h==="-"?(a+=p,u+=g):h==="+"&&(a-=p,u-=g),new Date(Date.UTC(s,r,o,a,u,d))}}Wf=new WeakMap,I(J1,Wf);function rG(n,{scale:e=1,rotation:t=0}){const{width:s,height:r}=n.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new gm({viewBox:o,scale:e,rotation:t})}function Z1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ue(`Not a valid color format: "${n}"`),[0,0,0])}function iG(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Z1(s))}e.remove()}function Tt(n){const{a:e,b:t,c:s,d:r,e:o,f:a}=n.getTransform();return[e,t,s,r,o,a]}function Ti(n){const{a:e,b:t,c:s,d:r,e:o,f:a}=n.getTransform().invertSelf();return[e,t,s,r,o,a]}function Ec(n,e,t=!1,s=!0){if(e instanceof gm){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:a}=n,u=Wn.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,h=`var(--scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,g=u?`round(down, ${h}, var(--scale-round-y, 1px))`:`calc(${h})`;!t||e.rotation%180===0?(a.width=p,a.height=g):(a.width=g,a.height=p)}s&&n.setAttribute("data-main-rotation",e.rotation)}class mw{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ea,Al,mr,Cl,Gf,Kf,sy,x2,Gn,y2,v2,ax,b2,xw;const Ri=class Ri{constructor(e){I(this,Gn);I(this,ea,null);I(this,Al,null);I(this,mr);I(this,Cl,null);I(this,Gf,null);T(this,mr,e),f(Ri,Kf)||T(Ri,Kf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=T(this,ea,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,mr)._uiManager._signal;e.addEventListener("contextmenu",Zs,{signal:t}),e.addEventListener("pointerdown",_(Ri,sy,x2),{signal:t});const s=T(this,Cl,document.createElement("div"));s.className="buttons",e.append(s);const r=f(this,mr).toolbarPosition;if(r){const{style:o}=e,a=f(this,mr)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,Gn,b2).call(this),e}get div(){return f(this,ea)}hide(){var e;f(this,ea).classList.add("hidden"),(e=f(this,Al))==null||e.hideDropdown()}show(){var e;f(this,ea).classList.remove("hidden"),(e=f(this,Gf))==null||e.shown()}async addAltText(e){const t=await e.render();_(this,Gn,ax).call(this,t),f(this,Cl).prepend(t,f(this,Gn,xw)),T(this,Gf,e)}addColorPicker(e){T(this,Al,e);const t=e.renderButton();_(this,Gn,ax).call(this,t),f(this,Cl).prepend(t,f(this,Gn,xw))}remove(){var e;f(this,ea).remove(),(e=f(this,Al))==null||e.destroy(),T(this,Al,null)}};ea=new WeakMap,Al=new WeakMap,mr=new WeakMap,Cl=new WeakMap,Gf=new WeakMap,Kf=new WeakMap,sy=new WeakSet,x2=function(e){e.stopPropagation()},Gn=new WeakSet,y2=function(e){f(this,mr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},v2=function(e){f(this,mr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},ax=function(e){const t=f(this,mr)._uiManager._signal;e.addEventListener("focusin",_(this,Gn,y2).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,Gn,v2).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Zs,{signal:t})},b2=function(){const{editorType:e,_uiManager:t}=f(this,mr),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",f(Ri,Kf)[e]),_(this,Gn,ax).call(this,s),s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),f(this,Cl).append(s)},xw=function(){const e=document.createElement("div");return e.className="divider",e},I(Ri,sy),I(Ri,Kf,null);let gw=Ri;var qf,El,jl,Da,w2,S2,A2;class oG{constructor(e){I(this,Da);I(this,qf,null);I(this,El,null);I(this,jl);T(this,jl,e)}show(e,t,s){const[r,o]=_(this,Da,S2).call(this,t,s),{style:a}=f(this,El)||T(this,El,_(this,Da,w2).call(this));e.append(f(this,El)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,El).remove()}}qf=new WeakMap,El=new WeakMap,jl=new WeakMap,Da=new WeakSet,w2=function(){const e=T(this,El,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Zs,{signal:f(this,jl)._signal});const t=T(this,qf,document.createElement("div"));return t.className="buttons",e.append(t),_(this,Da,A2).call(this),e},S2=function(e,t){let s=0,r=0;for(const o of e){const a=o.y+o.height;if(a<s)continue;const u=o.x+(t?o.width:0);if(a>s){r=u,s=a;continue}t?u>r&&(r=u):u<r&&(r=u)}return[t?1-r:r,s]},A2=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=f(this,jl)._signal;e.addEventListener("contextmenu",Zs,{signal:s}),e.addEventListener("click",()=>{f(this,jl).highlightSelection("floating_button")},{signal:s}),f(this,qf).append(e)};function Jx(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}function aG(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var ry;class lG{constructor(){I(this,ry,0)}get id(){return`${V8}${rn(this,ry)._++}`}}ry=new WeakMap;var Hu,Xf,Pn,Wu,lx;const lA=class lA{constructor(){I(this,Wu);I(this,Hu,eG());I(this,Xf,0);I(this,Pn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ye(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:o}=e;return _(this,Wu,lx).call(this,`${t}_${s}_${r}_${o}`,e)}async getFromUrl(e){return _(this,Wu,lx).call(this,e,e)}async getFromBlob(e,t){const s=await t;return _(this,Wu,lx).call(this,e,s)}async getFromId(e){f(this,Pn)||T(this,Pn,new Map);const t=f(this,Pn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Pn)||T(this,Pn,new Map);let s=f(this,Pn).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${f(this,Hu)}_${rn(this,Xf)._++}`,refCounter:1,isSvg:!1},f(this,Pn).set(e,s),f(this,Pn).set(s.id,s),s}getSvgUrl(e){const t=f(this,Pn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;f(this,Pn)||T(this,Pn,new Map);const t=f(this,Pn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,Hu)}_`)}};Hu=new WeakMap,Xf=new WeakMap,Pn=new WeakMap,Wu=new WeakSet,lx=async function(e,t){f(this,Pn)||T(this,Pn,new Map);let s=f(this,Pn).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${f(this,Hu)}_${rn(this,Xf)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await zy(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=lA._isSVGFittingCanvas,a=new FileReader,u=new Image,d=new Promise((h,p)=>{u.onload=()=>{s.bitmap=u,s.isSvg=!0,h()},a.onload=async()=>{const g=s.svgUrl=a.result;u.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=a.onerror=p});a.readAsDataURL(r),await d}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return f(this,Pn).set(e,s),s&&f(this,Pn).set(s.id,s),s};let yw=lA;var an,ta,Yf,ln;class cG{constructor(e=128){I(this,an,[]);I(this,ta,!1);I(this,Yf);I(this,ln,-1);T(this,Yf,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:a=!1,keepUndo:u=!1}){if(r&&e(),f(this,ta))return;const d={cmd:e,undo:t,post:s,type:o};if(f(this,ln)===-1){f(this,an).length>0&&(f(this,an).length=0),T(this,ln,0),f(this,an).push(d);return}if(a&&f(this,an)[f(this,ln)].type===o){u&&(d.undo=f(this,an)[f(this,ln)].undo),f(this,an)[f(this,ln)]=d;return}const h=f(this,ln)+1;h===f(this,Yf)?f(this,an).splice(0,1):(T(this,ln,h),h<f(this,an).length&&f(this,an).splice(h)),f(this,an).push(d)}undo(){if(f(this,ln)===-1)return;T(this,ta,!0);const{undo:e,post:t}=f(this,an)[f(this,ln)];e(),t==null||t(),T(this,ta,!1),T(this,ln,f(this,ln)-1)}redo(){if(f(this,ln)<f(this,an).length-1){T(this,ln,f(this,ln)+1),T(this,ta,!0);const{cmd:e,post:t}=f(this,an)[f(this,ln)];e(),t==null||t(),T(this,ta,!1)}}hasSomethingToUndo(){return f(this,ln)!==-1}hasSomethingToRedo(){return f(this,ln)<f(this,an).length-1}destroy(){T(this,an,null)}}an=new WeakMap,ta=new WeakMap,Yf=new WeakMap,ln=new WeakMap;var iy,C2;class xm{constructor(e){I(this,iy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Wn.platform;for(const[s,r,o={}]of e)for(const a of s){const u=a.startsWith("mac+");t&&u?(this.callbacks.set(a.slice(4),{callback:r,options:o}),this.allKeys.add(a.split("+").at(-1))):!t&&!u&&(this.callbacks.set(a,{callback:r,options:o}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(_(this,iy,C2).call(this,t));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:a=[],checker:u=null}}=s;u&&!u(e,t)||(r.bind(e,...a,t)(),o||(t.stopPropagation(),t.preventDefault()))}}iy=new WeakSet,C2=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const oy=class oy{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return iG(e),Ye(this,"_colors",e)}convert(e){const t=Z1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((o,a)=>o===t[a]))return oy._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?Se.makeHexColor(...t):e}};Le(oy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let vw=oy;var Gu,xs,Yt,mn,Ku,Mi,qu,gr,na,Xu,Nl,Kr,xr,kl,Qf,Jf,Yu,Zf,qr,sa,Qu,ra,Xr,ay,ia,ep,oa,Tl,tp,np,cn,st,Di,Pl,sp,rp,aa,Yr,Oi,ip,Us,ue,cx,bw,E2,j2,ux,N2,k2,T2,ww,P2,Sw,Aw,_2,$n,Uo,R2,L2,Cw,I2,of,Ew;const Su=class Su{constructor(e,t,s,r,o,a,u,d,h,p,g){I(this,ue);I(this,Gu,new AbortController);I(this,xs,null);I(this,Yt,new Map);I(this,mn,new Map);I(this,Ku,null);I(this,Mi,null);I(this,qu,null);I(this,gr,new cG);I(this,na,null);I(this,Xu,0);I(this,Nl,new Set);I(this,Kr,null);I(this,xr,null);I(this,kl,new Set);I(this,Qf,!1);I(this,Jf,!1);I(this,Yu,!1);I(this,Zf,null);I(this,qr,null);I(this,sa,null);I(this,Qu,null);I(this,ra,!1);I(this,Xr,null);I(this,ay,new lG);I(this,ia,!1);I(this,ep,!1);I(this,oa,null);I(this,Tl,null);I(this,tp,null);I(this,np,null);I(this,cn,Be.NONE);I(this,st,new Set);I(this,Di,null);I(this,Pl,null);I(this,sp,null);I(this,rp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,aa,[0,0]);I(this,Yr,null);I(this,Oi,null);I(this,ip,null);I(this,Us,null);const x=this._signal=f(this,Gu).signal;T(this,Oi,e),T(this,ip,t),T(this,Ku,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:x}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),r._on("setpreference",this.onSetPreference.bind(this),{signal:x}),r._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:x}),_(this,ue,N2).call(this),_(this,ue,_2).call(this),_(this,ue,ww).call(this),T(this,Mi,o.annotationStorage),T(this,Zf,o.filterFactory),T(this,Pl,a),T(this,Qu,u||null),T(this,Qf,d),T(this,Jf,h),T(this,Yu,p),T(this,np,g||null),this.viewParameters={realScale:Ia.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Su.prototype,t=a=>f(a,Oi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),s=(a,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ye(this,"_keyboardManager",new xm([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:u})=>!(u instanceof HTMLButtonElement)&&f(a,Oi).contains(u)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:u})=>!(u instanceof HTMLButtonElement)&&f(a,Oi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,s,r;(e=f(this,Us))==null||e.resolve(),T(this,Us,null),(t=f(this,Gu))==null||t.abort(),T(this,Gu,null),this._signal=null;for(const o of f(this,mn).values())o.destroy();f(this,mn).clear(),f(this,Yt).clear(),f(this,kl).clear(),T(this,xs,null),f(this,st).clear(),f(this,gr).destroy(),(s=f(this,Ku))==null||s.destroy(),(r=f(this,Xr))==null||r.hide(),T(this,Xr,null),f(this,qr)&&(clearTimeout(f(this,qr)),T(this,qr,null)),f(this,Yr)&&(clearTimeout(f(this,Yr)),T(this,Yr,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,np)}get useNewAltTextFlow(){return f(this,Jf)}get useNewAltTextWhenAddingImage(){return f(this,Yu)}get hcmFilter(){return Ye(this,"hcmFilter",f(this,Pl)?f(this,Zf).addHCMFilter(f(this,Pl).foreground,f(this,Pl).background):"none")}get direction(){return Ye(this,"direction",getComputedStyle(f(this,Oi)).direction)}get highlightColors(){return Ye(this,"highlightColors",f(this,Qu)?new Map(f(this,Qu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ye(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){T(this,tp,e)}editAltText(e,t=!1){var s;(s=f(this,Ku))==null||s.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":T(this,Yu,t);break}}onPageChanging({pageNumber:e}){T(this,Xu,e-1)}focusMainContainer(){f(this,Oi).focus()}findParent(e,t){for(const s of f(this,mn).values()){const{x:r,y:o,width:a,height:u}=s.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=o&&t<=o+u)return s}return null}disableUserSelect(e=!1){f(this,ip).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,kl).add(e)}removeShouldRescale(e){f(this,kl).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ia.PDF_TO_CSS_UNITS;for(const t of f(this,kl))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:a}=t,u=t.toString(),h=_(this,ue,cx).call(this,t).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;t.empty();const g=_(this,ue,bw).call(this,h),x=f(this,cn)===Be.NONE,v=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:a,text:u}),x&&this.showAllEditors("highlight",!0,!0)};if(x){this.switchToMode(Be.HIGHLIGHT,v);return}v()}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Mi)&&!f(this,Mi).has(e.id)&&f(this,Mi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,f(this,ra)&&(T(this,ra,!1),_(this,ue,ux).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,st))if(t.div.contains(e)){T(this,Tl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Tl))return;const[e,t]=f(this,Tl);T(this,Tl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,ue,ww).call(this),_(this,ue,Sw).call(this)}removeEditListeners(){_(this,ue,P2).call(this),_(this,ue,Aw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of f(this,xr))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of f(this,xr))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=f(this,xs))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of f(this,st)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const a of f(this,xr))if(a.isHandlingMimeForPasting(o.type)){a.paste(o,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Ue(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of s){const h=await r.deserialize(d);if(!h)return;o.push(h)}const a=()=>{for(const d of o)_(this,ue,Cw).call(this,d);_(this,ue,Ew).call(this,o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:a,undo:u,mustExec:!0})}catch(o){Ue(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,cn)!==Be.NONE&&!this.isEditorHandlingKeyboard&&Su._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,ra)&&(T(this,ra,!1),_(this,ue,ux).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,ue,k2).call(this),_(this,ue,Sw).call(this),_(this,ue,$n).call(this,{isEditing:f(this,cn)!==Be.NONE,isEmpty:_(this,ue,of).call(this),hasSomethingToUndo:f(this,gr).hasSomethingToUndo(),hasSomethingToRedo:f(this,gr).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,ue,T2).call(this),_(this,ue,Aw).call(this),_(this,ue,$n).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,xr)){T(this,xr,e);for(const t of f(this,xr))_(this,ue,Uo).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,ay).id}get currentLayer(){return f(this,mn).get(f(this,Xu))}getLayer(e){return f(this,mn).get(e)}get currentPageIndex(){return f(this,Xu)}addLayer(e){f(this,mn).set(e.pageIndex,e),f(this,ia)?e.enable():e.disable()}removeLayer(e){f(this,mn).delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(f(this,cn)!==e&&!(f(this,Us)&&(await f(this,Us).promise,!f(this,Us)))){if(T(this,Us,Promise.withResolvers()),T(this,cn,e),e===Be.NONE){this.setEditingState(!1),_(this,ue,L2).call(this),f(this,Us).resolve();return}this.setEditingState(!0),await _(this,ue,R2).call(this),this.unselectAll();for(const r of f(this,mn).values())r.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),f(this,Us).resolve();return}for(const r of f(this,Yt).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();f(this,Us).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==f(this,cn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var s;if(f(this,xr)){switch(e){case Ie.CREATE:this.currentLayer.addNewEditor();return;case Ie.HIGHLIGHT_DEFAULT_COLOR:(s=f(this,tp))==null||s.updateColor(t);break;case Ie.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,sp)||T(this,sp,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of f(this,st))r.updateParams(e,t);for(const r of f(this,xr))r.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var o;for(const a of f(this,Yt).values())a.editorType===e&&a.show(t);(((o=f(this,sp))==null?void 0:o.get(Ie.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,ue,Uo).call(this,[[Ie.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,ep)!==e){T(this,ep,e);for(const t of f(this,mn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of f(this,Yt).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return f(this,Yt).get(e)}addEditor(e){f(this,Yt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(f(this,qr)&&clearTimeout(f(this,qr)),T(this,qr,setTimeout(()=>{this.focusMainContainer(),T(this,qr,null)},0))),f(this,Yt).delete(e.id),this.unselect(e),(!e.annotationElementId||!f(this,Nl).has(e.annotationElementId))&&((t=f(this,Mi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){f(this,Nl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Nl).has(e)}removeDeletedAnnotationElement(e){f(this,Nl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,xs)!==e&&(T(this,xs,e),e&&_(this,ue,Uo).call(this,e.propertiesToUpdate))}updateUI(e){f(this,ue,I2)===e&&_(this,ue,Uo).call(this,e.propertiesToUpdate)}toggleSelected(e){if(f(this,st).has(e)){f(this,st).delete(e),e.unselect(),_(this,ue,$n).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,st).add(e),e.select(),_(this,ue,Uo).call(this,e.propertiesToUpdate),_(this,ue,$n).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of f(this,st))t!==e&&t.unselect();f(this,st).clear(),f(this,st).add(e),e.select(),_(this,ue,Uo).call(this,e.propertiesToUpdate),_(this,ue,$n).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,st).has(e)}get firstSelectedEditor(){return f(this,st).values().next().value}unselect(e){e.unselect(),f(this,st).delete(e),_(this,ue,$n).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,st).size!==0}get isEnterHandled(){return f(this,st).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){f(this,gr).undo(),_(this,ue,$n).call(this,{hasSomethingToUndo:f(this,gr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,ue,of).call(this)})}redo(){f(this,gr).redo(),_(this,ue,$n).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,gr).hasSomethingToRedo(),isEmpty:_(this,ue,of).call(this)})}addCommands(e){f(this,gr).add(e),_(this,ue,$n).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,ue,of).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...f(this,st)],t=()=>{for(const r of e)r.remove()},s=()=>{for(const r of e)_(this,ue,Cw).call(this,r)};this.addCommands({cmd:t,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=f(this,xs))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,xs)||this.hasSelection}selectAll(){for(const e of f(this,st))e.commit();_(this,ue,Ew).call(this,f(this,Yt).values())}unselectAll(){if(!(f(this,xs)&&(f(this,xs).commitOrRemove(),f(this,cn)!==Be.NONE))&&this.hasSelection){for(const e of f(this,st))e.unselect();f(this,st).clear(),_(this,ue,$n).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;f(this,aa)[0]+=e,f(this,aa)[1]+=t;const[r,o]=f(this,aa),a=[...f(this,st)],u=1e3;f(this,Yr)&&clearTimeout(f(this,Yr)),T(this,Yr,setTimeout(()=>{T(this,Yr,null),f(this,aa)[0]=f(this,aa)[1]=0,this.addCommands({cmd:()=>{for(const d of a)f(this,Yt).has(d.id)&&d.translateInPage(r,o)},undo:()=>{for(const d of a)f(this,Yt).has(d.id)&&d.translateInPage(-r,-o)},mustExec:!1})},u));for(const d of a)d.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),T(this,Kr,new Map);for(const e of f(this,st))f(this,Kr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,Kr))return!1;this.disableUserSelect(!1);const e=f(this,Kr);T(this,Kr,null);let t=!1;for(const[{x:r,y:o,pageIndex:a},u]of e)u.newX=r,u.newY=o,u.newPageIndex=a,t||(t=r!==u.savedX||o!==u.savedY||a!==u.savedPageIndex);if(!t)return!1;const s=(r,o,a,u)=>{if(f(this,Yt).has(r.id)){const d=f(this,mn).get(u);d?r._setParentAndPosition(d,o,a):(r.pageIndex=u,r.x=o,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:a,newPageIndex:u}]of e)s(r,o,a,u)},undo:()=>{for(const[r,{savedX:o,savedY:a,savedPageIndex:u}]of e)s(r,o,a,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,Kr))for(const s of f(this,Kr).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,st).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,xs)===e}getActive(){return f(this,xs)}getMode(){return f(this,cn)}get imageManager(){return Ye(this,"imageManager",new yw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,p=t.rangeCount;h<p;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:a}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(h,p,g,x)=>({x:(p-r)/a,y:1-(h+g-s)/o,width:x/a,height:g/o});break;case"180":u=(h,p,g,x)=>({x:1-(h+g-s)/o,y:1-(p+x-r)/a,width:g/o,height:x/a});break;case"270":u=(h,p,g,x)=>({x:1-(p+x-r)/a,y:(h-s)/o,width:x/a,height:g/o});break;default:u=(h,p,g,x)=>({x:(h-s)/o,y:(p-r)/a,width:g/o,height:x/a});break}const d=[];for(let h=0,p=t.rangeCount;h<p;h++){const g=t.getRangeAt(h);if(!g.collapsed)for(const{x,y:v,width:w,height:b}of g.getClientRects())w===0||b===0||d.push(u(x,v,w,b))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,qu)||T(this,qu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,qu))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=f(this,qu))==null?void 0:r.get(e.data.id);if(!t)return;const s=f(this,Mi).getRawValue(t);s&&(f(this,cn)===Be.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};Gu=new WeakMap,xs=new WeakMap,Yt=new WeakMap,mn=new WeakMap,Ku=new WeakMap,Mi=new WeakMap,qu=new WeakMap,gr=new WeakMap,na=new WeakMap,Xu=new WeakMap,Nl=new WeakMap,Kr=new WeakMap,xr=new WeakMap,kl=new WeakMap,Qf=new WeakMap,Jf=new WeakMap,Yu=new WeakMap,Zf=new WeakMap,qr=new WeakMap,sa=new WeakMap,Qu=new WeakMap,ra=new WeakMap,Xr=new WeakMap,ay=new WeakMap,ia=new WeakMap,ep=new WeakMap,oa=new WeakMap,Tl=new WeakMap,tp=new WeakMap,np=new WeakMap,cn=new WeakMap,st=new WeakMap,Di=new WeakMap,Pl=new WeakMap,sp=new WeakMap,rp=new WeakMap,aa=new WeakMap,Yr=new WeakMap,Oi=new WeakMap,ip=new WeakMap,Us=new WeakMap,ue=new WeakSet,cx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},bw=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of f(this,mn).values())if(s.hasTextLayer(e))return s;return null},E2=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=_(this,ue,cx).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(f(this,Xr)||T(this,Xr,new oG(this)),f(this,Xr).show(s,r,this.direction==="ltr"))},j2=function(){var o,a,u;const e=document.getSelection();if(!e||e.isCollapsed){f(this,Di)&&((o=f(this,Xr))==null||o.hide(),T(this,Di,null),_(this,ue,$n).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,Di))return;const r=_(this,ue,cx).call(this,e).closest(".textLayer");if(!r){f(this,Di)&&((a=f(this,Xr))==null||a.hide(),T(this,Di,null),_(this,ue,$n).call(this,{hasSelectedText:!1}));return}if((u=f(this,Xr))==null||u.hide(),T(this,Di,t),_(this,ue,$n).call(this,{hasSelectedText:!0}),!(f(this,cn)!==Be.HIGHLIGHT&&f(this,cn)!==Be.NONE)&&(f(this,cn)===Be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),T(this,ra,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=f(this,cn)===Be.HIGHLIGHT?_(this,ue,bw).call(this,r):null;d==null||d.toggleDrawing();const h=new AbortController,p=this.combinedSignal(h),g=x=>{x.type==="pointerup"&&x.button!==0||(h.abort(),d==null||d.toggleDrawing(!0),x.type==="pointerup"&&_(this,ue,ux).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}},ux=function(e=""){f(this,cn)===Be.HIGHLIGHT?this.highlightSelection(e):f(this,Qf)&&_(this,ue,E2).call(this)},N2=function(){document.addEventListener("selectionchange",_(this,ue,j2).bind(this),{signal:this._signal})},k2=function(){if(f(this,sa))return;T(this,sa,new AbortController);const e=this.combinedSignal(f(this,sa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},T2=function(){var e;(e=f(this,sa))==null||e.abort(),T(this,sa,null)},ww=function(){if(f(this,oa))return;T(this,oa,new AbortController);const e=this.combinedSignal(f(this,oa));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},P2=function(){var e;(e=f(this,oa))==null||e.abort(),T(this,oa,null)},Sw=function(){if(f(this,na))return;T(this,na,new AbortController);const e=this.combinedSignal(f(this,na));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Aw=function(){var e;(e=f(this,na))==null||e.abort(),T(this,na,null)},_2=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$n=function(e){Object.entries(e).some(([s,r])=>f(this,rp)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,rp),e)}),f(this,cn)===Be.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,ue,Uo).call(this,[[Ie.HIGHLIGHT_FREE,!0]]))},Uo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},R2=async function(){if(!f(this,ia)){T(this,ia,!0);const e=[];for(const t of f(this,mn).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Yt).values())t.enable()}},L2=function(){if(this.unselectAll(),f(this,ia)){T(this,ia,!1);for(const e of f(this,mn).values())e.disable();for(const e of f(this,Yt).values())e.disable()}},Cw=function(e){const t=f(this,mn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},I2=function(){let e=null;for(e of f(this,st));return e},of=function(){if(f(this,Yt).size===0)return!0;if(f(this,Yt).size===1)for(const e of f(this,Yt).values())return e.isEmpty();return!1},Ew=function(e){for(const t of f(this,st))t.unselect();f(this,st).clear();for(const t of e)t.isEmpty()||(f(this,st).add(t),t.select());_(this,ue,$n).call(this,{hasSelectedEditor:this.hasSelection})},Le(Su,"TRANSLATE_SMALL",1),Le(Su,"TRANSLATE_BIG",10);let jc=Su;var un,Qr,yr,Ju,Jr,ys,Zu,Zr,rs,Fi,_l,ei,la,Tr,af,dx;const Vn=class Vn{constructor(e){I(this,Tr);I(this,un,null);I(this,Qr,!1);I(this,yr,null);I(this,Ju,null);I(this,Jr,null);I(this,ys,null);I(this,Zu,!1);I(this,Zr,null);I(this,rs,null);I(this,Fi,null);I(this,_l,null);I(this,ei,!1);T(this,rs,e),T(this,ei,e._uiManager.useNewAltTextFlow),f(Vn,la)||T(Vn,la,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Vn._l10n??(Vn._l10n=e)}async render(){const e=T(this,yr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=T(this,Ju,document.createElement("span"));e.append(t),f(this,ei)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Vn,la).missing),t.setAttribute("data-l10n-id",f(Vn,la)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=f(this,rs)._uiManager._signal;e.addEventListener("contextmenu",Zs,{signal:s}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),f(this,rs)._uiManager.editAltText(f(this,rs)),f(this,ei)&&f(this,rs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Tr,af)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(T(this,Zu,!0),r(o))},{signal:s}),await _(this,Tr,dx).call(this),e}finish(){f(this,yr)&&(f(this,yr).focus({focusVisible:f(this,Zu)}),T(this,Zu,!1))}isEmpty(){return f(this,ei)?f(this,un)===null:!f(this,un)&&!f(this,Qr)}hasData(){return f(this,ei)?f(this,un)!==null||!!f(this,Fi):this.isEmpty()}get guessedText(){return f(this,Fi)}async setGuessedText(e){f(this,un)===null&&(T(this,Fi,e),T(this,_l,await Vn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),_(this,Tr,dx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,ei)||f(this,un)){(t=f(this,Zr))==null||t.remove(),T(this,Zr,null);return}if(!f(this,Zr)){const s=T(this,Zr,document.createElement("div"));s.className="noAltTextBadge",f(this,rs).div.append(s)}f(this,Zr).classList.toggle("hidden",!e)}serialize(e){let t=f(this,un);return!e&&f(this,Fi)===t&&(t=f(this,_l)),{altText:t,decorative:f(this,Qr),guessedText:f(this,Fi),textWithDisclaimer:f(this,_l)}}get data(){return{altText:f(this,un),decorative:f(this,Qr)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(T(this,Fi,s),T(this,_l,r)),!(f(this,un)===e&&f(this,Qr)===t)&&(o||(T(this,un,e),T(this,Qr,t)),_(this,Tr,dx).call(this))}toggle(e=!1){f(this,yr)&&(!e&&f(this,ys)&&(clearTimeout(f(this,ys)),T(this,ys,null)),f(this,yr).disabled=!e)}shown(){f(this,rs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Tr,af)}})}destroy(){var e,t;(e=f(this,yr))==null||e.remove(),T(this,yr,null),T(this,Ju,null),T(this,Jr,null),(t=f(this,Zr))==null||t.remove(),T(this,Zr,null)}};un=new WeakMap,Qr=new WeakMap,yr=new WeakMap,Ju=new WeakMap,Jr=new WeakMap,ys=new WeakMap,Zu=new WeakMap,Zr=new WeakMap,rs=new WeakMap,Fi=new WeakMap,_l=new WeakMap,ei=new WeakMap,la=new WeakMap,Tr=new WeakSet,af=function(){return f(this,un)&&"added"||f(this,un)===null&&this.guessedText&&"review"||"missing"},dx=async function(){var r,o,a;const e=f(this,yr);if(!e)return;if(f(this,ei)){if(e.classList.toggle("done",!!f(this,un)),e.setAttribute("data-l10n-id",f(Vn,la)[f(this,Tr,af)]),(r=f(this,Ju))==null||r.setAttribute("data-l10n-id",f(Vn,la)[`${f(this,Tr,af)}-label`]),!f(this,un)){(o=f(this,Jr))==null||o.remove();return}}else{if(!f(this,un)&&!f(this,Qr)){e.classList.remove("done"),(a=f(this,Jr))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,Jr);if(!t){T(this,Jr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,rs).id}`;const u=100,d=f(this,rs)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(f(this,ys)),T(this,ys,null)},{once:!0}),e.addEventListener("mouseenter",()=>{T(this,ys,setTimeout(()=>{T(this,ys,null),f(this,Jr).classList.add("show"),f(this,rs)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:d}),e.addEventListener("mouseleave",()=>{var h;f(this,ys)&&(clearTimeout(f(this,ys)),T(this,ys,null)),(h=f(this,Jr))==null||h.classList.remove("show")},{signal:d})}f(this,Qr)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,un)),t.parentNode||e.append(t);const s=f(this,rs).getImageForAltText();s==null||s.setAttribute("aria-describedby",t.id)},I(Vn,la,null),Le(Vn,"_l10n",null);let Zx=Vn;var Rl,vr,Nt,ed,Ll,gn,Il,ca,op,Ml,ua,ap,Dl,Bi,ti,td,nd,Hs,lp,ly,Ve,jw,cp,Nw,kw,M2,D2,Tw,Pw,_w,O2,Rw,F2,B2,$2,Lw,lf;const et=class et{constructor(e){I(this,Ve);I(this,Rl,null);I(this,vr,null);I(this,Nt,null);I(this,ed,!1);I(this,Ll,!1);I(this,gn,null);I(this,Il,null);I(this,ca,null);I(this,op,"");I(this,Ml,!1);I(this,ua,null);I(this,ap,!1);I(this,Dl,!1);I(this,Bi,!1);I(this,ti,null);I(this,td,0);I(this,nd,0);I(this,Hs,null);Le(this,"_editToolbar",null);Le(this,"_initialOptions",Object.create(null));Le(this,"_initialData",null);Le(this,"_isVisible",!0);Le(this,"_uiManager",null);Le(this,"_focusEventsAllowed",!0);I(this,lp,!1);I(this,ly,et._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,a];const[u,d]=this.parentDimensions;this.x=e.x/u,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=et.prototype._resizeWithKeyboard,t=jc.TRANSLATE_SMALL,s=jc.TRANSLATE_BIG;return Ye(this,"_resizerKeyboardManager",new xm([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],et.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ye(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new uG({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(et._l10n??(et._l10n=e),et._l10nResizer||(et._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),et._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);et._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){vt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,lp)}set _isDraggable(e){var t;T(this,lp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,ly)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,Ve,lf).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Ml)?T(this,Ml,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[o,a]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/o,this.y=(t+r)/a,this.fixAndSetPosition()}translate(e,t){_(this,Ve,jw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,ua)||T(this,ua,[this.x,this.y]),_(this,Ve,jw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){f(this,ua)||T(this,ua,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=e/s,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[u,d]=this.getBaseTranslation();o+=u,a+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!f(this,ua)&&(f(this,ua)[0]!==this.x||f(this,ua)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=et,r=s/e,o=s/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,s]=this.pageDimensions;let{x:r,y:o,width:a,height:u}=this;if(a*=t,u*=s,r*=t,o*=s,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),o=Math.max(0,Math.min(s-u,o));break;case 90:r=Math.max(0,Math.min(t-u,r)),o=Math.min(s,Math.max(a,o));break;case 180:r=Math.min(t,Math.max(a,r)),o=Math.min(s,Math.max(u,o));break;case 270:r=Math.min(t,Math.max(u,r)),o=Math.max(0,Math.min(s-a,o));break}this.x=r/=t,this.y=o/=s;const[d,h]=this.getBaseTranslation();r+=d,o+=h;const{style:p}=this.div;p.left=`${(100*r).toFixed(2)}%`,p.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return _(s=et,cp,Nw).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return _(s=et,cp,Nw).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,f(this,Ll)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,r=s.endsWith("%"),o=!f(this,Ll)&&t.endsWith("%");if(r&&o)return;const[a,u]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/a).toFixed(2)}%`),!f(this,Ll)&&!o&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=f(this,Nt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||f(this,Dl)?this._editToolbar:(this._editToolbar=new gw(this),this.div.append(this._editToolbar.render()),f(this,Nt)&&await this._editToolbar.addAltText(f(this,Nt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=f(this,Nt))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){f(this,Nt)||(Zx.initialize(et._l10n),T(this,Nt,new Zx(this)),f(this,Rl)&&(f(this,Nt).data=f(this,Rl),T(this,Rl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=f(this,Nt))==null?void 0:e.data}set altTextData(e){f(this,Nt)&&(f(this,Nt).data=e)}get guessedAltText(){var e;return(e=f(this,Nt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,Nt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,Nt))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,Nt)&&!f(this,Nt).isEmpty()}hasAltTextData(){var e;return((e=f(this,Nt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=f(this,ed)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_(this,Ve,Rw).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Jx(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Wn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(T(this,Ml,!0),this._isDraggable){_(this,Ve,O2).call(this,e);return}_(this,Ve,_w).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){f(this,ti)&&clearTimeout(f(this,ti)),T(this,ti,setTimeout(()=>{var e;T(this,ti,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t,s=this.rotation){const r=this.parentScale,[o,a]=this.pageDimensions,[u,d]=this.pageTranslation,h=e/r,p=t/r,g=this.x*o,x=this.y*a,v=this.width*o,w=this.height*a;switch(s){case 0:return[g+h+u,a-x-p-w+d,g+h+v+u,a-x-p+d];case 90:return[g+p+u,a-x+h+d,g+p+w+u,a-x+h+v+d];case 180:return[g-h-v+u,a-x+p+d,g-h+u,a-x+p+w+d];case 270:return[g-p-w+u,a-x-h-v+d,g-p+u,a-x-h+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,o,a]=e,u=o-s,d=a-r;switch(this.rotation){case 0:return[s,t-a,u,d];case 90:return[s,t-r,d,u];case 180:return[o,t-r,u,d];case 270:return[o,t-a,d,u];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){T(this,Dl,!0)}disableEditMode(){T(this,Dl,!1)}isInEditMode(){return f(this,Dl)}shouldGetKeyboardEvents(){return f(this,Bi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){_(this,Ve,Rw).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){vt("An editor must be serializable")}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});r.rotation=e.rotation,T(r,Rl,e.accessibilityData);const[o,a]=r.pageDimensions,[u,d,h,p]=r.getRectInCurrentCoords(e.rect,a);return r.x=u/o,r.y=d/a,r.width=h/o,r.height=p/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=f(this,ca))==null||e.abort(),T(this,ca,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,ti)&&(clearTimeout(f(this,ti)),T(this,ti,null)),_(this,Ve,lf).call(this),this.removeEditToolbar(),f(this,Hs)){for(const t of f(this,Hs).values())clearTimeout(t);T(this,Hs,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,Ve,M2).call(this),f(this,gn).classList.remove("hidden"),Jx(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),T(this,Il,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,gn).children;if(!f(this,vr)){T(this,vr,Array.from(t));const a=_(this,Ve,F2).bind(this),u=_(this,Ve,B2).bind(this),d=this._uiManager._signal;for(const h of f(this,vr)){const p=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",a,{signal:d}),h.addEventListener("blur",u,{signal:d}),h.addEventListener("focus",_(this,Ve,$2).bind(this,p),{signal:d}),h.setAttribute("data-l10n-id",et._l10nResizer[p])}}const s=f(this,vr)[0];let r=0;for(const a of t){if(a===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(f(this,vr).length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)f(this,gn).append(f(this,gn).firstChild);else if(o>r)for(let u=0;u<o-r;u++)f(this,gn).firstChild.before(f(this,gn).lastChild);let a=0;for(const u of t){const h=f(this,vr)[a++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",et._l10nResizer[h])}}_(this,Ve,Lw).call(this,0),T(this,Bi,!0),f(this,gn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,Bi)&&_(this,Ve,Pw).call(this,f(this,op),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,Ve,lf).call(this),this.div.focus()}select(){var e,t,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(s=f(this,Nt))==null||s.toggleAltTextBadge(!1)}unselect(){var e,t,s,r,o;(e=f(this,gn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=f(this,Nt))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return f(this,ap)}set isEditing(e){T(this,ap,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){T(this,Ll,!0);const s=e/t,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Hs)||T(this,Hs,new Map);const{action:s}=e;let r=f(this,Hs).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),f(this,Hs).delete(s),f(this,Hs).size===0&&T(this,Hs,null)},et._telemetryTimeout),f(this,Hs).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),T(this,ed,!1)}disable(){this.div&&(this.div.tabIndex=-1),T(this,ed,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Rl=new WeakMap,vr=new WeakMap,Nt=new WeakMap,ed=new WeakMap,Ll=new WeakMap,gn=new WeakMap,Il=new WeakMap,ca=new WeakMap,op=new WeakMap,Ml=new WeakMap,ua=new WeakMap,ap=new WeakMap,Dl=new WeakMap,Bi=new WeakMap,ti=new WeakMap,td=new WeakMap,nd=new WeakMap,Hs=new WeakMap,lp=new WeakMap,ly=new WeakMap,Ve=new WeakSet,jw=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this.fixAndSetPosition()},cp=new WeakSet,Nw=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},kw=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},M2=function(){if(f(this,gn))return;T(this,gn,document.createElement("div")),f(this,gn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");f(this,gn).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",_(this,Ve,D2).bind(this,s),{signal:t}),r.addEventListener("contextmenu",Zs,{signal:t}),r.tabIndex=-1}this.div.prepend(f(this,gn))},D2=function(e,t){var w;t.preventDefault();const{isMac:s}=Wn.platform;if(t.button!==0||t.ctrlKey&&s)return;(w=f(this,Nt))==null||w.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,a=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,Ve,Pw).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",Zs,{signal:a});const u=this.x,d=this.y,h=this.width,p=this.height,g=this.parent.div.style.cursor,x=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const v=()=>{var b;o.abort(),this.parent.togglePointerEvents(!0),(b=f(this,Nt))==null||b.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=g,this.div.style.cursor=x,_(this,Ve,Tw).call(this,u,d,h,p)};window.addEventListener("pointerup",v,{signal:a}),window.addEventListener("blur",v,{signal:a})},Tw=function(e,t,s,r){const o=this.x,a=this.y,u=this.width,d=this.height;o===e&&a===t&&u===s&&d===r||this.addCommands({cmd:()=>{this.width=u,this.height=d,this.x=o,this.y=a;const[h,p]=this.parentDimensions;this.setDims(h*u,p*d),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=e,this.y=t;const[h,p]=this.parentDimensions;this.setDims(h*s,p*r),this.fixAndSetPosition()},mustExec:!0})},Pw=function(e,t){const[s,r]=this.parentDimensions,o=this.x,a=this.y,u=this.width,d=this.height,h=et.MIN_SIZE/s,p=et.MIN_SIZE/r,g=G=>Math.round(G*1e4)/1e4,x=_(this,Ve,kw).call(this,this.rotation),v=(G,H)=>[x[0]*G+x[2]*H,x[1]*G+x[3]*H],w=_(this,Ve,kw).call(this,360-this.rotation),b=(G,H)=>[w[0]*G+w[2]*H,w[1]*G+w[3]*H];let E,A,j=!1,k=!1;switch(e){case"topLeft":j=!0,E=(G,H)=>[0,0],A=(G,H)=>[G,H];break;case"topMiddle":E=(G,H)=>[G/2,0],A=(G,H)=>[G/2,H];break;case"topRight":j=!0,E=(G,H)=>[G,0],A=(G,H)=>[0,H];break;case"middleRight":k=!0,E=(G,H)=>[G,H/2],A=(G,H)=>[0,H/2];break;case"bottomRight":j=!0,E=(G,H)=>[G,H],A=(G,H)=>[0,0];break;case"bottomMiddle":E=(G,H)=>[G/2,H],A=(G,H)=>[G/2,0];break;case"bottomLeft":j=!0,E=(G,H)=>[0,H],A=(G,H)=>[G,0];break;case"middleLeft":k=!0,E=(G,H)=>[0,H/2],A=(G,H)=>[G,H/2];break}const P=E(u,d),R=A(u,d);let M=v(...R);const D=g(o+M[0]),O=g(a+M[1]);let B=1,z=1,[K,X]=this.screenToPageTranslation(t.movementX,t.movementY);if([K,X]=b(K/s,X/r),j){const G=Math.hypot(u,d);B=z=Math.max(Math.min(Math.hypot(R[0]-P[0]-K,R[1]-P[1]-X)/G,1/u,1/d),h/u,p/d)}else k?B=Math.max(h,Math.min(1,Math.abs(R[0]-P[0]-K)))/u:z=Math.max(p,Math.min(1,Math.abs(R[1]-P[1]-X)))/d;const ee=g(u*B),J=g(d*z);M=v(...A(ee,J));const ae=D-M[0],Y=O-M[1];this.width=ee,this.height=J,this.x=ae,this.y=Y,this.setDims(s*ee,r*J),this.fixAndSetPosition()},_w=function(e){const{isMac:t}=Wn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},O2=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(t){this.div.classList.add("moving"),T(this,td,e.clientX),T(this,nd,e.clientY);const a=u=>{const{clientX:d,clientY:h}=u,[p,g]=this.screenToPageTranslation(d-f(this,td),h-f(this,nd));T(this,td,d),T(this,nd,h),this._uiManager.dragSelectedEditors(p,g)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),t&&this.div.classList.remove("moving"),T(this,Ml,!1),this._uiManager.endDragSession()||_(this,Ve,_w).call(this,e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Rw=function(){if(f(this,ca)||!this.div)return;T(this,ca,new AbortController);const e=this._uiManager.combinedSignal(f(this,ca));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},F2=function(e){et._resizerKeyboardManager.exec(this,e)},B2=function(e){var t;f(this,Bi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,gn)&&_(this,Ve,lf).call(this)},$2=function(e){T(this,op,f(this,Bi)?e:"")},Lw=function(e){if(f(this,vr))for(const t of f(this,vr))t.tabIndex=e},lf=function(){if(T(this,Bi,!1),_(this,Ve,Lw).call(this,-1),f(this,Il)){const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=f(this,Il);_(this,Ve,Tw).call(this,e,t,s,r),T(this,Il,null)}},I(et,cp),Le(et,"_l10n",null),Le(et,"_l10nResizer",null),Le(et,"_borderLineWidth",-1),Le(et,"_colorManager",new vw),Le(et,"_zIndex",1),Le(et,"_telemetryTimeout",1e3);let it=et;class uG extends it{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Nk=3285377520,$s=4294901760,Ur=65535;class V2{constructor(e){this.h1=e?e&4294967295:Nk,this.h2=e?e&4294967295:Nk}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let b=0,E=e.length;b<E;b++){const A=e.charCodeAt(b);A<=255?t[s++]=A:(t[s++]=A>>>8,t[s++]=A&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,a=new Uint32Array(t.buffer,0,r);let u=0,d=0,h=this.h1,p=this.h2;const g=3432918353,x=461845907,v=g&Ur,w=x&Ur;for(let b=0;b<r;b++)b&1?(u=a[b],u=u*g&$s|u*v&Ur,u=u<<15|u>>>17,u=u*x&$s|u*w&Ur,h^=u,h=h<<13|h>>>19,h=h*5+3864292196):(d=a[b],d=d*g&$s|d*v&Ur,d=d<<15|d>>>17,d=d*x&$s|d*w&Ur,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=t[r*4+2]<<16;case 2:u^=t[r*4+1]<<8;case 1:u^=t[r*4],u=u*g&$s|u*v&Ur,u=u<<15|u>>>17,u=u*x&$s|u*w&Ur,r&1?h^=u:p^=u}this.h1=h,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&$s|e*36045&Ur,t=t*4283543511&$s|((t<<16|e>>>16)*2950163797&$s)>>>16,e^=t>>>1,e=e*444984403&$s|e*60499&Ur,t=t*3301882366&$s|((t<<16|e>>>16)*3120437893&$s)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Iw=Object.freeze({map:null,hash:"",transfer:void 0});var Ol,Fl,dn,cy,z2;class eA{constructor(){I(this,cy);I(this,Ol,!1);I(this,Fl,null);I(this,dn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=f(this,dn).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return f(this,dn).get(e)}remove(e){if(f(this,dn).delete(e),f(this,dn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of f(this,dn).values())if(t instanceof it)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=f(this,dn).get(e);let r=!1;if(s!==void 0)for(const[o,a]of Object.entries(t))s[o]!==a&&(r=!0,s[o]=a);else r=!0,f(this,dn).set(e,t);r&&_(this,cy,z2).call(this),t instanceof it&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return f(this,dn).has(e)}getAll(){return f(this,dn).size>0?q1(f(this,dn)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return f(this,dn).size}resetModified(){f(this,Ol)&&(T(this,Ol,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new U2(this)}get serializable(){if(f(this,dn).size===0)return Iw;const e=new Map,t=new V2,s=[],r=Object.create(null);let o=!1;for(const[a,u]of f(this,dn)){const d=u instanceof it?u.serialize(!1,r):u;d&&(e.set(a,d),t.update(`${a}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const a of e.values())a.bitmap&&s.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Iw}get editorStats(){let e=null;const t=new Map;for(const s of f(this,dn).values()){if(!(s instanceof it))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const a=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(r)){if(u==="type")continue;let h=a.get(u);h||(h=new Map,a.set(u,h));const p=h.get(d)??0;h.set(d,p+1)}}for(const[s,r]of t)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){T(this,Fl,null)}get modifiedIds(){if(f(this,Fl))return f(this,Fl);const e=[];for(const t of f(this,dn).values())!(t instanceof it)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return T(this,Fl,{ids:new Set(e),hash:e.join(",")})}}Ol=new WeakMap,Fl=new WeakMap,dn=new WeakMap,cy=new WeakSet,z2=function(){f(this,Ol)||(T(this,Ol,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var up;class U2 extends eA{constructor(t){super();I(this,up);const{map:s,hash:r,transfer:o}=t.serializable,a=structuredClone(s,o?{transfer:o}:null);T(this,up,{map:a,hash:r,transfer:o})}get print(){vt("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,up)}get modifiedIds(){return Ye(this,"modifiedIds",{ids:new Set,hash:""})}}up=new WeakMap;var sd;class dG{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){I(this,sd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,sd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||f(this,sd).has(e.loadedName))){if(Zt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=e,a=new FontFace(s,r,o);this.addNativeFontFace(a);try{await a.load(),f(this,sd).add(s),t==null||t(e)}catch{Ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}vt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ue(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ye(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(On||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ye(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Zt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ye(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(P,R){return P.charCodeAt(R)<<24|P.charCodeAt(R+1)<<16|P.charCodeAt(R+2)<<8|P.charCodeAt(R+3)&255}function r(P,R,M,D){const O=P.substring(0,R),B=P.substring(R+M);return O+D+B}let o,a;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let h=0;function p(P,R){if(++h>30){Ue("Load test font never loaded."),R();return}if(d.font="30px "+P,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(p.bind(null,P,R))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let x=this._loadTestFont;x=r(x,976,g.length,g);const w=16,b=1482184792;let E=s(x,w);for(o=0,a=g.length-3;o<a;o+=4)E=E-b+s(g,o)|0;o<g.length&&(E=E-b+s(g+"XXX",o)|0),x=r(x,w,4,X8(E));const A=`url(data:font/opentype;base64,${btoa(x)});`,j=`@font-face {font-family:"${g}";src:${A}}`;this.insertRule(j);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const P of[e.loadedName,g]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=P,k.append(R)}this._document.body.append(k),p(g,()=>{k.remove(),t.complete()})}}sd=new WeakMap;class hG{constructor(e,{disableFontFace:t=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${tG(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(o){Ue(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[t]=function(o,a){};const r=[];for(let o=0,a=s.length;o<a;)switch(s[o++]){case ki.BEZIER_CURVE_TO:{const[u,d,h,p,g,x]=s.slice(o,o+6);r.push(v=>v.bezierCurveTo(u,d,h,p,g,x)),o+=6}break;case ki.MOVE_TO:{const[u,d]=s.slice(o,o+2);r.push(h=>h.moveTo(u,d)),o+=2}break;case ki.LINE_TO:{const[u,d]=s.slice(o,o+2);r.push(h=>h.lineTo(u,d)),o+=2}break;case ki.QUADRATIC_CURVE_TO:{const[u,d,h,p]=s.slice(o,o+4);r.push(g=>g.quadraticCurveTo(u,d,h,p)),o+=4}break;case ki.RESTORE:r.push(u=>u.restore());break;case ki.SAVE:r.push(u=>u.save());break;case ki.SCALE:Zt(r.length===2,"Scale command is only valid at the third position.");break;case ki.TRANSFORM:{const[u,d,h,p,g,x]=s.slice(o,o+6);r.push(v=>v.transform(u,d,h,p,g,x)),o+=6}break;case ki.TRANSLATE:{const[u,d]=s.slice(o,o+2);r.push(h=>h.translate(u,d)),o+=2}break}return this.compiledGlyphs[t]=function(a,u){r[0](a),r[1](a),a.scale(u,-u);for(let d=2,h=r.length;d<h;d++)r[d](a)}}}var dp;class H2{constructor({enableHWA:e=!1}){I(this,dp,!1);T(this,dp,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!f(this,dp)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){vt("Abstract method `_createCanvas` called.")}}dp=new WeakMap;class fG extends H2{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class W2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){vt("Abstract method `_fetch` called.")}}class G2 extends W2{async _fetch(e){const t=await zy(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Vy(t)}}class K2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,o){return"none"}destroy(e=!1){}}var Bl,$l,ni,$i,_n,uy,Vl,fe,kn,cu,uu,hx,du,q2,Mw,hu,cf,uf,Dw,df;class pG extends K2{constructor({docId:t,ownerDocument:s=globalThis.document}){super();I(this,fe);I(this,Bl);I(this,$l);I(this,ni);I(this,$i);I(this,_n);I(this,uy);I(this,Vl,0);T(this,$i,t),T(this,_n,s)}addFilter(t){if(!t)return"none";let s=f(this,fe,kn).get(t);if(s)return s;const[r,o,a]=_(this,fe,hx).call(this,t),u=t.length===1?r:`${r}${o}${a}`;if(s=f(this,fe,kn).get(u),s)return f(this,fe,kn).set(t,s),s;const d=`g_${f(this,$i)}_transfer_map_${rn(this,Vl)._++}`,h=_(this,fe,du).call(this,d);f(this,fe,kn).set(t,h),f(this,fe,kn).set(u,h);const p=_(this,fe,hu).call(this,d);return _(this,fe,uf).call(this,r,o,a,p),h}addHCMFilter(t,s){var w;const r=`${t}-${s}`,o="base";let a=f(this,fe,cu).get(o);if((a==null?void 0:a.key)===r||(a?((w=a.filter)==null||w.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},f(this,fe,cu).set(o,a)),!t||!s))return a.url;const u=_(this,fe,df).call(this,t);t=Se.makeHexColor(...u);const d=_(this,fe,df).call(this,s);if(s=Se.makeHexColor(...d),f(this,fe,uu).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return a.url;const h=new Array(256);for(let b=0;b<=255;b++){const E=b/255;h[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const p=h.join(","),g=`g_${f(this,$i)}_hcm_filter`,x=a.filter=_(this,fe,hu).call(this,g);_(this,fe,uf).call(this,p,p,p,x),_(this,fe,Mw).call(this,x);const v=(b,E)=>{const A=u[b]/255,j=d[b]/255,k=new Array(E+1);for(let P=0;P<=E;P++)k[P]=A+P/E*(j-A);return k.join(",")};return _(this,fe,uf).call(this,v(0,5),v(1,5),v(2,5),x),a.url=_(this,fe,du).call(this,g),a.url}addAlphaFilter(t){let s=f(this,fe,kn).get(t);if(s)return s;const[r]=_(this,fe,hx).call(this,[t]),o=`alpha_${r}`;if(s=f(this,fe,kn).get(o),s)return f(this,fe,kn).set(t,s),s;const a=`g_${f(this,$i)}_alpha_map_${rn(this,Vl)._++}`,u=_(this,fe,du).call(this,a);f(this,fe,kn).set(t,u),f(this,fe,kn).set(o,u);const d=_(this,fe,hu).call(this,a);return _(this,fe,Dw).call(this,r,d),u}addLuminosityFilter(t){let s=f(this,fe,kn).get(t||"luminosity");if(s)return s;let r,o;if(t?([r]=_(this,fe,hx).call(this,[t]),o=`luminosity_${r}`):o="luminosity",s=f(this,fe,kn).get(o),s)return f(this,fe,kn).set(t,s),s;const a=`g_${f(this,$i)}_luminosity_map_${rn(this,Vl)._++}`,u=_(this,fe,du).call(this,a);f(this,fe,kn).set(t,u),f(this,fe,kn).set(o,u);const d=_(this,fe,hu).call(this,a);return _(this,fe,q2).call(this,d),t&&_(this,fe,Dw).call(this,r,d),u}addHighlightHCMFilter(t,s,r,o,a){var j;const u=`${s}-${r}-${o}-${a}`;let d=f(this,fe,cu).get(t);if((d==null?void 0:d.key)===u||(d?((j=d.filter)==null||j.remove(),d.key=u,d.url="none",d.filter=null):(d={key:u,url:"none",filter:null},f(this,fe,cu).set(t,d)),!s||!r))return d.url;const[h,p]=[s,r].map(_(this,fe,df).bind(this));let g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),x=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[v,w]=[o,a].map(_(this,fe,df).bind(this));x<g&&([g,x,v,w]=[x,g,w,v]),f(this,fe,uu).style.color="";const b=(k,P,R)=>{const M=new Array(256),D=(x-g)/R,O=k/255,B=(P-k)/(255*R);let z=0;for(let K=0;K<=R;K++){const X=Math.round(g+K*D),ee=O+K*B;for(let J=z;J<=X;J++)M[J]=ee;z=X+1}for(let K=z;K<256;K++)M[K]=M[z-1];return M.join(",")},E=`g_${f(this,$i)}_hcm_${t}_filter`,A=d.filter=_(this,fe,hu).call(this,E);return _(this,fe,Mw).call(this,A),_(this,fe,uf).call(this,b(v[0],w[0],5),b(v[1],w[1],5),b(v[2],w[2],5),A),d.url=_(this,fe,du).call(this,E),d.url}destroy(t=!1){t&&f(this,fe,cu).size!==0||(f(this,ni)&&(f(this,ni).parentNode.parentNode.remove(),T(this,ni,null)),f(this,$l)&&(f(this,$l).clear(),T(this,$l,null)),T(this,Vl,0))}}Bl=new WeakMap,$l=new WeakMap,ni=new WeakMap,$i=new WeakMap,_n=new WeakMap,uy=new WeakMap,Vl=new WeakMap,fe=new WeakSet,kn=function(){return f(this,$l)||T(this,$l,new Map)},cu=function(){return f(this,uy)||T(this,uy,new Map)},uu=function(){if(!f(this,ni)){const t=f(this,_n).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=f(this,_n).createElementNS(_i,"svg");r.setAttribute("width",0),r.setAttribute("height",0),T(this,ni,f(this,_n).createElementNS(_i,"defs")),t.append(r),r.append(f(this,ni)),f(this,_n).body.append(t)}return f(this,ni)},hx=function(t){if(t.length===1){const h=t[0],p=new Array(256);for(let x=0;x<256;x++)p[x]=h[x]/255;const g=p.join(",");return[g,g,g]}const[s,r,o]=t,a=new Array(256),u=new Array(256),d=new Array(256);for(let h=0;h<256;h++)a[h]=s[h]/255,u[h]=r[h]/255,d[h]=o[h]/255;return[a.join(","),u.join(","),d.join(",")]},du=function(t){if(f(this,Bl)===void 0){T(this,Bl,"");const s=f(this,_n).URL;s!==f(this,_n).baseURI&&(Uy(s)?Ue('#createUrl: ignore "data:"-URL for performance reasons.'):T(this,Bl,s.split("#",1)[0]))}return`url(${f(this,Bl)}#${t})`},q2=function(t){const s=f(this,_n).createElementNS(_i,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},Mw=function(t){const s=f(this,_n).createElementNS(_i,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},hu=function(t){const s=f(this,_n).createElementNS(_i,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),f(this,fe,uu).append(s),s},cf=function(t,s,r){const o=f(this,_n).createElementNS(_i,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},uf=function(t,s,r,o){const a=f(this,_n).createElementNS(_i,"feComponentTransfer");o.append(a),_(this,fe,cf).call(this,a,"feFuncR",t),_(this,fe,cf).call(this,a,"feFuncG",s),_(this,fe,cf).call(this,a,"feFuncB",r)},Dw=function(t,s){const r=f(this,_n).createElementNS(_i,"feComponentTransfer");s.append(r),_(this,fe,cf).call(this,r,"feFuncA",t)},df=function(t){return f(this,fe,uu).style.color=t,Z1(getComputedStyle(f(this,fe,uu)).getPropertyValue("color"))};class X2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){vt("Abstract method `_fetch` called.")}}class Y2 extends X2{async _fetch(e){const t=await zy(e,"arraybuffer");return new Uint8Array(t)}}if(On){var Ow=Promise.withResolvers(),jf=null;(async()=>{const e=await Hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Hg(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,a;return new Map(Object.entries({fs:e,http:t,https:s,url:r,canvas:o,path2d:a}))})().then(e=>{jf=e,Ow.resolve()},e=>{Ue(`loadPackages: ${e}`),jf=new Map,Ow.resolve()})}class Ma{static get promise(){return Ow.promise}static get(e){return jf==null?void 0:jf.get(e)}}async function Q2(n){const t=await Ma.get("fs").promises.readFile(n);return new Uint8Array(t)}class mG extends K2{}class gG extends H2{_createCanvas(e,t){return Ma.get("canvas").createCanvas(e,t)}}class xG extends W2{async _fetch(e){return Q2(e)}}class yG extends X2{async _fetch(e){return Q2(e)}}const Hn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Fw(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),n.clip(r)}class tA{getPattern(){vt("Abstract method `getPattern` called.")}}class vG extends tA{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let o;if(r===Hn.STROKE||r===Hn.FILL){const a=t.current.getClippedPathBoundingBox(r,Tt(e))||[0,0,0,0],u=Math.ceil(a[2]-a[0])||1,d=Math.ceil(a[3]-a[1])||1,h=t.cachedCanvases.getCanvas("pattern",u,d),p=h.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-a[0],-a[1]),s=Se.transform(s,[1,0,0,1,a[0],a[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),Fw(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=e.createPattern(h.canvas,"no-repeat");const g=new DOMMatrix(s);o.setTransform(g)}else Fw(e,this._bbox),o=this._createGradient(e);return o}}function xb(n,e,t,s,r,o,a,u){const d=e.coords,h=e.colors,p=n.data,g=n.width*4;let x;d[t+1]>d[s+1]&&(x=t,t=s,s=x,x=o,o=a,a=x),d[s+1]>d[r+1]&&(x=s,s=r,r=x,x=a,a=u,u=x),d[t+1]>d[s+1]&&(x=t,t=s,s=x,x=o,o=a,a=x);const v=(d[t]+e.offsetX)*e.scaleX,w=(d[t+1]+e.offsetY)*e.scaleY,b=(d[s]+e.offsetX)*e.scaleX,E=(d[s+1]+e.offsetY)*e.scaleY,A=(d[r]+e.offsetX)*e.scaleX,j=(d[r+1]+e.offsetY)*e.scaleY;if(w>=j)return;const k=h[o],P=h[o+1],R=h[o+2],M=h[a],D=h[a+1],O=h[a+2],B=h[u],z=h[u+1],K=h[u+2],X=Math.round(w),ee=Math.round(j);let J,ae,Y,G,H,te,ne,V;for(let Z=X;Z<=ee;Z++){if(Z<E){const re=Z<w?0:(w-Z)/(w-E);J=v-(v-b)*re,ae=k-(k-M)*re,Y=P-(P-D)*re,G=R-(R-O)*re}else{let re;Z>j?re=1:E===j?re=0:re=(E-Z)/(E-j),J=b-(b-A)*re,ae=M-(M-B)*re,Y=D-(D-z)*re,G=O-(O-K)*re}let de;Z<w?de=0:Z>j?de=1:de=(w-Z)/(w-j),H=v-(v-A)*de,te=k-(k-B)*de,ne=P-(P-z)*de,V=R-(R-K)*de;const be=Math.round(Math.min(J,H)),Te=Math.round(Math.max(J,H));let ye=g*Z+be*4;for(let re=be;re<=Te;re++)de=(J-re)/(J-H),de<0?de=0:de>1&&(de=1),p[ye++]=ae-(ae-te)*de|0,p[ye++]=Y-(Y-ne)*de|0,p[ye++]=G-(G-V)*de|0,p[ye++]=255}}function bG(n,e,t){const s=e.coords,r=e.colors;let o,a;switch(e.type){case"lattice":const u=e.verticesPerRow,d=Math.floor(s.length/u)-1,h=u-1;for(o=0;o<d;o++){let p=o*u;for(let g=0;g<h;g++,p++)xb(n,t,s[p],s[p+1],s[p+u],r[p],r[p+1],r[p+u]),xb(n,t,s[p+u+1],s[p+1],s[p+u],r[p+u+1],r[p+1],r[p+u])}break;case"triangles":for(o=0,a=s.length;o<a;o+=3)xb(n,t,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class wG extends tA{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),x=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),v=h/g,w=p/x,b={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/v,scaleY:1/w},E=g+2*2,A=x+2*2,j=s.getCanvas("mesh",E,A),k=j.context,P=k.createImageData(g,x);if(t){const M=P.data;for(let D=0,O=M.length;D<O;D+=4)M[D]=t[0],M[D+1]=t[1],M[D+2]=t[2],M[D+3]=255}for(const M of this._figures)bG(P,M,b);return k.putImageData(P,2,2),{canvas:j.canvas,offsetX:u-2*v,offsetY:d-2*w,scaleX:v,scaleY:w}}getPattern(e,t,s,r){Fw(e,this._bbox);let o;if(r===Hn.SHADING)o=Se.singularValueDecompose2dScale(Tt(e));else if(o=Se.singularValueDecompose2dScale(t.baseTransform),this.matrix){const u=Se.singularValueDecompose2dScale(this.matrix);o=[o[0]*u[0],o[1]*u[1]]}const a=this._createMeshCanvas(o,r===Hn.SHADING?null:this._background,t.cachedCanvases);return r!==Hn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class SG extends tA{getPattern(){return"hotpink"}}function AG(n){switch(n[0]){case"RadialAxial":return new vG(n);case"Mesh":return new wG(n);case"Dummy":return new SG}throw new Error(`Unknown IR type: ${n[0]}`)}const kk={COLORED:1,UNCOLORED:2},dy=class dy{constructor(e,t,s,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:r,tilingType:o,color:a,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),By("TilingType: "+o);const p=t[0],g=t[1],x=t[2],v=t[3],w=x-p,b=v-g,E=Se.singularValueDecompose2dScale(this.matrix),A=Se.singularValueDecompose2dScale(this.baseTransform),j=E[0]*A[0],k=E[1]*A[1];let P=w,R=b,M=!1,D=!1;const O=Math.ceil(d*j),B=Math.ceil(h*k),z=Math.ceil(w*j),K=Math.ceil(b*k);O>=z?P=d:M=!0,B>=K?R=h:D=!0;const X=this.getSizeAndScale(P,this.ctx.canvas.width,j),ee=this.getSizeAndScale(R,this.ctx.canvas.height,k),J=e.cachedCanvases.getCanvas("pattern",X.size,ee.size),ae=J.context,Y=u.createCanvasGraphics(ae);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,r,a),ae.translate(-X.scale*p,-ee.scale*g),Y.transform(X.scale,0,0,ee.scale,0,0),ae.save(),this.clipBbox(Y,p,g,x,v),Y.baseTransform=Tt(Y.ctx),Y.executeOperatorList(s),Y.endDrawing(),ae.restore(),M||D){const G=J.canvas;M&&(P=d),D&&(R=h);const H=this.getSizeAndScale(P,this.ctx.canvas.width,j),te=this.getSizeAndScale(R,this.ctx.canvas.height,k),ne=H.size,V=te.size,Z=e.cachedCanvases.getCanvas("pattern-workaround",ne,V),de=Z.context,be=M?Math.floor(w/d):0,Te=D?Math.floor(b/h):0;for(let ye=0;ye<=be;ye++)for(let re=0;re<=Te;re++)de.drawImage(G,ne*ye,V*re,ne,V,0,0,ne,V);return{canvas:Z.canvas,scaleX:H.scale,scaleY:te.scale,offsetX:p,offsetY:g}}return{canvas:J.canvas,scaleX:X.scale,scaleY:ee.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,s){const r=Math.max(dy.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*s);return o>=r?o=r:s=o/e,{scale:s,size:o}}clipBbox(e,t,s,r,o){const a=r-t,u=o-s;e.ctx.rect(t,s,a,u),e.current.updateRectMinMax(Tt(e.ctx),[t,s,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,o=e.current;switch(t){case kk.COLORED:const a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case kk.UNCOLORED:const u=Se.makeHexColor(s[0],s[1],s[2]);r.fillStyle=u,r.strokeStyle=u,o.fillColor=u,o.strokeColor=u;break;default:throw new q8(`Unsupported paint type: ${t}`)}}getPattern(e,t,s,r){let o=s;r!==Hn.SHADING&&(o=Se.transform(o,t.baseTransform),this.matrix&&(o=Se.transform(o,this.matrix)));const a=this.createPatternCanvas(t);let u=new DOMMatrix(o);u=u.translate(a.offsetX,a.offsetY),u=u.scale(1/a.scaleX,1/a.scaleY);const d=e.createPattern(a.canvas,"repeat");return d.setTransform(u),d}};Le(dy,"MAX_PATTERN_SIZE",3e3);let Bw=dy;function CG({src:n,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:a=!1}){const u=Wn.isLittleEndian?4278190080:255,[d,h]=a?[o,u]:[u,o],p=s>>3,g=s&7,x=n.length;t=new Uint32Array(t.buffer);let v=0;for(let w=0;w<r;w++){for(const E=e+p;e<E;e++){const A=e<x?n[e]:255;t[v++]=A&128?h:d,t[v++]=A&64?h:d,t[v++]=A&32?h:d,t[v++]=A&16?h:d,t[v++]=A&8?h:d,t[v++]=A&4?h:d,t[v++]=A&2?h:d,t[v++]=A&1?h:d}if(g===0)continue;const b=e<x?n[e++]:255;for(let E=0;E<g;E++)t[v++]=b&1<<7-E?h:d}return{srcPos:e,destPos:v}}const Tk=16,Pk=100,EG=15,_k=10,Rk=1e3,as=16;function jG(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(s,r){e.translate(s,r),this.__originalTranslate(s,r)},n.scale=function(s,r){e.scale(s,r),this.__originalScale(s,r)},n.transform=function(s,r,o,a,u,d){e.transform(s,r,o,a,u,d),this.__originalTransform(s,r,o,a,u,d)},n.setTransform=function(s,r,o,a,u,d){e.setTransform(s,r,o,a,u,d),this.__originalSetTransform(s,r,o,a,u,d)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(s){e.rotate(s),this.__originalRotate(s)},n.clip=function(s){e.clip(s),this.__originalClip(s)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,r,o,a,u){e.bezierCurveTo(t,s,r,o,a,u),this.__originalBezierCurveTo(t,s,r,o,a,u)},n.rect=function(t,s,r,o){e.rect(t,s,r,o),this.__originalRect(t,s,r,o)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class NG{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Wg(n,e,t,s,r,o,a,u,d,h){const[p,g,x,v,w,b]=Tt(n);if(g===0&&x===0){const j=a*p+w,k=Math.round(j),P=u*v+b,R=Math.round(P),M=(a+d)*p+w,D=Math.abs(Math.round(M)-k)||1,O=(u+h)*v+b,B=Math.abs(Math.round(O)-R)||1;return n.setTransform(Math.sign(p),0,0,Math.sign(v),k,R),n.drawImage(e,t,s,r,o,0,0,D,B),n.setTransform(p,g,x,v,w,b),[D,B]}if(p===0&&v===0){const j=u*x+w,k=Math.round(j),P=a*g+b,R=Math.round(P),M=(u+h)*x+w,D=Math.abs(Math.round(M)-k)||1,O=(a+d)*g+b,B=Math.abs(Math.round(O)-R)||1;return n.setTransform(0,Math.sign(g),Math.sign(x),0,k,R),n.drawImage(e,t,s,r,o,0,0,B,D),n.setTransform(p,g,x,v,w,b),[B,D]}n.drawImage(e,t,s,r,o,a,u,d,h);const E=Math.hypot(p,g),A=Math.hypot(x,v);return[E*d,A*h]}function kG(n){const{width:e,height:t}=n;if(e>Rk||t>Rk)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let a=new Uint8Array(o*(t+1)),u,d,h;const p=e+7&-8;let g=new Uint8Array(p*t),x=0;for(const A of n.data){let j=128;for(;j>0;)g[x++]=A&j?0:255,j>>=1}let v=0;for(x=0,g[x]!==0&&(a[0]=1,++v),d=1;d<e;d++)g[x]!==g[x+1]&&(a[d]=g[x]?2:1,++v),x++;for(g[x]!==0&&(a[d]=2,++v),u=1;u<t;u++){x=u*p,h=u*o,g[x-p]!==g[x]&&(a[h]=g[x]?1:8,++v);let A=(g[x]?4:0)+(g[x-p]?8:0);for(d=1;d<e;d++)A=(A>>2)+(g[x+1]?4:0)+(g[x-p+1]?8:0),r[A]&&(a[h+d]=r[A],++v),x++;if(g[x-p]!==g[x]&&(a[h+d]=g[x]?2:4,++v),v>s)return null}for(x=p*(t-1),h=u*o,g[x]!==0&&(a[h]=8,++v),d=1;d<e;d++)g[x]!==g[x+1]&&(a[h+d]=g[x]?4:8,++v),x++;if(g[x]!==0&&(a[h+d]=4,++v),v>s)return null;const w=new Int32Array([0,o,-1,0,-o,0,0,0,1]),b=new Path2D;for(u=0;v&&u<=t;u++){let A=u*o;const j=A+e;for(;A<j&&!a[A];)A++;if(A===j)continue;b.moveTo(A%o,u);const k=A;let P=a[A];do{const R=w[P];do A+=R;while(!a[A]);const M=a[A];M!==5&&M!==10?(P=M,a[A]=0):(P=M&51*P>>4,a[A]&=P>>2|P<<2),b.lineTo(A%o,A/o|0),a[A]||--v}while(k!==A);--u}return g=null,a=null,function(A){A.save(),A.scale(1/e,-1/t),A.translate(0,-t),A.fill(b),A.beginPath(),A.restore()}}class Lk{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p2,this.textMatrixScale=1,this.fontMatrix=dw,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Nn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=Se.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=Se.applyTransform(t,e),r=Se.applyTransform(t.slice(2),e),o=Se.applyTransform([t[0],t[3]],e),a=Se.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,s[0],r[0],o[0],a[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],a[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],a[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],a[1])}updateScalingPathMinMax(e,t){Se.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,r,o,a,u,d,h,p){const g=Se.bezierBoundingBox(t,s,r,o,a,u,d,h,p);p||this.updateRectMinMax(e,g)}getPathBoundingBox(e=Hn.FILL,t=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===Hn.STROKE){t||vt("Stroke bounding box must include transform.");const r=Se.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=a,s[2]+=o,s[3]+=a}return s}updateClipFromPath(){const e=Se.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Hn.FILL,t=null){return Se.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Ik(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%as,o=(t-r)/as,a=r===0?o:o+1,u=n.createImageData(s,as);let d=0,h;const p=e.data,g=u.data;let x,v,w,b;if(e.kind===ix.GRAYSCALE_1BPP){const E=p.byteLength,A=new Uint32Array(g.buffer,0,g.byteLength>>2),j=A.length,k=s+7>>3,P=4294967295,R=Wn.isLittleEndian?4278190080:255;for(x=0;x<a;x++){for(w=x<o?as:r,h=0,v=0;v<w;v++){const M=E-d;let D=0;const O=M>k?s:M*8-7,B=O&-8;let z=0,K=0;for(;D<B;D+=8)K=p[d++],A[h++]=K&128?P:R,A[h++]=K&64?P:R,A[h++]=K&32?P:R,A[h++]=K&16?P:R,A[h++]=K&8?P:R,A[h++]=K&4?P:R,A[h++]=K&2?P:R,A[h++]=K&1?P:R;for(;D<O;D++)z===0&&(K=p[d++],z=128),A[h++]=K&z?P:R,z>>=1}for(;h<j;)A[h++]=0;n.putImageData(u,0,x*as)}}else if(e.kind===ix.RGBA_32BPP){for(v=0,b=s*as*4,x=0;x<o;x++)g.set(p.subarray(d,d+b)),d+=b,n.putImageData(u,0,v),v+=as;x<a&&(b=s*r*4,g.set(p.subarray(d,d+b)),n.putImageData(u,0,v))}else if(e.kind===ix.RGB_24BPP)for(w=as,b=s*w,x=0;x<a;x++){for(x>=o&&(w=r,b=s*w),h=0,v=b;v--;)g[h++]=p[d++],g[h++]=p[d++],g[h++]=p[d++],g[h++]=255;n.putImageData(u,0,x*as)}else throw new Error(`bad image kind: ${e.kind}`)}function Mk(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%as,o=(t-r)/as,a=r===0?o:o+1,u=n.createImageData(s,as);let d=0;const h=e.data,p=u.data;for(let g=0;g<a;g++){const x=g<o?as:r;({srcPos:d}=CG({src:h,srcPos:d,dest:p,width:s,height:x,nonBlackColor:0})),n.putImageData(u,0,g*as)}}function Qh(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Gg(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!On){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Dk(n,e){if(e)return!0;const t=Se.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Ia.PDF_TO_CSS_UNITS);return t[0]<=s&&t[1]<=s}const TG=["butt","round","square"],PG=["miter","round","bevel"],_G={},Ok={};var Oa,$w,Vw;const cA=class cA{constructor(e,t,s,r,o,{optionalContentConfig:a,markedContentStack:u=null},d,h){I(this,Oa);this.ctx=e,this.current=new Lk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=a,this.cachedCanvases=new NG(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,a=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,a),this.ctx.fillStyle=u,s){const d=this.cachedCanvases.getCanvas("transparent",o,a);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Tt(this.compositeCtx))}this.ctx.save(),Gg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Tt(this.ctx)}executeOperatorList(e,t,s,r){const o=e.argsArray,a=e.fnArray;let u=t||0;const d=o.length;if(d===u)return u;const h=d-u>_k&&typeof s=="function",p=h?Date.now()+EG:0;let g=0;const x=this.commonObjs,v=this.objs;let w;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,s),u;if(w=a[u],w!==hr.dependency)this[w].apply(this,o[u]);else for(const b of o[u]){const E=b.startsWith("g_")?x:v;if(!E.has(b))return E.get(b,s),u}if(u++,u===d)return u;if(h&&++g>_k){if(Date.now()>p)return s(),u;g=0}}}endDrawing(){_(this,Oa,$w).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,Oa,Vw).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),u=s,d=r,h="prescale1",p,g;for(;o>2&&u>1||a>2&&d>1;){let x=u,v=d;o>2&&u>1&&(x=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/x),a>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,a/=d/v),p=this.cachedCanvases.getCanvas(h,x,v),g=p.context,g.clearRect(0,0,x,v),g.drawImage(e,0,0,u,d,0,0,x,v),e=p.canvas,u=x,d=v,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:r}=e,o=this.current.fillColor,a=this.current.patternFill,u=Tt(t);let d,h,p,g;if((e.bitmap||e.data)&&e.count>1){const O=e.bitmap||e.data.buffer;h=JSON.stringify(a?u:[u.slice(0,4),o]),d=this._cachedBitmapsMap.get(O),d||(d=new Map,this._cachedBitmapsMap.set(O,d));const B=d.get(h);if(B&&!a){const z=Math.round(Math.min(u[0],u[2])+u[4]),K=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:B,offsetX:z,offsetY:K}}p=B}p||(g=this.cachedCanvases.getCanvas("maskCanvas",s,r),Mk(g.context,e));let x=Se.transform(u,[1/s,0,0,-1/r,0,0]);x=Se.transform(x,[1,0,0,1,0,-r]);const[v,w,b,E]=Se.getAxialAlignedBoundingBox([0,0,s,r],x),A=Math.round(b-v)||1,j=Math.round(E-w)||1,k=this.cachedCanvases.getCanvas("fillCanvas",A,j),P=k.context,R=v,M=w;P.translate(-R,-M),P.transform(...x),p||(p=this._scaleImage(g.canvas,Ti(P)),p=p.img,d&&a&&d.set(h,p)),P.imageSmoothingEnabled=Dk(Tt(P),e.interpolate),Wg(P,p,0,0,p.width,p.height,0,0,s,r),P.globalCompositeOperation="source-in";const D=Se.transform(Ti(P),[1,0,0,1,-R,-M]);return P.fillStyle=a?o.getPattern(t,this,D,Hn.FILL):o,P.fillRect(0,0,s,r),d&&!a&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,k.canvas)),{canvas:k.canvas,offsetX:Math.round(R),offsetY:Math.round(M)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=TG[e]}setLineJoin(e){this.ctx.lineJoin=PG[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...Tt(this.suspendedCtx)),Qh(this.suspendedCtx,o),jG(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Qh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const o=r[0],a=r[1],u=r[2]-o,d=r[3]-a;u===0||d===0||(this.genericComposeSMask(t.context,s,u,d,t.subtype,t.backdrop,t.transferMap,o,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,o,a,u,d,h,p,g){let x=e.canvas,v=d-p,w=h-g;if(a){const E=Se.makeHexColor(...a);if(v<0||w<0||v+s>x.width||w+r>x.height){const A=this.cachedCanvases.getCanvas("maskExtension",s,r),j=A.context;j.drawImage(x,-v,-w),j.globalCompositeOperation="destination-atop",j.fillStyle=E,j.fillRect(0,0,s,r),j.globalCompositeOperation="source-over",x=A.canvas,v=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(v,w,s,r),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=E,e.fillRect(v,w,s,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const b=new Path2D;b.rect(d,h,s,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(x,v,w,s,r,d,h,s,r),t.restore()}save(){this.inSMaskMode?(Qh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Qh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,r,o,a){this.ctx.transform(e,t,s,r,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const r=this.ctx,o=this.current;let a=o.x,u=o.y,d,h;const p=Tt(r),g=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,x=g?s.slice(0):null;for(let v=0,w=0,b=e.length;v<b;v++)switch(e[v]|0){case hr.rectangle:a=t[w++],u=t[w++];const E=t[w++],A=t[w++],j=a+E,k=u+A;r.moveTo(a,u),E===0||A===0?r.lineTo(j,k):(r.lineTo(j,u),r.lineTo(j,k),r.lineTo(a,k)),g||o.updateRectMinMax(p,[a,u,j,k]),r.closePath();break;case hr.moveTo:a=t[w++],u=t[w++],r.moveTo(a,u),g||o.updatePathMinMax(p,a,u);break;case hr.lineTo:a=t[w++],u=t[w++],r.lineTo(a,u),g||o.updatePathMinMax(p,a,u);break;case hr.curveTo:d=a,h=u,a=t[w+4],u=t[w+5],r.bezierCurveTo(t[w],t[w+1],t[w+2],t[w+3],a,u),o.updateCurvePathMinMax(p,d,h,t[w],t[w+1],t[w+2],t[w+3],a,u,x),w+=6;break;case hr.curveTo2:d=a,h=u,r.bezierCurveTo(a,u,t[w],t[w+1],t[w+2],t[w+3]),o.updateCurvePathMinMax(p,d,h,a,u,t[w],t[w+1],t[w+2],t[w+3],x),a=t[w+2],u=t[w+3],w+=4;break;case hr.curveTo3:d=a,h=u,a=t[w+2],u=t[w+3],r.bezierCurveTo(t[w],t[w+1],a,u,a,u),o.updateCurvePathMinMax(p,d,h,t[w],t[w+1],a,u,a,u,x),w+=4;break;case hr.closePath:r.closePath();break}g&&o.updateScalingPathMinMax(p,x),o.setCurrentPoint(a,u)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(t.save(),t.strokeStyle=s.getPattern(t,this,Ti(t),Hn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(t.save(),t.fillStyle=s.getPattern(t,this,Ti(t),Hn.FILL),o=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_G}eoClip(){this.pendingClip=Ok}beginText(){this.current.textMatrix=p2,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var p;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||dw,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ue("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const o=s.loadedName||"sans-serif",a=((p=s.systemFontInfo)==null?void 0:p.css)||`"${o}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let h=t;t<Tk?h=Tk:t>Pk&&(h=Pk),this.current.fontSizeScale=t/h,this.ctx.font=`${d} ${u} ${h}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,r,o,a){this.current.textMatrix=[e,t,s,r,o,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,r){const o=this.ctx,a=this.current,u=a.font,d=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,p=d&Nn.FILL_STROKE_MASK,g=!!(d&Nn.ADD_TO_PATH_FLAG),x=a.patternFill&&!u.missingFile;let v;(u.disableFontFace||g||x)&&(v=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||x?(o.save(),o.translate(t,s),o.beginPath(),v(o,h),r&&o.setTransform(...r),(p===Nn.FILL||p===Nn.FILL_STROKE)&&o.fill(),(p===Nn.STROKE||p===Nn.FILL_STROKE)&&o.stroke(),o.restore()):((p===Nn.FILL||p===Nn.FILL_STROKE)&&o.fillText(e,t,s),(p===Nn.STROKE||p===Nn.FILL_STROKE)&&o.strokeText(e,t,s)),g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Tt(o),x:t,y:s,fontSize:h,addToPath:v})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return Ye(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,a=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,h=t.fontDirection,p=t.textHScale*h,g=e.length,x=s.vertical,v=x?1:-1,w=s.defaultVMetrics,b=r*t.fontMatrix[0],E=t.textRenderingMode===Nn.FILL&&!s.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),h>0?o.scale(p,-1):o.scale(p,1);let A;if(t.patternFill){o.save();const M=t.fillColor.getPattern(o,this,Ti(o),Hn.FILL);A=Tt(o),o.restore(),o.fillStyle=M}let j=t.lineWidth;const k=t.textMatrixScale;if(k===0||j===0){const M=t.textRenderingMode&Nn.FILL_STROKE_MASK;(M===Nn.STROKE||M===Nn.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=k;if(a!==1&&(o.scale(a,a),j/=a),o.lineWidth=j,s.isInvalidPDFjsFont){const M=[];let D=0;for(const O of e)M.push(O.unicode),D+=O.width;o.fillText(M.join(""),0,0),t.x+=D*b*p,o.restore(),this.compose();return}let P=0,R;for(R=0;R<g;++R){const M=e[R];if(typeof M=="number"){P+=v*M*r/1e3;continue}let D=!1;const O=(M.isSpace?d:0)+u,B=M.fontChar,z=M.accent;let K,X,ee=M.width;if(x){const ae=M.vmetric||w,Y=-(M.vmetric?ae[1]:ee*.5)*b,G=ae[2]*b;ee=ae?-ae[0]:ee,K=Y/a,X=(P+G)/a}else K=P/a,X=0;if(s.remeasure&&ee>0){const ae=o.measureText(B).width*1e3/r*a;if(ee<ae&&this.isFontSubpixelAAEnabled){const Y=ee/ae;D=!0,o.save(),o.scale(Y,1),K/=Y}else ee!==ae&&(K+=(ee-ae)/2e3*r/a)}if(this.contentVisible&&(M.isInFont||s.missingFile)){if(E&&!z)o.fillText(B,K,X);else if(this.paintChar(B,K,X,A),z){const ae=K+r*z.offset.x/a,Y=X-r*z.offset.y/a;this.paintChar(z.fontChar,ae,Y,A)}}const J=x?ee*b-O*h:ee*b+O*h;P+=J,D&&o.restore()}x?t.y-=P:t.x+=P*p,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,r=s.font,o=s.fontSize,a=s.fontDirection,u=r.vertical?1:-1,d=s.charSpacing,h=s.wordSpacing,p=s.textHScale*a,g=s.fontMatrix||dw,x=e.length,v=s.textRenderingMode===Nn.INVISIBLE;let w,b,E,A;if(!(v||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(p,a),w=0;w<x;++w){if(b=e[w],typeof b=="number"){A=u*b*o/1e3,this.ctx.translate(A,0),s.x+=A*p;continue}const j=(b.isSpace?h:0)+d,k=r.charProcOperatorList[b.operatorListId];if(!k){Ue(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),t.scale(o,o),t.transform(...g),this.executeOperatorList(k),this.restore()),E=Se.applyTransform([b.width,0],g)[0]*o+j,t.translate(E,0),s.x+=E*p}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,r,o,a){this.ctx.rect(s,r,o-s,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=e[1],r=this.baseTransform||Tt(this.ctx),o={createCanvasGraphics:a=>new cA(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Bw(e,s,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){this.ctx.strokeStyle=this.current.strokeColor=Se.makeHexColor(e,t,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,s){this.ctx.fillStyle=this.current.fillColor=Se.makeHexColor(e,t,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=AG(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,Ti(t),Hn.SHADING);const r=Ti(t);if(r){const{width:o,height:a}=t.canvas,[u,d,h,p]=Se.getAxialAlignedBoundingBox([0,0,o,a],r);this.ctx.fillRect(u,d,h-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){vt("Should not call beginInlineImage")}beginImageData(){vt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Tt(this.ctx),t)){const s=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],s,r),this.current.updateRectMinMax(Tt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||By("TODO: Support non-isolated groups."),e.knockout&&Ue("Knockout groups not supported.");const s=Tt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Se.getAxialAlignedBoundingBox(e.bbox,Tt(t));const o=[0,0,t.canvas.width,t.canvas.height];r=Se.intersect(r,o)||[0,0,0,0];const a=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-a,1),h=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,h]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,d,h),x=g.context;x.translate(-a,-u),x.transform(...s),e.smask?this.smaskStack.push({canvas:g.canvas,context:x,offsetX:a,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,u),t.save()),Qh(t,x),this.ctx=x,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Tt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=Se.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,s,r,o){if(_(this,Oa,$w).call(this),Gg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=u;const[d,h]=Se.singularValueDecompose2dScale(Tt(this.ctx)),{viewportScale:p}=this,g=Math.ceil(a*this.outputScaleX*p),x=Math.ceil(u*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(g,x);const{canvas:v,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(d,0,0,-h,0,u*h),Gg(this.ctx)}else Gg(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,u),this.ctx.clip(),this.ctx.beginPath()}this.current=new Lk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,Oa,Vw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=kG(e)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(e),a=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,r=0,o,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const d=Tt(u);u.transform(t,s,r,o,0,0);const h=this._createMaskCanvas(e);u.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]);for(let p=0,g=a.length;p<g;p+=2){const x=Se.transform(d,[t,s,r,o,a[p],a[p+1]]),[v,w]=Se.applyTransform([0,0],x);u.drawImage(h.canvas,v,w)}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:a,width:u,height:d,transform:h}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),g=p.context;g.save();const x=this.getObject(a,o);Mk(g,x),g.globalCompositeOperation="source-in",g.fillStyle=r?s.getPattern(g,this,Ti(t),Hn.FILL):s,g.fillRect(0,0,u,d),g.restore(),t.save(),t.transform(...h),t.scale(1,-1),Wg(t,p.canvas,0,0,u,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ue("Dependent image isn't ready yet");return}const a=o.width,u=o.height,d=[];for(let h=0,p=r.length;h<p;h+=2)d.push({transform:[t,0,0,s,r[h],r[h+1]],x:0,y:0,w:a,h:u});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",s,r),a=o.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,r=this.ctx;if(this.save(),!On){const{filter:u}=r;u!=="none"&&u!==""&&(r.filter="none")}r.scale(1/t,-1/s);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",t,s).context;Ik(d,e),o=this.applyTransferMapsToCanvas(d)}const a=this._scaleImage(o,Ti(r));r.imageSmoothingEnabled=Dk(Tt(r),e.interpolate),Wg(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,a=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,a).context;Ik(d,e),r=this.applyTransferMapsToCanvas(d)}for(const o of t)s.save(),s.transform(...o.transform),s.scale(1,-1),Wg(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===Ok?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Tt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:o}=this.ctx.getTransform();let a,u;if(s===0&&r===0){const d=Math.abs(t),h=Math.abs(o);if(d===h)if(e===0)a=u=1/d;else{const p=d*e;a=u=p<1?1/p:1}else if(e===0)a=1/d,u=1/h;else{const p=d*e,g=h*e;a=p<1?1/p:1,u=g<1?1/g:1}}else{const d=Math.abs(t*o-s*r),h=Math.hypot(t,s),p=Math.hypot(r,o);if(e===0)a=p/d,u=h/d;else{const g=e*d;a=p>g?p/g:1,u=h>g?h/g:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(t.lineWidth=s||1,r===1&&o===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(r,o),a.length>0){const u=Math.max(r,o);t.setLineDash(a.map(d=>d/u)),t.lineDashOffset/=u}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Oa=new WeakSet,$w=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Nu=cA;for(const n in hr)Nu.prototype[n]!==void 0&&(Nu.prototype[hr[n]]=Nu.prototype[n]);var hp,fp;class io{static get workerPort(){return f(this,hp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");T(this,hp,e)}static get workerSrc(){return f(this,fp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");T(this,fp,e)}}hp=new WeakMap,fp=new WeakMap,I(io,hp,null),I(io,fp,"");const Kg={DATA:1,ERROR:2},Ut={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function gs(n){switch(n instanceof Error||typeof n=="object"&&n!==null||vt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Lc(n.message);case"MissingPDFException":return new Rc(n.message);case"PasswordException":return new hw(n.message,n.code);case"UnexpectedResponseException":return new $y(n.message,n.status);case"UnknownErrorException":return new fw(n.message,n.details);default:return new fw(n.message,n.toString())}}var rd,Qs,J2,Z2,eL,fx;class hf{constructor(e,t,s){I(this,Qs);I(this,rd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",_(this,Qs,J2).bind(this),{signal:f(this,rd).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(a){o.reject(a)}return o.promise}sendWithStream(e,t,s,r){const o=this.streamId++,a=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:h=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:h,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:a,targetName:u,action:e,streamId:o,data:t,desiredSize:h.desiredSize},r),p.promise},pull:h=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:a,targetName:u,stream:Ut.PULL,streamId:o,desiredSize:h.desiredSize}),p.promise},cancel:h=>{Zt(h instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:a,targetName:u,stream:Ut.CANCEL,streamId:o,reason:gs(h)}),p.promise}},s)}destroy(){var e;(e=f(this,rd))==null||e.abort(),T(this,rd,null)}}rd=new WeakMap,Qs=new WeakSet,J2=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){_(this,Qs,eL).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Kg.DATA)r.resolve(e.data);else if(e.callback===Kg.ERROR)r.reject(gs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,o=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){o.postMessage({sourceName:s,targetName:r,callback:Kg.DATA,callbackId:e.callbackId,data:a})},function(a){o.postMessage({sourceName:s,targetName:r,callback:Kg.ERROR,callbackId:e.callbackId,reason:gs(a)})});return}if(e.streamId){_(this,Qs,Z2).call(this,e);return}t(e.data)},Z2=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,a=this,u=this.actionHandler[e.action],d={enqueue(h,p=1,g){if(this.isCancelled)return;const x=this.desiredSize;this.desiredSize-=p,x>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:Ut.ENQUEUE,streamId:t,chunk:h},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Ut.CLOSE,streamId:t}),delete a.streamSinks[t])},error(h){Zt(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Ut.ERROR,streamId:t,reason:gs(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise(function(h){h(u(e.data,d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ut.START_COMPLETE,streamId:t,success:!0})},function(h){o.postMessage({sourceName:s,targetName:r,stream:Ut.START_COMPLETE,streamId:t,reason:gs(h)})})},eL=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,a=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case Ut.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(gs(e.reason));break;case Ut.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(gs(e.reason));break;case Ut.PULL:if(!u){o.postMessage({sourceName:s,targetName:r,stream:Ut.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,new Promise(function(d){var h;d((h=u.onPull)==null?void 0:h.call(u))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ut.PULL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:s,targetName:r,stream:Ut.PULL_COMPLETE,streamId:t,reason:gs(d)})});break;case Ut.ENQUEUE:if(Zt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Ut.CLOSE:if(Zt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),_(this,Qs,fx).call(this,a,t);break;case Ut.ERROR:Zt(a,"error should have stream controller"),a.controller.error(gs(e.reason)),_(this,Qs,fx).call(this,a,t);break;case Ut.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(gs(e.reason)),_(this,Qs,fx).call(this,a,t);break;case Ut.CANCEL:if(!u)break;new Promise(function(d){var h;d((h=u.onCancel)==null?void 0:h.call(u,gs(e.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Ut.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:s,targetName:r,stream:Ut.CANCEL_COMPLETE,streamId:t,reason:gs(d)})}),u.sinkCapability.reject(gs(e.reason)),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},fx=async function(e,t){var s,r,o;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var zl,pp;class RG{constructor({parsedData:e,rawData:t}){I(this,zl);I(this,pp);T(this,zl,e),T(this,pp,t)}getRaw(){return f(this,pp)}get(e){return f(this,zl).get(e)??null}getAll(){return q1(f(this,zl))}has(e){return f(this,zl).has(e)}}zl=new WeakMap,pp=new WeakMap;const fu=Symbol("INTERNAL");var mp,gp,xp,id;class LG{constructor(e,{name:t,intent:s,usage:r,rbGroups:o}){I(this,mp,!1);I(this,gp,!1);I(this,xp,!1);I(this,id,!0);T(this,mp,!!(e&Es.DISPLAY)),T(this,gp,!!(e&Es.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(f(this,xp))return f(this,id);if(!f(this,id))return!1;const{print:e,view:t}=this.usage;return f(this,mp)?(t==null?void 0:t.viewState)!=="OFF":f(this,gp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==fu&&vt("Internal method `_setVisible` called."),T(this,xp,s),T(this,id,t)}}mp=new WeakMap,gp=new WeakMap,xp=new WeakMap,id=new WeakMap;var da,rt,od,ad,yp,zw;class IG{constructor(e,t=Es.DISPLAY){I(this,yp);I(this,da,null);I(this,rt,new Map);I(this,od,null);I(this,ad,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,T(this,ad,e.order);for(const s of e.groups)f(this,rt).set(s.id,new LG(t,s));if(e.baseState==="OFF")for(const s of f(this,rt).values())s._setVisible(fu,!1);for(const s of e.on)f(this,rt).get(s)._setVisible(fu,!0);for(const s of e.off)f(this,rt).get(s)._setVisible(fu,!1);T(this,od,this.getHash())}}isVisible(e){if(f(this,rt).size===0)return!0;if(!e)return By("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,rt).has(e.id)?f(this,rt).get(e.id).visible:(Ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,yp,zw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,rt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(f(this,rt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,rt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!f(this,rt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,rt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!f(this,rt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,rt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(f(this,rt).get(t).visible)return!1}return!0}return Ue(`Unknown optional content policy ${e.policy}.`),!0}return Ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var o;const r=f(this,rt).get(e);if(!r){Ue(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const u of a)u!==e&&((o=f(this,rt).get(u))==null||o._setVisible(fu,!1,!0));r._setVisible(fu,!!t,!0),T(this,da,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=f(this,rt).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}T(this,da,null)}get hasInitialVisibility(){return f(this,od)===null||this.getHash()===f(this,od)}getOrder(){return f(this,rt).size?f(this,ad)?f(this,ad).slice():[...f(this,rt).keys()]:null}getGroups(){return f(this,rt).size>0?q1(f(this,rt)):null}getGroup(e){return f(this,rt).get(e)||null}getHash(){if(f(this,da)!==null)return f(this,da);const e=new V2;for(const[t,s]of f(this,rt))e.update(`${t}:${s.visible}`);return T(this,da,e.hexdigest())}}da=new WeakMap,rt=new WeakMap,od=new WeakMap,ad=new WeakMap,yp=new WeakSet,zw=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const o=e[r];let a;if(Array.isArray(o))a=_(this,yp,zw).call(this,o);else if(f(this,rt).has(o))a=f(this,rt).get(o).visible;else return Ue(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return s==="And"};class MG{constructor(e,{disableRange:t=!1,disableStream:s=!1}){Zt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:a,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=u,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,h)=>{this._onReceiveData({begin:d,chunk:h})}),e.addProgressListener((d,h)=>{this._onProgress({loaded:d,total:h})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(s),!0)});Zt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,o;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Zt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new DG(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new OG(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class DG{constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=Q1(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class OG{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function FG(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let p=u(t);return p=unescape(p),p=d(p),p=h(p),o(p)}if(t=a(n),t){const p=h(t);return o(p)}if(t=s("filename","i").exec(n),t){t=t[1];let p=u(t);return p=h(p),o(p)}function s(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const x=new TextDecoder(p,{fatal:!0}),v=Vy(g);g=x.decode(v),e=!1}catch{}}return g}function o(p){return e&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),e&&(p=r("iso-8859-1",p))),p}function a(p){const g=[];let x;const v=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(x=v.exec(p))!==null;){let[,b,E,A]=x;if(b=parseInt(b,10),b in g){if(b===0)break;continue}g[b]=[E,A]}const w=[];for(let b=0;b<g.length&&b in g;++b){let[E,A]=g[b];A=u(A),E&&(A=unescape(A),b===0&&(A=d(A))),w.push(A)}return w.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let x=0;x<g.length;++x){const v=g[x].indexOf('"');v!==-1&&(g[x]=g[x].slice(0,v),g.length=x+1),g[x]=g[x].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const x=p.slice(0,g),w=p.slice(g+1).replace(/^[^']*'/,"");return r(x,w)}function h(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,x,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),r(x,w);try{w=atob(w)}catch{}return r(x,w)})}return""}function nA(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function sA({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(n.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function rA(n){const e=n.get("Content-Disposition");if(e){let t=FG(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Q1(t))return t}return null}function Hy(n,e){return n===404||n===0&&e.startsWith("file:")?new Rc('Missing PDF "'+e+'".'):new $y(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function tL(n){return n===200||n===206}function nL(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function sL(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ue(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Fk{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=nA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Zt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new BG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new $G(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class BG{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,nL(s,this._withCredentials,this._abortController)).then(o=>{if(!tL(o.status))throw Hy(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const a=o.headers,{allowRangeRequests:u,suggestedLength:d}=sA({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=rA(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Lc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:sL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class $G{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${s-1}`);const a=r.url;fetch(a,nL(o,this._withCredentials,this._abortController)).then(u=>{if(!tL(u.status))throw Hy(u.status,a);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:sL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const yb=200,vb=206;function VG(n){const e=n.response;return typeof e!="string"?e:Vy(e).buffer}class zG{constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=nA(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const r={begin:e,end:t};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,a]of this.headers)t.setRequestHeader(o,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=vb):r.expectedStatus=yb,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){var d,h,p;const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(d=s.onError)==null||d.call(s,r.status);return}const o=r.status||yb;if(!(o===yb&&s.expectedStatus===vb)&&o!==s.expectedStatus){(h=s.onError)==null||h.call(s,r.status);return}const u=VG(r);if(o===vb){const g=r.getResponseHeader("Content-Range"),x=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);s.onDone({begin:parseInt(x[1],10),chunk:u})}else u?s.onDone({begin:0,chunk:u}):(p=s.onError)==null||p.call(s,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class UG{constructor(e){this._source=e,this._manager=new zG(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Zt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new HG(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new WG(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class HG{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[u,...d]=a.split(": ");return[u,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=sA({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=rA(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Hy(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class WG{constructor(e,t,s){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Hy(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const GG=/^[a-z][a-z0-9\-+.]+:/i;function KG(n){if(GG.test(n))return new URL(n);const e=Ma.get("url");return new URL(e.pathToFileURL(n))}function rL(n,e,t){return n.protocol==="http:"?Ma.get("http").request(n,{headers:e},t):Ma.get("https").request(n,{headers:e},t)}class qG{constructor(e){this.source=e,this.url=KG(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=nA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Zt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new QG(this):new XG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new JG(this,e,t):new YG(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class iL{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Lc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oL{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class XG extends iL{constructor(e){super(e);const t=Object.fromEntries(e.headers),s=r=>{if(r.statusCode===404){const d=new Rc(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:u}=sA({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=u||this._contentLength,this._filename=rA(o)};this._request=rL(this._url,t,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class YG extends oL{constructor(e,t,s){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${s-1}`;const o=a=>{if(a.statusCode===404){const u=new Rc(`Missing PDF "${this._url}".`);this._storedError=u;return}this._setReadableStream(a)};this._request=rL(this._url,r,o),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class QG extends iL{constructor(e){super(e);const t=Ma.get("fs");t.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Rc(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class JG extends oL{constructor(e,t,s){super(e);const r=Ma.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:s-1}))}}const ZG=1e5,ts=30,e7=.8;var cT,ha,is,vp,bp,Ul,Vi,wp,Sp,Hl,ld,cd,fa,ud,Ap,dd,Wl,Cp,Ep,It,Gl,Kl,jp,pa,hd,xo,aL,lL,Hw,_s,px,Ww,cL,uL;let Uw=(It=class{constructor({textContentSource:e,container:t,viewport:s}){I(this,xo);I(this,ha,Promise.withResolvers());I(this,is,null);I(this,vp,!1);I(this,bp,!!((cT=globalThis.FontInspector)!=null&&cT.enabled));I(this,Ul,null);I(this,Vi,null);I(this,wp,0);I(this,Sp,0);I(this,Hl,null);I(this,ld,null);I(this,cd,0);I(this,fa,0);I(this,ud,Object.create(null));I(this,Ap,[]);I(this,dd,null);I(this,Wl,[]);I(this,Cp,new WeakMap);I(this,Ep,null);var d;if(e instanceof ReadableStream)T(this,dd,e);else if(typeof e=="object")T(this,dd,new ReadableStream({start(h){h.enqueue(e),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');T(this,is,T(this,ld,t)),T(this,fa,s.scale*(globalThis.devicePixelRatio||1)),T(this,cd,s.rotation),T(this,Vi,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:a,pageY:u}=s.rawDims;T(this,Ep,[1,0,0,-1,-a,u+o]),T(this,Sp,r),T(this,wp,o),_(d=It,_s,cL).call(d),Ec(t,s),f(this,ha).promise.finally(()=>{f(It,hd).delete(this),T(this,Vi,null),T(this,ud,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Wn.platform;return Ye(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,Hl).read().then(({value:t,done:s})=>{if(s){f(this,ha).resolve();return}f(this,Ul)??T(this,Ul,t.lang),Object.assign(f(this,ud),t.styles),_(this,xo,aL).call(this,t.items),e()},f(this,ha).reject)};return T(this,Hl,f(this,dd).getReader()),f(It,hd).add(this),e(),f(this,ha).promise}update({viewport:e,onBefore:t=null}){var o;const s=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==f(this,cd)&&(t==null||t(),T(this,cd,r),Ec(f(this,ld),{rotation:r})),s!==f(this,fa)){t==null||t(),T(this,fa,s);const a={div:null,properties:null,ctx:_(o=It,_s,px).call(o,f(this,Ul))};for(const u of f(this,Wl))a.properties=f(this,Cp).get(u),a.div=u,_(this,xo,Hw).call(this,a)}}cancel(){var t;const e=new Lc("TextLayer task cancelled.");(t=f(this,Hl))==null||t.cancel(e).catch(()=>{}),T(this,Hl,null),f(this,ha).reject(e)}get textDivs(){return f(this,Wl)}get textContentItemsStr(){return f(this,Ap)}static cleanup(){if(!(f(this,hd).size>0)){f(this,Gl).clear();for(const{canvas:e}of f(this,Kl).values())e.remove();f(this,Kl).clear()}}},ha=new WeakMap,is=new WeakMap,vp=new WeakMap,bp=new WeakMap,Ul=new WeakMap,Vi=new WeakMap,wp=new WeakMap,Sp=new WeakMap,Hl=new WeakMap,ld=new WeakMap,cd=new WeakMap,fa=new WeakMap,ud=new WeakMap,Ap=new WeakMap,dd=new WeakMap,Wl=new WeakMap,Cp=new WeakMap,Ep=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,jp=new WeakMap,pa=new WeakMap,hd=new WeakMap,xo=new WeakSet,aL=function(e){var r,o;if(f(this,vp))return;(o=f(this,Vi)).ctx??(o.ctx=_(r=It,_s,px).call(r,f(this,Ul)));const t=f(this,Wl),s=f(this,Ap);for(const a of e){if(t.length>ZG){Ue("Ignoring additional textDivs for performance reasons."),T(this,vp,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const u=f(this,is);T(this,is,document.createElement("span")),f(this,is).classList.add("markedContent"),a.id!==null&&f(this,is).setAttribute("id",`${a.id}`),u.append(f(this,is))}else a.type==="endMarkedContent"&&T(this,is,f(this,is).parentNode);continue}s.push(a.str),_(this,xo,lL).call(this,a)}},lL=function(e){var b;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Wl).push(t);const r=Se.transform(f(this,Ep),e.transform);let o=Math.atan2(r[1],r[0]);const a=f(this,ud)[e.fontName];a.vertical&&(o+=Math.PI/2);let u=f(this,bp)&&a.fontSubstitution||a.fontFamily;u=It.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),h=d*_(b=It,_s,uL).call(b,u,f(this,Ul));let p,g;o===0?(p=r[4],g=r[5]-h):(p=r[4]+h*Math.sin(o),g=r[5]-h*Math.cos(o));const x="calc(var(--scale-factor)*",v=t.style;f(this,is)===f(this,ld)?(v.left=`${(100*p/f(this,Sp)).toFixed(2)}%`,v.top=`${(100*g/f(this,wp)).toFixed(2)}%`):(v.left=`${x}${p.toFixed(2)}px)`,v.top=`${x}${g.toFixed(2)}px)`),v.fontSize=`${x}${(f(It,pa)*d).toFixed(2)}px)`,v.fontFamily=u,s.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,bp)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),o!==0&&(s.angle=o*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);E!==A&&Math.max(E,A)/Math.min(E,A)>1.5&&(w=!0)}if(w&&(s.canvasWidth=a.vertical?e.height:e.width),f(this,Cp).set(t,s),f(this,Vi).div=t,f(this,Vi).properties=s,_(this,xo,Hw).call(this,f(this,Vi)),s.hasText&&f(this,is).append(t),s.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),f(this,is).append(E)}},Hw=function(e){var u;const{div:t,properties:s,ctx:r}=e,{style:o}=t;let a="";if(f(It,pa)>1&&(a=`scale(${1/f(It,pa)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:d}=o,{canvasWidth:h,fontSize:p}=s;_(u=It,_s,Ww).call(u,r,p*f(this,fa),d);const{width:g}=r.measureText(t.textContent);g>0&&(a=`scaleX(${h*f(this,fa)/g}) ${a}`)}s.angle!==0&&(a=`rotate(${s.angle}deg) ${a}`),a.length>0&&(o.transform=a)},_s=new WeakSet,px=function(e=null){let t=f(this,Kl).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Kl).set(e,t),f(this,jp).set(t,{size:0,family:""})}return t},Ww=function(e,t,s){const r=f(this,jp).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},cL=function(){if(f(this,pa)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),T(this,pa,e.getBoundingClientRect().height),e.remove()},uL=function(e,t){const s=f(this,Gl).get(e);if(s)return s;const r=_(this,_s,px).call(this,t);r.canvas.width=r.canvas.height=ts,_(this,_s,Ww).call(this,r,ts,e);const o=r.measureText("");let a=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);if(a){const p=a/(a+u);return f(this,Gl).set(e,p),r.canvas.width=r.canvas.height=0,p}r.strokeStyle="red",r.clearRect(0,0,ts,ts),r.strokeText("g",0,0);let d=r.getImageData(0,0,ts,ts).data;u=0;for(let p=d.length-1-3;p>=0;p-=4)if(d[p]>0){u=Math.ceil(p/4/ts);break}r.clearRect(0,0,ts,ts),r.strokeText("A",0,ts),d=r.getImageData(0,0,ts,ts).data,a=0;for(let p=0,g=d.length;p<g;p+=4)if(d[p]>0){a=ts-Math.floor(p/4/ts);break}r.canvas.width=r.canvas.height=0;const h=a?a/(a+u):e7;return f(this,Gl).set(e,h),h},I(It,_s),I(It,Gl,new Map),I(It,Kl,new Map),I(It,jp,new WeakMap),I(It,pa,null),I(It,hd,new Set),It);class $f{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(o){var d;if(!o)return;let a=null;const u=o.name;if(u==="#text")a=o.value;else if($f.shouldBuildText(u))(d=o==null?void 0:o.attributes)!=null&&d.textContent?a=o.attributes.textContent:o.value&&(a=o.value);else return;if(a!==null&&t.push({str:a}),!!o.children)for(const h of o.children)r(h)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const t7=65536,n7=100,s7=5e3,r7=On?gG:fG,i7=On?xG:G2,o7=On?mG:pG,a7=On?yG:Y2;function l7(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Gw,{docId:t}=e,s=n.url?c7(n.url):null,r=n.data?u7(n.data):null,o=n.httpHeaders||null,a=n.withCredentials===!0,u=n.password??null,d=n.range instanceof dL?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:t7;let p=n.worker instanceof ku?n.worker:null;const g=n.verbosity,x=typeof n.docBaseUrl=="string"&&!Uy(n.docBaseUrl)?n.docBaseUrl:null,v=typeof n.cMapUrl=="string"?n.cMapUrl:null,w=n.cMapPacked!==!1,b=n.CMapReaderFactory||i7,E=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,A=n.StandardFontDataFactory||a7,j=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!On,M=typeof n.isChrome=="boolean"?n.isChrome:!Wn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),D=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,O=typeof n.disableFontFace=="boolean"?n.disableFontFace:On,B=n.fontExtraProperties===!0,z=n.enableXfa===!0,K=n.ownerDocument||globalThis.document,X=n.disableRange===!0,ee=n.disableStream===!0,J=n.disableAutoFetch===!0,ae=n.pdfBug===!0,Y=n.CanvasFactory||r7,G=n.FilterFactory||o7,H=n.enableHWA===!0,te=d?d.length:n.length??NaN,ne=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!On&&!O,V=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:b===G2&&A===Y2&&v&&E&&rf(v,document.baseURI)&&rf(E,document.baseURI);n.canvasFactory&&jk("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&jk("`filterFactory`-instance option, please use `FilterFactory` instead.");const Z=null;H8(g);const de={canvasFactory:new Y({ownerDocument:K,enableHWA:H}),filterFactory:new G({docId:t,ownerDocument:K}),cMapReaderFactory:V?null:new b({baseUrl:v,isCompressed:w}),standardFontDataFactory:V?null:new A({baseUrl:E})};if(!p){const ye={verbosity:g,port:io.workerPort};p=ye.port?ku.fromPort(ye):new ku(ye),e._worker=p}const be={docId:t,apiVersion:"4.8.69",data:r,password:u,disableAutoFetch:J,rangeChunkSize:h,length:te,docBaseUrl:x,enableXfa:z,evaluatorOptions:{maxImageSize:k,disableFontFace:O,ignoreErrors:j,isEvalSupported:P,isOffscreenCanvasSupported:R,isChrome:M,canvasMaxAreaInBytes:D,fontExtraProperties:B,useSystemFonts:ne,cMapUrl:V?v:null,standardFontDataUrl:V?E:null}},Te={disableFontFace:O,fontExtraProperties:B,ownerDocument:K,pdfBug:ae,styleElement:Z,loadingParams:{disableAutoFetch:J,enableXfa:z}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const ye=p.messageHandler.sendWithPromise("GetDocRequest",be,r?[r.buffer]:null);let re;if(d)re=new MG(d,{disableRange:X,disableStream:ee});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let pe;On?pe=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&rf(s)?Fk:qG:pe=rf(s)?Fk:UG,re=new pe({url:s,length:te,httpHeaders:o,withCredentials:a,rangeChunkSize:h,disableRange:X,disableStream:ee})}return ye.then(pe=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ee=new hf(t,pe,p.port),ge=new p7(Ee,e,re,Te,de);e._transport=ge,Ee.send("Ready",null)})}).catch(e._capability.reject),e}function c7(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(On&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function u7(n){if(On&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Vy(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Bk(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var hy;const fy=class fy{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${rn(fy,hy)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};hy=new WeakMap,I(fy,hy,0);let Gw=fy,dL=class{constructor(e,t,s=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){vt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class d7{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ye(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ma,zi,Xs,pu,mx;class h7{constructor(e,t,s,r=!1){I(this,Xs);I(this,ma,null);I(this,zi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new Ek:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new hL,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new gm({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ye(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:r=Wo.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:g=!1}){var P,R;(P=this._stats)==null||P.time("Overall");const x=this._transport.getRenderingIntent(s,r,p,g),{renderingIntent:v,cacheKey:w}=x;T(this,zi,!1),_(this,Xs,mx).call(this),u||(u=this._transport.getOptionalContentConfig(v));let b=this._intentStates.get(w);b||(b=Object.create(null),this._intentStates.set(w,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const E=!!(v&Es.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(R=this._stats)==null||R.time("Page Request"),this._pumpOperatorList(x));const A=M=>{var D;b.renderTasks.delete(j),(this._maybeCleanupAfterRender||E)&&T(this,zi,!0),_(this,Xs,pu).call(this,!E),M?(j.capability.reject(M),this._abortOperatorList({intentState:b,reason:M instanceof Error?M:new Error(M)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new qw({callback:A,params:{canvasContext:e,viewport:t,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:h});(b.renderTasks||(b.renderTasks=new Set)).add(j);const k=j.task;return Promise.all([b.displayReadyCapability.promise,u]).then(([M,D])=>{var O;if(this.destroyed){A();return}if((O=this._stats)==null||O.time("Rendering"),!(D.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:M,optionalContentConfig:D}),j.operatorListChanged()}).catch(A),k}getOperatorList({intent:e="display",annotationMode:t=Wo.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var h;function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const a=this._transport.getRenderingIntent(e,t,s,r,!0);let u=this._intentStates.get(a.cacheKey);u||(u=Object.create(null),this._intentStates.set(a.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(a)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>$f.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function o(){a.read().then(function({value:d,done:h}){if(h){s(u);return}u.lang??(u.lang=d.lang),Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const a=t.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),T(this,zi,!1),_(this,Xs,mx).call(this),Promise.all(e)}cleanup(e=!1){T(this,zi,!0);const t=_(this,Xs,pu).call(this,!1);return e&&t&&this._stats&&(this._stats=new Ek),t}_startRenderPage(e,t){var r,o;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&_(this,Xs,pu).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:a}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},a).getReader(),h=this._intentStates.get(t);h.streamReader=d;const p=()=>{d.read().then(({value:g,done:x})=>{if(x){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,h),p())},g=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const x of h.renderTasks)x.operatorListChanged();_(this,Xs,pu).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(g);else if(h.opListReadCapability)h.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof Y1){let r=n7;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Lc(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ma=new WeakMap,zi=new WeakMap,Xs=new WeakSet,pu=function(e=!1){if(_(this,Xs,mx).call(this),!f(this,zi)||this.destroyed)return!1;if(e)return T(this,ma,setTimeout(()=>{T(this,ma,null),_(this,Xs,pu).call(this,!1)},s7)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),T(this,zi,!1),!0},mx=function(){f(this,ma)&&(clearTimeout(f(this,ma)),T(this,ma,null))};var Ui,py;class f7{constructor(){I(this,Ui,new Map);I(this,py,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};f(this,py).then(()=>{for(const[r]of f(this,Ui))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){Ue("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",a),o.addEventListener("abort",a)}f(this,Ui).set(t,r)}removeEventListener(e,t){const s=f(this,Ui).get(t);s==null||s(),f(this,Ui).delete(t)}terminate(){for(const[,e]of f(this,Ui))e==null||e();f(this,Ui).clear()}}Ui=new WeakMap,py=new WeakMap;var my,ql,Xl,fd,gx,pd,xx;const St=class St{constructor({name:e=null,port:t=null,verbosity:s=W8()}={}){I(this,fd);var r;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=f(St,Xl))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(f(St,Xl)||T(St,Xl,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return On?Promise.all([Ma.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new hf("main","worker",e),this._messageHandler.on("ready",function(){}),_(this,fd,gx).call(this)}_initialize(){if(f(St,ql)||f(St,pd,xx)){this._setupFakeWorker();return}let{workerSrc:e}=St;try{St._isSameOrigin(window.location.href,e)||(e=St._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new hf("main","worker",t),r=()=>{o.abort(),s.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}this._messageHandler=s,this._port=t,this._webWorker=t,_(this,fd,gx).call(this)}),s.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const u=new Uint8Array;s.send("test",u,[u.buffer])};a();return}catch{By("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){f(St,ql)||(Ue("Setting up fake worker."),T(St,ql,!0)),St._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new f7;this._port=t;const s=`fake${rn(St,my)._++}`,r=new hf(s+"_worker",s,t);e.setup(r,t),this._messageHandler=new hf(s,s+"_worker",t),_(this,fd,gx).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=f(St,Xl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(s=f(this,Xl))==null?void 0:s.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new St(e)}static get workerSrc(){if(io.workerSrc)return io.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ye(this,"_setupFakeWorkerGlobal",(async()=>f(this,pd,xx)?f(this,pd,xx):(await import(this.workerSrc)).WorkerMessageHandler)())}};my=new WeakMap,ql=new WeakMap,Xl=new WeakMap,fd=new WeakSet,gx=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},pd=new WeakSet,xx=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(St,pd),I(St,my,0),I(St,ql,!1),I(St,Xl),On&&(T(St,ql,!0),io.workerSrc||(io.workerSrc="./pdf.worker.mjs")),St._isSameOrigin=(e,t)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(t,s);return s.origin===r.origin},St._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let ku=St;var Hi,si,md,gd,ri,Yl,ff;class p7{constructor(e,t,s,r,o){I(this,Yl);I(this,Hi,new Map);I(this,si,new Map);I(this,md,new Map);I(this,gd,new Map);I(this,ri,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new hL,this.fontLoader=new dG({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ye(this,"annotationStorage",new eA)}getRenderingIntent(e,t=Wo.ENABLE,s=null,r=!1,o=!1){let a=Es.DISPLAY,u=Iw;switch(e){case"any":a=Es.ANY;break;case"display":break;case"print":a=Es.PRINT;break;default:Ue(`getRenderingIntent - invalid intent: ${e}`)}const d=a&Es.PRINT&&s instanceof U2?s:this.annotationStorage;switch(t){case Wo.DISABLE:a+=Es.ANNOTATIONS_DISABLE;break;case Wo.ENABLE:break;case Wo.ENABLE_FORMS:a+=Es.ANNOTATIONS_FORMS;break;case Wo.ENABLE_STORAGE:a+=Es.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Ue(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Es.IS_EDITING),o&&(a+=Es.OPLIST);const{ids:h,hash:p}=d.modifiedIds,g=[a,u.hash,p];return{renderingIntent:a,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:h}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=f(this,ri))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of f(this,si).values())e.push(r._destroy());f(this,si).clear(),f(this,md).clear(),f(this,gd).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Hi).clear(),this.filterFactory.destroy(),Uw.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Lc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{Zt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:a}){if(a){r.close();return}Zt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async s=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:a}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((u=t.onProgress)==null||u.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var h;(h=t.onProgress)==null||h.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:a}}),e.on("GetRangeReader",(s,r)=>{Zt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:a,done:u}){if(u){r.close();return}Zt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{o.cancel(a),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new d7(s,this))}),e.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new hw(s.message,s.code);break;case"InvalidPDFException":r=new m2(s.message);break;case"MissingPDFException":r=new Rc(s.message);break;case"UnexpectedResponseException":r=new $y(s.message,s.status);break;case"UnknownErrorException":r=new fw(s.message,s.details);break;default:vt("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",s=>{if(T(this,ri,Promise.withResolvers()),t.onPassword){const r=o=>{o instanceof Error?f(this,ri).reject(o):f(this,ri).resolve({password:o})};try{t.onPassword(r,s.code)}catch(o){f(this,ri).reject(o)}}else f(this,ri).reject(new hw(s.message,s.code));return f(this,ri).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;f(this,si).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,o])=>{var a;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:u,fontExtraProperties:d,pdfBug:h}=this._params;if("error"in o){const v=o.error;Ue(`Error during font loading: ${v}`),this.commonObjs.resolve(s,v);break}const p=h&&((a=globalThis.FontInspector)!=null&&a.enabled)?(v,w)=>globalThis.FontInspector.fontAdded(v,w):null,g=new hG(o,{disableFontFace:u,inspectFont:p});this.fontLoader.bind(g).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!d&&g.data&&(g.data=null),this.commonObjs.resolve(s,g)});break;case"CopyLocalImage":const{imageRef:x}=o;Zt(x,"The imageRef must be defined.");for(const v of f(this,si).values())for(const[,w]of v.objs)if((w==null?void 0:w.ref)===x)return w.dataLen?(this.commonObjs.resolve(s,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,o,a])=>{var d;if(this.destroyed)return;const u=f(this,si).get(r);if(!u.objs.has(s)){if(u._intentStates.size===0){(d=a==null?void 0:a.bitmap)==null||d.close();return}switch(o){case"Image":u.objs.resolve(s,a),(a==null?void 0:a.dataLen)>$8&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(s,a);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=f(this,md).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&f(this,gd).set(o.refStr,e);const a=new h7(t,o,this,this._params.pdfBug);return f(this,si).set(t,a),a});return f(this,md).set(t,r),r}getPageIndex(e){return Bk(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,Yl,ff).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Yl,ff).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Yl,ff).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,Yl,ff).call(this,"GetOptionalContentConfig").then(t=>new IG(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Hi).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,a;return{info:r[0],metadata:r[1]?new RG(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return f(this,Hi).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,si).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Hi).clear(),this.filterFactory.destroy(!0),Uw.cleanup()}}cachedPageNumber(e){if(!Bk(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,gd).get(t)??null}}Hi=new WeakMap,si=new WeakMap,md=new WeakMap,gd=new WeakMap,ri=new WeakMap,Yl=new WeakSet,ff=function(e,t=null){const s=f(this,Hi).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return f(this,Hi).set(e,r),r};const qg=Symbol("INITIAL_DATA");var br,Np,Kw;class hL{constructor(){I(this,Np);I(this,br,Object.create(null))}get(e,t=null){if(t){const r=_(this,Np,Kw).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=f(this,br)[e];if(!s||s.data===qg)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=f(this,br)[e];return!!t&&t.data!==qg}resolve(e,t=null){const s=_(this,Np,Kw).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in f(this,br)){const{data:s}=f(this,br)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}T(this,br,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,br)){const{data:t}=f(this,br)[e];t!==qg&&(yield[e,t])}}}br=new WeakMap,Np=new WeakSet,Kw=function(e){var t;return(t=f(this,br))[e]||(t[e]={...Promise.withResolvers(),data:qg})};var ga;class m7{constructor(e){I(this,ga,null);T(this,ga,e),this.onContinue=null}get promise(){return f(this,ga).capability.promise}cancel(e=0){f(this,ga).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,ga).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,ga);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ga=new WeakMap;var xa,Ql;const fl=class fl{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:a,pageIndex:u,canvasFactory:d,filterFactory:h,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:x=null}){I(this,xa,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=h,this._pdfBug=g,this.pageColors=x,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new m7(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,d;if(this.cancelled)return;if(this._canvas){if(f(fl,Ql).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(fl,Ql).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:a}=this.params;this.gfx=new Nu(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),f(this,xa)&&(window.cancelAnimationFrame(f(this,xa)),T(this,xa,null)),f(fl,Ql).delete(this._canvas),this.callback(e||new Y1(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?T(this,xa,window.requestAnimationFrame(()=>{T(this,xa,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(fl,Ql).delete(this._canvas),this.callback())))}};xa=new WeakMap,Ql=new WeakMap,I(fl,Ql,new WeakSet);let qw=fl;const g7="4.8.69",x7="3634dab10";function $k(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Jh(n){return Math.max(0,Math.min(255,255*n))}class Vk{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Jh(e),[e,e,e]}static G_HTML([e]){const t=$k(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Jh)}static RGB_HTML(e){return`#${e.map($k).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[Jh(1-Math.min(1,e+r)),Jh(1-Math.min(1,s+r)),Jh(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,o=1-t,a=1-s,u=Math.min(r,o,a);return["CMYK",r,o,a,u]}}class y7{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){vt("Abstract method `_createSVG` called.")}}class iA extends y7{_createSVG(e){return document.createElementNS(_i,e)}}class fL{static setupStorage(e,t,s,r,o){const a=r.getValue(t,{value:null});switch(s.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(a.value===s.attributes.xfaOn?e.setAttribute("checked",!0):a.value===s.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",u=>{r.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const u of s.children)u.attributes.value===a.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const d=u.target.options,h=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:o}){const{attributes:a}=t,u=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[d,h]of Object.entries(a))if(h!=null)switch(d){case"class":h.length&&e.setAttribute(d,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!u||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,h)}u&&o.addLinkAttributes(e,a.href,a.newWindow),s&&a.dataId&&this.setupStorage(e,a.dataId,t,s)}static render(e){var g,x;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,o=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:o,linkService:s});const u=o!=="richText",d=e.div;if(d.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=v}u&&d.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),u&&$f.shouldBuildText(r.name)&&h.push(v)}return{textDivs:h}}const p=[[r,-1,a]];for(;p.length>0;){const[v,w,b]=p.at(-1);if(w+1===v.children.length){p.pop();continue}const E=v.children[++p.at(-1)[1]];if(E===null)continue;const{name:A}=E;if(A==="#text"){const k=document.createTextNode(E.value);h.push(k),b.append(k);continue}const j=(g=E==null?void 0:E.attributes)!=null&&g.xmlns?document.createElementNS(E.attributes.xmlns,A):document.createElement(A);if(b.append(j),E.attributes&&this.setAttributes({html:j,element:E,storage:t,intent:o,linkService:s}),((x=E.children)==null?void 0:x.length)>0)p.push([E,-1,j]);else if(E.value){const k=document.createTextNode(E.value);u&&$f.shouldBuildText(A)&&h.push(k),j.append(k)}}for(const v of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ym=1e3,v7=9,Nc=new WeakSet;function co(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class b7{static create(e){switch(e.data.annotationType){case Xt.LINK:return new pL(e);case Xt.TEXT:return new w7(e);case Xt.WIDGET:switch(e.data.fieldType){case"Tx":return new S7(e);case"Btn":return e.data.radioButton?new xL(e):e.data.checkBox?new C7(e):new E7(e);case"Ch":return new j7(e);case"Sig":return new A7(e)}return new Ic(e);case Xt.POPUP:return new Yw(e);case Xt.FREETEXT:return new SL(e);case Xt.LINE:return new k7(e);case Xt.SQUARE:return new T7(e);case Xt.CIRCLE:return new P7(e);case Xt.POLYLINE:return new AL(e);case Xt.CARET:return new R7(e);case Xt.INK:return new oA(e);case Xt.POLYGON:return new _7(e);case Xt.HIGHLIGHT:return new CL(e);case Xt.UNDERLINE:return new L7(e);case Xt.SQUIGGLY:return new I7(e);case Xt.STRIKEOUT:return new M7(e);case Xt.STAMP:return new EL(e);case Xt.FILEATTACHMENT:return new D7(e);default:return new $t(e)}}}var Jl,xd,yd,kp,Xw;const uA=class uA{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){I(this,kp);I(this,Jl,null);I(this,xd,!1);I(this,yd,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e!=null&&e.str||t!=null&&t.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return uA._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;f(this,Jl)||T(this,Jl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,kp,Xw).call(this,t),(s=f(this,yd))==null||s.popup.updateEdited(e)}resetEdited(){var e;f(this,Jl)&&(_(this,kp,Xw).call(this,f(this,Jl).rect),(e=f(this,yd))==null||e.popup.resetEdited(),T(this,Jl,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Ic||(o.tabIndex=ym);const{style:a}=o;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof Yw){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,o),o}const{width:u,height:d}=co(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(b>0||E>0){const j=`calc(${b}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;a.borderRadius=j}else if(this instanceof xL){const j=`calc(${u}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;a.borderRadius=j}switch(t.borderStyle.style){case Yh.SOLID:a.borderStyle="solid";break;case Yh.DASHED:a.borderStyle="dashed";break;case Yh.BEVELED:Ue("Unimplemented border style: beveled");break;case Yh.INSET:Ue("Unimplemented border style: inset");break;case Yh.UNDERLINE:a.borderBottomStyle="solid";break}const A=t.borderColor||null;A?(T(this,xd,!0),a.borderColor=Se.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):a.borderWidth=0}const h=Se.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:p,pageHeight:g,pageX:x,pageY:v}=r.rawDims;a.left=`${100*(h[0]-x)/p}%`,a.top=`${100*(h[1]-v)/g}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(a.width=`${100*u/p}%`,a.height=`${100*d/g}%`):this.setRotation(w,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:a}=co(this.data.rect);let u,d;e%180===0?(u=100*o/s,d=100*a/r):(u=100*a/s,d=100*o/r),t.style.width=`${u}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const o=r.detail[t],a=o[0],u=o.slice(1);r.target.style[s]=Vk[`${a}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[s]:Vk[`${a}_rgb`](u)})};return Ye(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||s[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,o]of Object.entries(t)){const a=s[r];if(a){const u={detail:{[r]:o},target:e};a(u),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,o]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,E,A,j]=e.subarray(2,6);if(r===b&&o===E&&t===A&&s===j)return}const{style:a}=this.container;let u;if(f(this,xd)){const{borderColor:b,borderWidth:E}=a;a.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-t,h=o-s,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const x=p.createElement("defs");g.append(x);const v=p.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),x.append(v);for(let b=2,E=e.length;b<E;b+=8){const A=e[b],j=e[b+1],k=e[b+2],P=e[b+3],R=p.createElement("rect"),M=(k-t)/d,D=(o-j)/h,O=(A-k)/d,B=(j-P)/h;R.setAttribute("x",M),R.setAttribute("y",D),R.setAttribute("width",O),R.setAttribute("height",B),v.append(R),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${D}" width="${O}" height="${B}"/>`)}f(this,xd)&&(u.push("</g></svg>')"),a.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:e}=this,t=T(this,yd,new Yw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){vt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:a,exportValues:u}of r){if(o===-1||a===t)continue;const d=typeof u=="string"?u:null,h=document.querySelector(`[data-element-id="${a}"]`);if(h&&!Nc.has(h)){Ue(`_getElementsByName - element not allowed: ${a}`);continue}s.push({id:a,exportValue:d,domElement:h})}return s}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,a=r.getAttribute("data-element-id");a!==t&&Nc.has(r)&&s.push({id:a,exportValue:o,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Jl=new WeakMap,xd=new WeakMap,yd=new WeakMap,kp=new WeakSet,Xw=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:a,pageX:u,pageY:d}}}}=this;s==null||s.splice(0,4,...e);const{width:h,height:p}=co(e);t.left=`${100*(e[0]-u)/o}%`,t.top=`${100*(a-e[3]+d)/a}%`,r===0?(t.width=`${100*h/o}%`,t.height=`${100*p/a}%`):this.setRotation(r)};let $t=uA;var ks,ll,mL,gL;class pL extends $t{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});I(this,ks);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(_(this,ks,mL).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(_(this,ks,gL).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&_(this,ks,ll).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),_(this,ks,ll).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const a=r.get(o);a&&(t[a]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,ks,ll).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),_(this,ks,ll).call(this),!this._fieldObjects){Ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var g;r==null||r();const{fields:o,refs:a,include:u}=s,d=[];if(o.length!==0||a.length!==0){const x=new Set(a);for(const v of o){const w=this._fieldObjects[v]||[];for(const{id:b}of w)x.add(b)}for(const v of Object.values(this._fieldObjects))for(const w of v)x.has(w.id)===u&&d.push(w)}else for(const x of Object.values(this._fieldObjects))d.push(...x);const h=this.annotationStorage,p=[];for(const x of d){const{id:v}=x;switch(p.push(v),x.type){case"text":{const b=x.defaultValue||"";h.setValue(v,{value:b});break}case"checkbox":case"radiobutton":{const b=x.defaultValue===x.exportValues;h.setValue(v,{value:b});break}case"combobox":case"listbox":{const b=x.defaultValue||"";h.setValue(v,{value:b});break}default:continue}const w=document.querySelector(`[data-element-id="${v}"]`);if(w){if(!Nc.has(w)){Ue(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}ks=new WeakSet,ll=function(){this.container.setAttribute("data-internal-link","")},mL=function(t,s,r=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},_(this,ks,ll).call(this)},gL=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),_(this,ks,ll).call(this)};class w7 extends $t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ic extends $t{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Wn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,o){s.includes("mouse")?e.addEventListener(s,a=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(s,a=>{var u;if(s==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}o&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(a)}}))})}_setEventListeners(e,t,s,r){var o,a,u;for(const[d,h]of s)(h==="Action"||(o=this.data.actions)!=null&&o[h])&&((h==="Focus"||h==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,h,r),h==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):h==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Se.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||v7,o=e.style;let a;const u=2,d=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(h/(pb*r))||1,g=h/p;a=Math.min(r,d(g/pb))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-u);a=Math.min(r,d(h/pb))}o.fontSize=`calc(${a}px * var(--scale-factor))`,o.color=Se.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class S7 extends Ic{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const o=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=s),o.setValue(a.id,{[r]:s})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let u=a.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&u.length>d&&(u=u.slice(0,d));let h=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const p={userValue:u,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??u,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",h??u),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Nc.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=ym,this._setRequired(s,this.data.required),d&&(s.maxLength=d),s.addEventListener("input",x=>{e.setValue(t,{value:x.target.value}),this.setPropertyOnSiblings(s,"value",x.target.value,"value"),p.formattedValue=null}),s.addEventListener("resetform",x=>{const v=this.data.defaultFieldValue??"";s.value=p.userValue=v,p.formattedValue=null});let g=x=>{const{formattedValue:v}=p;v!=null&&(x.target.value=v),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",v=>{var b;if(p.focused)return;const{target:w}=v;p.userValue&&(w.value=p.userValue),p.lastCommittedValue=w.value,p.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(p.focused=!0)}),s.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const w={value(b){p.userValue=b.detail.value??"",e.setValue(t,{value:p.userValue.toString()}),b.target.value=p.userValue},formattedValue(b){const{formattedValue:E}=b.detail;p.formattedValue=E,E!=null&&b.target!==document.activeElement&&(b.target.value=E),e.setValue(t,{formattedValue:E})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var k;const{charLimit:E}=b.detail,{target:A}=b;if(E===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",E);let j=p.userValue;!j||j.length<=E||(j=j.slice(0,E),A.value=p.userValue=j,e.setValue(t,{value:j}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,v)}),s.addEventListener("keydown",v=>{var E;p.commitKey=1;let w=-1;if(v.key==="Escape"?w=0:v.key==="Enter"&&!this.data.multiLine?w=2:v.key==="Tab"&&(p.commitKey=3),w===-1)return;const{value:b}=v.target;p.lastCommittedValue!==b&&(p.lastCommittedValue=b,p.userValue=b,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:w,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const x=g;g=null,s.addEventListener("blur",v=>{var b,E;if(!p.focused||!v.relatedTarget)return;(b=this.data.actions)!=null&&b.Blur||(p.focused=!1);const{value:w}=v.target;p.userValue=w,p.lastCommittedValue!==w&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:p.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),x(v)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",v=>{var R;p.lastCommittedValue=null;const{data:w,target:b}=v,{value:E,selectionStart:A,selectionEnd:j}=b;let k=A,P=j;switch(v.inputType){case"deleteWordBackward":{const M=E.substring(0,A).match(/\w*[^\w]*$/);M&&(k-=M[0].length);break}case"deleteWordForward":{const M=E.substring(A).match(/^[^\w]*\w*/);M&&(P+=M[0].length);break}case"deleteContentBackward":A===j&&(k-=1);break;case"deleteContentForward":A===j&&(P+=1);break}v.preventDefault(),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:w||"",willCommit:!1,selStart:k,selEnd:P}})}),this._setEventListeners(s,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(g&&s.addEventListener("blur",g),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/d;s.classList.add("comb"),s.style.letterSpacing=`calc(${v}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class A7 extends Ic{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class C7 extends Ic{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Nc.add(o),o.setAttribute("data-element-id",s),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=ym,o.addEventListener("change",a=>{const{name:u,checked:d}=a.target;for(const h of this._getElementsByName(u,s)){const p=d&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}e.setValue(s,{value:d})}),o.addEventListener("resetform",a=>{const u=t.defaultFieldValue||"Off";a.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",a=>{const u={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class xL extends Ic{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,s))e.setValue(a.id,{value:!1});const o=document.createElement("input");if(Nc.add(o),o.setAttribute("data-element-id",s),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=ym,o.addEventListener("change",a=>{const{name:u,checked:d}=a.target;for(const h of this._getElementsByName(u,s))e.setValue(h.id,{value:!1});e.setValue(s,{value:d})}),o.addEventListener("resetform",a=>{const u=t.defaultFieldValue;a.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:h=>{const p=a===h.detail.value;for(const g of this._getElementsByName(h.target.name)){const x=p&&g.id===s;g.domElement&&(g.domElement.checked=x),e.setValue(g.id,{value:x})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class E7 extends pL{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class j7 extends Ic{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Nc.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=ym;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const x of r.options)x.selected=x.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,s.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),r.append(g)}let a=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),a=()=>{p.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const u=p=>{const g=p?"value":"textContent",{options:x,multiple:v}=r;return v?Array.prototype.filter.call(x,w=>w.selected).map(w=>w[g]):x.selectedIndex===-1?null:x[x.selectedIndex][g]};let d=u(!1);const h=p=>{const g=p.target.options;return Array.prototype.map.call(g,x=>({displayValue:x.textContent,exportValue:x.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const g={value(x){a==null||a();const v=x.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(const b of r.options)b.selected=w.has(b.value);e.setValue(t,{value:u(!0)}),d=u(!1)},multipleSelection(x){r.multiple=!0},remove(x){const v=r.options,w=x.detail.remove;v[w].selected=!1,r.remove(w),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:u(!0),items:h(x)}),d=u(!1)},clear(x){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=u(!1)},insert(x){const{index:v,displayValue:w,exportValue:b}=x.detail.insert,E=r.children[v],A=document.createElement("option");A.textContent=w,A.value=b,E?E.before(A):r.append(A),e.setValue(t,{value:u(!0),items:h(x)}),d=u(!1)},items(x){const{items:v}=x.detail;for(;r.length!==0;)r.remove(0);for(const w of v){const{displayValue:b,exportValue:E}=w,A=document.createElement("option");A.textContent=b,A.value=E,r.append(A)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:u(!0),items:h(x)}),d=u(!1)},indices(x){const v=new Set(x.detail.indices);for(const w of x.target.options)w.selected=v.has(w.index);e.setValue(t,{value:u(!0)}),d=u(!1)},editable(x){x.target.disabled=!x.detail.editable}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("input",p=>{var v;const g=u(!0),x=u(!1);e.setValue(t,{value:g}),p.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:x,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Yw extends $t{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:$t._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new N7({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${X1}${s}`).join(",")),this.container}}var vd,gy,xy,bd,Zl,Lt,Wi,wd,Tp,Pp,Sd,Gi,wr,Ki,_p,qi,Rp,ec,tc,lt,yx,Qw,yL,vL,bL,wL,vx,bx,Jw;class N7{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:o,contentsObj:a,richText:u,parent:d,rect:h,parentRect:p,open:g}){I(this,lt);I(this,vd,_(this,lt,bL).bind(this));I(this,gy,_(this,lt,Jw).bind(this));I(this,xy,_(this,lt,bx).bind(this));I(this,bd,_(this,lt,vx).bind(this));I(this,Zl,null);I(this,Lt,null);I(this,Wi,null);I(this,wd,null);I(this,Tp,null);I(this,Pp,null);I(this,Sd,null);I(this,Gi,!1);I(this,wr,null);I(this,Ki,null);I(this,_p,null);I(this,qi,null);I(this,Rp,null);I(this,ec,null);I(this,tc,!1);var x;T(this,Lt,e),T(this,Rp,r),T(this,Wi,a),T(this,qi,u),T(this,Pp,d),T(this,Zl,t),T(this,_p,h),T(this,Sd,p),T(this,Tp,s),T(this,wd,J1.toDateObject(o)),this.trigger=s.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",f(this,bd)),v.addEventListener("mouseenter",f(this,xy)),v.addEventListener("mouseleave",f(this,gy)),v.classList.add("popupTriggerArea");for(const v of s)(x=v.container)==null||x.addEventListener("keydown",f(this,vd));f(this,Lt).hidden=!0,g&&_(this,lt,vx).call(this)}render(){if(f(this,wr))return;const e=T(this,wr,document.createElement("div"));if(e.className="popup",f(this,Zl)){const o=e.style.outlineColor=Se.makeHexColor(...f(this,Zl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Se.makeHexColor(...f(this,Zl).map(u=>Math.floor(.7*(255-u)+u)))}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=f(this,Rp),e.append(t),f(this,wd)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,wd).valueOf()})),t.append(o)}const r=f(this,lt,yx);if(r)fL.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(f(this,Wi));e.append(o)}f(this,Lt).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,a=r.length;o<a;++o){const u=r[o];s.append(document.createTextNode(u)),o<a-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;f(this,ec)||T(this,ec,{contentsObj:f(this,Wi),richText:f(this,qi)}),e&&T(this,Ki,null),t&&(T(this,qi,_(this,lt,vL).call(this,t)),T(this,Wi,null)),(s=f(this,wr))==null||s.remove(),T(this,wr,null)}resetEdited(){var e;f(this,ec)&&({contentsObj:rn(this,Wi)._,richText:rn(this,qi)._}=f(this,ec),T(this,ec,null),(e=f(this,wr))==null||e.remove(),T(this,wr,null),T(this,Ki,null))}forceHide(){T(this,tc,this.isVisible),f(this,tc)&&(f(this,Lt).hidden=!0)}maybeShow(){f(this,tc)&&(f(this,wr)||_(this,lt,bx).call(this),T(this,tc,!1),f(this,Lt).hidden=!1)}get isVisible(){return f(this,Lt).hidden===!1}}vd=new WeakMap,gy=new WeakMap,xy=new WeakMap,bd=new WeakMap,Zl=new WeakMap,Lt=new WeakMap,Wi=new WeakMap,wd=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,Sd=new WeakMap,Gi=new WeakMap,wr=new WeakMap,Ki=new WeakMap,_p=new WeakMap,qi=new WeakMap,Rp=new WeakMap,ec=new WeakMap,tc=new WeakMap,lt=new WeakSet,yx=function(){const e=f(this,qi),t=f(this,Wi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,qi).html||null},Qw=function(){var e,t,s;return((s=(t=(e=f(this,lt,yx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},yL=function(){var e,t,s;return((s=(t=(e=f(this,lt,yx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},vL=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:f(this,lt,yL),fontSize:f(this,lt,Qw)?`calc(${f(this,lt,Qw)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return s},bL=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,Gi))&&_(this,lt,vx).call(this)},wL=function(){if(f(this,Ki)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:o}}}=f(this,Pp);let a=!!f(this,Sd),u=a?f(this,Sd):f(this,_p);for(const w of f(this,Tp))if(!u||Se.intersect(w.data.rect,u)!==null){u=w.data.rect,a=!0;break}const d=Se.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),p=a?u[2]-u[0]+5:0,g=d[0]+p,x=d[1];T(this,Ki,[100*(g-r)/t,100*(x-o)/s]);const{style:v}=f(this,Lt);v.left=`${f(this,Ki)[0]}%`,v.top=`${f(this,Ki)[1]}%`},vx=function(){T(this,Gi,!f(this,Gi)),f(this,Gi)?(_(this,lt,bx).call(this),f(this,Lt).addEventListener("click",f(this,bd)),f(this,Lt).addEventListener("keydown",f(this,vd))):(_(this,lt,Jw).call(this),f(this,Lt).removeEventListener("click",f(this,bd)),f(this,Lt).removeEventListener("keydown",f(this,vd)))},bx=function(){f(this,wr)||this.render(),this.isVisible?f(this,Gi)&&f(this,Lt).classList.add("focused"):(_(this,lt,wL).call(this),f(this,Lt).hidden=!1,f(this,Lt).style.zIndex=parseInt(f(this,Lt).style.zIndex)+1e3)},Jw=function(){f(this,Lt).classList.remove("focused"),!(f(this,Gi)||!this.isVisible)&&(f(this,Lt).hidden=!0,f(this,Lt).style.zIndex=parseInt(f(this,Lt).style.zIndex)-1e3)};class SL extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Lp;class k7 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Lp,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:s,height:r}=co(t.rect),o=this.svgFactory.create(s,r,!0),a=T(this,Lp,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lp=new WeakMap;var Ip;class T7 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Ip,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:s,height:r}=co(t.rect),o=this.svgFactory.create(s,r,!0),a=t.borderStyle.width,u=T(this,Ip,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",a/2),u.setAttribute("y",a/2),u.setAttribute("width",s-a),u.setAttribute("height",r-a),u.setAttribute("stroke-width",a||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Ip)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ip=new WeakMap;var Mp;class P7 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Mp,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:s,height:r}=co(t.rect),o=this.svgFactory.create(s,r,!0),a=t.borderStyle.width,u=T(this,Mp,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",s/2),u.setAttribute("cy",r/2),u.setAttribute("rx",s/2-a/2),u.setAttribute("ry",r/2-a/2),u.setAttribute("stroke-width",a||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Mp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mp=new WeakMap;var Dp;class AL extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Dp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:a,height:u}=co(t),d=this.svgFactory.create(a,u,!0);let h=[];for(let g=0,x=s.length;g<x;g+=2){const v=s[g]-t[0],w=t[3]-s[g+1];h.push(`${v},${w}`)}h=h.join(" ");const p=T(this,Dp,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",h),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),d.append(p),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Dp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dp=new WeakMap;class _7 extends AL{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class R7 extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Op;class oA extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Op,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Be.HIGHLIGHT:Be.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:a,height:u}=co(t),d=this.svgFactory.create(a,u,!0);for(const h of s){let p=[];for(let x=0,v=h.length;x<v;x+=2){const w=h[x]-t[0],b=t[3]-h[x+1];p.push(`${w},${b}`)}p=p.join(" ");const g=this.svgFactory.createElement(this.svgElementName);f(this,Op).push(g),g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return f(this,Op)}addHighlightArea(){this.container.classList.add("highlightArea")}}Op=new WeakMap;class CL extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Be.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class L7 extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class I7 extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class M7 extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class EL extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Be.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Fp,Bp,Zw;class D7 extends $t{constructor(t){var r;super(t,{isRenderable:!0});I(this,Bp);I(this,Fp,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,Bp,Zw).bind(this)),T(this,Fp,r);const{isMac:o}=Wn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(o?a.metaKey:a.ctrlKey)&&_(this,Bp,Zw).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return f(this,Fp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fp=new WeakMap,Bp=new WeakSet,Zw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var $p,nc,sc,Vp,Tc,jL,eS,uT;let O7=(uT=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:a,structTreeLayer:u}){I(this,Tc);I(this,$p,null);I(this,nc,null);I(this,sc,new Map);I(this,Vp,null);this.div=e,T(this,$p,t),T(this,nc,s),T(this,Vp,u||null),this.page=o,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return f(this,sc).size>0}async render(e){var a;const{annotations:t}=e,s=this.div;Ec(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new iA,annotationStorage:e.annotationStorage||new eA,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===Xt.POPUP;if(d){const g=r.get(u.id);if(!g)continue;o.elements=g}else{const{width:g,height:x}=co(u.rect);if(g<=0||x<=0)continue}o.data=u;const h=b7.create(o);if(!h.isRenderable)continue;if(!d&&u.popupRef){const g=r.get(u.popupRef);g?g.push(h):r.set(u.popupRef,[h])}const p=h.render();u.hidden&&(p.style.visibility="hidden"),await _(this,Tc,jL).call(this,p,u.id),h._isEditable&&(f(this,sc).set(h.data.id,h),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(h))}_(this,Tc,eS).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Ec(t,{rotation:e.rotation}),_(this,Tc,eS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,sc).values())}getEditableAnnotation(e){return f(this,sc).get(e)}},$p=new WeakMap,nc=new WeakMap,sc=new WeakMap,Vp=new WeakMap,Tc=new WeakSet,jL=async function(e,t){var a,u;const s=e.firstChild||e,r=s.id=`${X1}${t}`,o=await((a=f(this,Vp))==null?void 0:a.getAriaAttributes(r));if(o)for(const[d,h]of o)s.setAttribute(d,h);this.div.append(e),(u=f(this,$p))==null||u.moveElementInDOM(this.div,e,s,!1)},eS=function(){if(!f(this,nc))return;const e=this.div;for(const[t,s]of f(this,nc)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}f(this,nc).clear()},uT);const Xg=/\r\n?|\n/g;var Sr,vs,zp,rc,bs,Gt,NL,kL,TL,wx,ho,Sx,Ax,PL,nS,_L;const pt=class pt extends it{constructor(t){super({...t,name:"freeTextEditor"});I(this,Gt);I(this,Sr);I(this,vs,"");I(this,zp,`${this.id}-editor`);I(this,rc,null);I(this,bs);T(this,Sr,t.color||pt._defaultColor||it._defaultLineColor),T(this,bs,t.fontSize||pt._defaultFontSize)}static get _keyboardManager(){const t=pt.prototype,s=a=>a.isEmpty(),r=jc.TRANSLATE_SMALL,o=jc.TRANSLATE_BIG;return Ye(this,"_keyboardManager",new xm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(t,s){it.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case Ie.FREETEXT_SIZE:pt._defaultFontSize=s;break;case Ie.FREETEXT_COLOR:pt._defaultColor=s;break}}updateParams(t,s){switch(t){case Ie.FREETEXT_SIZE:_(this,Gt,NL).call(this,s);break;case Ie.FREETEXT_COLOR:_(this,Gt,kL).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ie.FREETEXT_SIZE,pt._defaultFontSize],[Ie.FREETEXT_COLOR,pt._defaultColor||it._defaultLineColor]]}get propertiesToUpdate(){return[[Ie.FREETEXT_SIZE,f(this,bs)],[Ie.FREETEXT_COLOR,f(this,Sr)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-pt._internalPadding*t,-(pt._internalPadding+f(this,bs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Be.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),T(this,rc,new AbortController);const t=this._uiManager.combinedSignal(f(this,rc));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,zp)),this._isDraggable=!0,(t=f(this,rc))==null||t.abort(),T(this,rc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,vs),s=T(this,vs,_(this,Gt,TL).call(this).trimEnd());if(t===s)return;const r=o=>{if(T(this,vs,o),!o){this.remove();return}_(this,Gt,Ax).call(this),this._uiManager.rebuild(this),_(this,Gt,wx).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),_(this,Gt,wx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){pt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,zp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,bs)}px * var(--scale-factor))`,r.color=f(this,Sr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Jx(this,this.div,["dblclick","keydown"]),this.width){const[o,a]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[d,h]=this.getInitialTranslation();[d,h]=this.pageTranslationToScreen(d,h);const[p,g]=this.pageDimensions,[x,v]=this.pageTranslation;let w,b;switch(this.rotation){case 0:w=t+(u[0]-x)/p,b=s+this.height-(u[1]-v)/g;break;case 90:w=t+(u[0]-x)/p,b=s-(u[1]-v)/g,[d,h]=[h,-d];break;case 180:w=t-this.width+(u[0]-x)/p,b=s-(u[1]-v)/g,[d,h]=[-d,-h];break;case 270:w=t+(u[0]-x-this.height*g)/p,b=s+(u[1]-v-this.width*p)/g,[d,h]=[-h,d];break}this.setAt(w*o,b*a,d,h)}else this.setAt(t*o,s*a,this.width*o,this.height*a);_(this,Gt,Ax).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var w,b,E;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=_(w=pt,ho,nS).call(w,s.getData("text")||"").replaceAll(Xg,`
`);if(!o)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const u=a.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:d,startOffset:h}=u,p=[],g=[];if(d.nodeType===Node.TEXT_NODE){const A=d.parentElement;if(g.push(d.nodeValue.slice(h).replaceAll(Xg,"")),A!==this.editorDiv){let j=p;for(const k of this.editorDiv.childNodes){if(k===A){j=g;continue}j.push(_(b=pt,ho,Sx).call(b,k))}}p.push(d.nodeValue.slice(0,h).replaceAll(Xg,""))}else if(d===this.editorDiv){let A=p,j=0;for(const k of this.editorDiv.childNodes)j++===h&&(A=g),A.push(_(E=pt,ho,Sx).call(E,k))}T(this,vs,`${p.join(`
`)}${o}${g.join(`
`)}`),_(this,Gt,Ax).call(this);const x=new Range;let v=p.reduce((A,j)=>A+j.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const j=A.nodeValue.length;if(v<=j){x.setStart(A,v),x.setEnd(A,v);break}v-=j}a.removeAllRanges(),a.addRange(x)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,r){var u;let o=null;if(t instanceof SL){const{data:{defaultAppearanceData:{fontSize:d,fontColor:h},rect:p,rotation:g,id:x,popupRef:v},textContent:w,textPosition:b,parent:{page:{pageNumber:E}}}=t;if(!w||w.length===0)return null;o=t={annotationType:Be.FREETEXT,color:Array.from(h),fontSize:d,value:w.join(`
`),position:b,pageIndex:E-1,rect:p.slice(0),rotation:g,id:x,deleted:!1,popupRef:v}}const a=await super.deserialize(t,s,r);return T(a,bs,t.fontSize),T(a,Sr,Se.makeHexColor(...t.color)),T(a,vs,_(u=pt,ho,nS).call(u,t.value)),a.annotationElementId=t.id||null,a._initialData=o,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=pt._internalPadding*this.parentScale,r=this.getRect(s,s),o=it._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,Sr)),a={annotationType:Be.FREETEXT,color:o,fontSize:f(this,bs),value:_(this,Gt,PL).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!_(this,Gt,_L).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${f(this,bs)}px * var(--scale-factor))`,r.color=f(this,Sr),s.replaceChildren();for(const a of f(this,vs).split(`
`)){const u=document.createElement("div");u.append(a?document.createTextNode(a):document.createElement("br")),s.append(u)}const o=pt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:f(this,vs)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Sr=new WeakMap,vs=new WeakMap,zp=new WeakMap,rc=new WeakMap,bs=new WeakMap,Gt=new WeakSet,NL=function(t){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-f(this,bs))*this.parentScale),T(this,bs,o),_(this,Gt,wx).call(this)},r=f(this,bs);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},kL=function(t){const s=o=>{T(this,Sr,this.editorDiv.style.color=o)},r=f(this,Sr);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TL=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(_(r=pt,ho,Sx).call(r,o)),s=o);return t.join(`
`)},wx=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:a}=this,u=a.style.display,d=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",o.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=u,a.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},ho=new WeakSet,Sx=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Xg,"")},Ax=function(){if(this.editorDiv.replaceChildren(),!!f(this,vs))for(const t of f(this,vs).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},PL=function(){return f(this,vs).replaceAll(" "," ")},nS=function(t){return t.replaceAll(" "," ")},_L=function(t){const{value:s,fontSize:r,color:o,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((u,d)=>u!==o[d])||t.pageIndex!==a},I(pt,ho),Le(pt,"_freeTextDefaultContent",""),Le(pt,"_internalPadding",0),Le(pt,"_defaultColor",null),Le(pt,"_defaultFontSize",10),Le(pt,"_type","freetext"),Le(pt,"_editorType",Be.FREETEXT);let tS=pt;class RL{toSVGPath(){vt("Abstract method `toSVGPath` must be implemented.")}get box(){vt("Abstract getter `box` must be implemented.")}serialize(e,t){vt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){vt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){vt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ws,Ar,Ad,Cd,ii,We,ic,oc,Up,Hp,Ed,jd,ya,Wp,yy,vy,en,pf,LL,IL,ML,DL,OL,FL;const Li=class Li{constructor({x:e,y:t},s,r,o,a,u=0){I(this,en);I(this,ws);I(this,Ar,[]);I(this,Ad);I(this,Cd);I(this,ii,[]);I(this,We,new Float64Array(18));I(this,ic);I(this,oc);I(this,Up);I(this,Hp);I(this,Ed);I(this,jd);I(this,ya,[]);T(this,ws,s),T(this,jd,o*r),T(this,Cd,a),f(this,We).set([NaN,NaN,NaN,NaN,e,t],6),T(this,Ad,u),T(this,Hp,f(Li,Wp)*r),T(this,Up,f(Li,vy)*r),T(this,Ed,r),f(this,ya).push(e,t)}isEmpty(){return isNaN(f(this,We)[8])}add({x:e,y:t}){var B;T(this,ic,e),T(this,oc,t);const[s,r,o,a]=f(this,ws);let[u,d,h,p]=f(this,We).subarray(8,12);const g=e-h,x=t-p,v=Math.hypot(g,x);if(v<f(this,Up))return!1;const w=v-f(this,Hp),b=w/v,E=b*g,A=b*x;let j=u,k=d;u=h,d=p,h+=E,p+=A,(B=f(this,ya))==null||B.push(e,t);const P=-A/w,R=E/w,M=P*f(this,jd),D=R*f(this,jd);return f(this,We).set(f(this,We).subarray(2,8),0),f(this,We).set([h+M,p+D],4),f(this,We).set(f(this,We).subarray(14,18),12),f(this,We).set([h-M,p-D],16),isNaN(f(this,We)[6])?(f(this,ii).length===0&&(f(this,We).set([u+M,d+D],2),f(this,ii).push(NaN,NaN,NaN,NaN,(u+M-s)/o,(d+D-r)/a),f(this,We).set([u-M,d-D],14),f(this,Ar).push(NaN,NaN,NaN,NaN,(u-M-s)/o,(d-D-r)/a)),f(this,We).set([j,k,u,d,h,p],6),!this.isEmpty()):(f(this,We).set([j,k,u,d,h,p],6),Math.abs(Math.atan2(k-d,j-u)-Math.atan2(A,E))<Math.PI/2?([u,d,h,p]=f(this,We).subarray(2,6),f(this,ii).push(NaN,NaN,NaN,NaN,((u+h)/2-s)/o,((d+p)/2-r)/a),[u,d,j,k]=f(this,We).subarray(14,18),f(this,Ar).push(NaN,NaN,NaN,NaN,((j+u)/2-s)/o,((k+d)/2-r)/a),!0):([j,k,u,d,h,p]=f(this,We).subarray(0,6),f(this,ii).push(((j+5*u)/6-s)/o,((k+5*d)/6-r)/a,((5*u+h)/6-s)/o,((5*d+p)/6-r)/a,((u+h)/2-s)/o,((d+p)/2-r)/a),[h,p,u,d,j,k]=f(this,We).subarray(12,18),f(this,Ar).push(((j+5*u)/6-s)/o,((k+5*d)/6-r)/a,((5*u+h)/6-s)/o,((5*d+p)/6-r)/a,((u+h)/2-s)/o,((d+p)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,ii),t=f(this,Ar);if(isNaN(f(this,We)[6])&&!this.isEmpty())return _(this,en,LL).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);_(this,en,ML).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return _(this,en,IL).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,o,a){return new BL(e,t,s,r,o,a)}getOutlines(){var g;const e=f(this,ii),t=f(this,Ar),s=f(this,We),[r,o,a,u]=f(this,ws),d=new Float64Array((((g=f(this,ya))==null?void 0:g.length)??0)+2);for(let x=0,v=d.length-2;x<v;x+=2)d[x]=(f(this,ya)[x]-r)/a,d[x+1]=(f(this,ya)[x+1]-o)/u;if(d[d.length-2]=(f(this,ic)-r)/a,d[d.length-1]=(f(this,oc)-o)/u,isNaN(s[6])&&!this.isEmpty())return _(this,en,DL).call(this,d);const h=new Float64Array(f(this,ii).length+24+f(this,Ar).length);let p=e.length;for(let x=0;x<p;x+=2){if(isNaN(e[x])){h[x]=h[x+1]=NaN;continue}h[x]=e[x],h[x+1]=e[x+1]}p=_(this,en,FL).call(this,h,p);for(let x=t.length-6;x>=6;x-=6)for(let v=0;v<6;v+=2){if(isNaN(t[x+v])){h[p]=h[p+1]=NaN,p+=2;continue}h[p]=t[x+v],h[p+1]=t[x+v+1],p+=2}return _(this,en,OL).call(this,h,p),this.newFreeDrawOutline(h,d,f(this,ws),f(this,Ed),f(this,Ad),f(this,Cd))}};ws=new WeakMap,Ar=new WeakMap,Ad=new WeakMap,Cd=new WeakMap,ii=new WeakMap,We=new WeakMap,ic=new WeakMap,oc=new WeakMap,Up=new WeakMap,Hp=new WeakMap,Ed=new WeakMap,jd=new WeakMap,ya=new WeakMap,Wp=new WeakMap,yy=new WeakMap,vy=new WeakMap,en=new WeakSet,pf=function(){const e=f(this,We).subarray(4,6),t=f(this,We).subarray(16,18),[s,r,o,a]=f(this,ws);return[(f(this,ic)+(e[0]-t[0])/2-s)/o,(f(this,oc)+(e[1]-t[1])/2-r)/a,(f(this,ic)+(t[0]-e[0])/2-s)/o,(f(this,oc)+(t[1]-e[1])/2-r)/a]},LL=function(){const[e,t,s,r]=f(this,ws),[o,a,u,d]=_(this,en,pf).call(this);return`M${(f(this,We)[2]-e)/s} ${(f(this,We)[3]-t)/r} L${(f(this,We)[4]-e)/s} ${(f(this,We)[5]-t)/r} L${o} ${a} L${u} ${d} L${(f(this,We)[16]-e)/s} ${(f(this,We)[17]-t)/r} L${(f(this,We)[14]-e)/s} ${(f(this,We)[15]-t)/r} Z`},IL=function(e){const t=f(this,Ar);e.push(`L${t[4]} ${t[5]} Z`)},ML=function(e){const[t,s,r,o]=f(this,ws),a=f(this,We).subarray(4,6),u=f(this,We).subarray(16,18),[d,h,p,g]=_(this,en,pf).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-s)/o} L${d} ${h} L${p} ${g} L${(u[0]-t)/r} ${(u[1]-s)/o}`)},DL=function(e){const t=f(this,We),[s,r,o,a]=f(this,ws),[u,d,h,p]=_(this,en,pf).call(this),g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-s)/o,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-s)/o,(t[5]-r)/a,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(t[16]-s)/o,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-s)/o,(t[15]-r)/a],0),this.newFreeDrawOutline(g,e,f(this,ws),f(this,Ed),f(this,Ad),f(this,Cd))},OL=function(e,t){const s=f(this,Ar);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},FL=function(e,t){const s=f(this,We).subarray(4,6),r=f(this,We).subarray(16,18),[o,a,u,d]=f(this,ws),[h,p,g,x]=_(this,en,pf).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-o)/u,(s[1]-a)/d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,g,x,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-a)/d],t),t+=24},I(Li,Wp,8),I(Li,yy,2),I(Li,vy,f(Li,Wp)+f(Li,yy));let ey=Li;var Nd,ac,Xi,Gp,Ss,Kp,Ft,cs,mf,gf,$L;class BL extends RL{constructor(t,s,r,o,a,u){super();I(this,cs);I(this,Nd);I(this,ac,null);I(this,Xi);I(this,Gp);I(this,Ss);I(this,Kp);I(this,Ft);T(this,Ft,t),T(this,Ss,s),T(this,Nd,r),T(this,Kp,o),T(this,Xi,a),T(this,Gp,u),_(this,cs,$L).call(this,u);const{x:d,y:h,width:p,height:g}=f(this,ac);for(let x=0,v=t.length;x<v;x+=2)t[x]=(t[x]-d)/p,t[x+1]=(t[x+1]-h)/g;for(let x=0,v=s.length;x<v;x+=2)s[x]=(s[x]-d)/p,s[x+1]=(s[x+1]-h)/g}toSVGPath(){const t=[`M${f(this,Ft)[4]} ${f(this,Ft)[5]}`];for(let s=6,r=f(this,Ft).length;s<r;s+=6){if(isNaN(f(this,Ft)[s])){t.push(`L${f(this,Ft)[s+4]} ${f(this,Ft)[s+5]}`);continue}t.push(`C${f(this,Ft)[s]} ${f(this,Ft)[s+1]} ${f(this,Ft)[s+2]} ${f(this,Ft)[s+3]} ${f(this,Ft)[s+4]} ${f(this,Ft)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,o],a){const u=r-t,d=o-s;let h,p;switch(a){case 0:h=_(this,cs,mf).call(this,f(this,Ft),t,o,u,-d),p=_(this,cs,mf).call(this,f(this,Ss),t,o,u,-d);break;case 90:h=_(this,cs,gf).call(this,f(this,Ft),t,s,u,d),p=_(this,cs,gf).call(this,f(this,Ss),t,s,u,d);break;case 180:h=_(this,cs,mf).call(this,f(this,Ft),r,s,-u,d),p=_(this,cs,mf).call(this,f(this,Ss),r,s,-u,d);break;case 270:h=_(this,cs,gf).call(this,f(this,Ft),r,o,-u,-d),p=_(this,cs,gf).call(this,f(this,Ss),r,o,-u,-d);break}return{outline:Array.from(h),points:[Array.from(p)]}}get box(){return f(this,ac)}newOutliner(t,s,r,o,a,u=0){return new ey(t,s,r,o,a,u)}getNewOutline(t,s){const{x:r,y:o,width:a,height:u}=f(this,ac),[d,h,p,g]=f(this,Nd),x=a*p,v=u*g,w=r*p+d,b=o*g+h,E=this.newOutliner({x:f(this,Ss)[0]*x+w,y:f(this,Ss)[1]*v+b},f(this,Nd),f(this,Kp),t,f(this,Gp),s??f(this,Xi));for(let A=2;A<f(this,Ss).length;A+=2)E.add({x:f(this,Ss)[A]*x+w,y:f(this,Ss)[A+1]*v+b});return E.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Nd=new WeakMap,ac=new WeakMap,Xi=new WeakMap,Gp=new WeakMap,Ss=new WeakMap,Kp=new WeakMap,Ft=new WeakMap,cs=new WeakSet,mf=function(t,s,r,o,a){const u=new Float64Array(t.length);for(let d=0,h=t.length;d<h;d+=2)u[d]=s+t[d]*o,u[d+1]=r+t[d+1]*a;return u},gf=function(t,s,r,o,a){const u=new Float64Array(t.length);for(let d=0,h=t.length;d<h;d+=2)u[d]=s+t[d+1]*o,u[d+1]=r+t[d]*a;return u},$L=function(t){const s=f(this,Ft);let r=s[4],o=s[5],a=r,u=o,d=r,h=o,p=r,g=o;const x=t?Math.max:Math.min;for(let A=6,j=s.length;A<j;A+=6){if(isNaN(s[A]))a=Math.min(a,s[A+4]),u=Math.min(u,s[A+5]),d=Math.max(d,s[A+4]),h=Math.max(h,s[A+5]),g<s[A+5]?(p=s[A+4],g=s[A+5]):g===s[A+5]&&(p=x(p,s[A+4]));else{const k=Se.bezierBoundingBox(r,o,...s.slice(A,A+6));a=Math.min(a,k[0]),u=Math.min(u,k[1]),d=Math.max(d,k[2]),h=Math.max(h,k[3]),g<k[3]?(p=k[2],g=k[3]):g===k[3]&&(p=x(p,k[2]))}r=s[A+4],o=s[A+5]}const v=a-f(this,Xi),w=u-f(this,Xi),b=d-a+2*f(this,Xi),E=h-u+2*f(this,Xi);T(this,ac,{x:v,y:w,width:b,height:E,lastPoint:[p,g]})};var qp,va,Cr,Kn,VL,Cx,zL,UL,sS;class zk{constructor(e,t=0,s=0,r=!0){I(this,Kn);I(this,qp);I(this,va,[]);I(this,Cr,[]);let o=1/0,a=-1/0,u=1/0,d=-1/0;const h=10**-4;for(const{x:E,y:A,width:j,height:k}of e){const P=Math.floor((E-t)/h)*h,R=Math.ceil((E+j+t)/h)*h,M=Math.floor((A-t)/h)*h,D=Math.ceil((A+k+t)/h)*h,O=[P,M,D,!0],B=[R,M,D,!1];f(this,va).push(O,B),o=Math.min(o,P),a=Math.max(a,R),u=Math.min(u,M),d=Math.max(d,D)}const p=a-o+2*s,g=d-u+2*s,x=o-s,v=u-s,w=f(this,va).at(r?-1:-2),b=[w[0],w[2]];for(const E of f(this,va)){const[A,j,k]=E;E[0]=(A-x)/p,E[1]=(j-v)/g,E[2]=(k-v)/g}T(this,qp,{x,y:v,width:p,height:g,lastPoint:b})}getOutlines(){f(this,va).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of f(this,va))t[3]?(e.push(..._(this,Kn,sS).call(this,t)),_(this,Kn,zL).call(this,t)):(_(this,Kn,UL).call(this,t),e.push(..._(this,Kn,sS).call(this,t)));return _(this,Kn,VL).call(this,e)}}qp=new WeakMap,va=new WeakMap,Cr=new WeakMap,Kn=new WeakSet,VL=function(e){const t=[],s=new Set;for(const a of e){const[u,d,h]=a;t.push([u,d,a],[u,h,a])}t.sort((a,u)=>a[1]-u[1]||a[0]-u[0]);for(let a=0,u=t.length;a<u;a+=2){const d=t[a][2],h=t[a+1][2];d.push(h),h.push(d),s.add(d),s.add(h)}const r=[];let o;for(;s.size>0;){const a=s.values().next().value;let[u,d,h,p,g]=a;s.delete(a);let x=u,v=d;for(o=[u,h],r.push(o);;){let w;if(s.has(p))w=p;else if(s.has(g))w=g;else break;s.delete(w),[u,d,h,p,g]=w,x!==u&&(o.push(x,v,u,v===d?d:h),x=u),v=v===d?h:d}o.push(x,v)}return new F7(r,f(this,qp))},Cx=function(e){const t=f(this,Cr);let s=0,r=t.length-1;for(;s<=r;){const o=s+r>>1,a=t[o][0];if(a===e)return o;a<e?s=o+1:r=o-1}return r+1},zL=function([,e,t]){const s=_(this,Kn,Cx).call(this,e);f(this,Cr).splice(s,0,[e,t])},UL=function([,e,t]){const s=_(this,Kn,Cx).call(this,e);for(let r=s;r<f(this,Cr).length;r++){const[o,a]=f(this,Cr)[r];if(o!==e)break;if(o===e&&a===t){f(this,Cr).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,a]=f(this,Cr)[r];if(o!==e)break;if(o===e&&a===t){f(this,Cr).splice(r,1);return}}},sS=function(e){const[t,s,r]=e,o=[[t,s,r]],a=_(this,Kn,Cx).call(this,r);for(let u=0;u<a;u++){const[d,h]=f(this,Cr)[u];for(let p=0,g=o.length;p<g;p++){const[,x,v]=o[p];if(!(h<=x||v<=d)){if(x>=d){if(v>h)o[p][1]=h;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=d,v>h&&o.push([t,h,v])}}}return o};var Xp,kd;class F7 extends RL{constructor(t,s){super();I(this,Xp);I(this,kd);T(this,kd,t),T(this,Xp,s)}toSVGPath(){const t=[];for(const s of f(this,kd)){let[r,o]=s;t.push(`M${r} ${o}`);for(let a=2;a<s.length;a+=2){const u=s[a],d=s[a+1];u===r?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${u}`),r=u)}t.push("Z")}return t.join(" ")}serialize([t,s,r,o],a){const u=[],d=r-t,h=o-s;for(const p of f(this,kd)){const g=new Array(p.length);for(let x=0;x<p.length;x+=2)g[x]=t+p[x]*d,g[x+1]=o-p[x+1]*h;u.push(g)}return u}get box(){return f(this,Xp)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Xp=new WeakMap,kd=new WeakMap;class rS extends ey{newFreeDrawOutline(e,t,s,r,o,a){return new B7(e,t,s,r,o,a)}get classNamesForDrawing(){return["highlight","free"]}}class B7 extends BL{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,s,r,o,a=0){return new rS(e,t,s,r,o,a)}}var Er,lc,Td,Qt,Yp,Pd,Qp,Jp,ba,jr,_d,Zp,at,iS,oS,aS,cl,HL,Ho;const ns=class ns{constructor({editor:e=null,uiManager:t=null}){I(this,at);I(this,Er,null);I(this,lc,null);I(this,Td);I(this,Qt,null);I(this,Yp,!1);I(this,Pd,!1);I(this,Qp,null);I(this,Jp);I(this,ba,null);I(this,jr,null);I(this,_d);var s;e?(T(this,Pd,!1),T(this,_d,Ie.HIGHLIGHT_COLOR),T(this,Qp,e)):(T(this,Pd,!0),T(this,_d,Ie.HIGHLIGHT_DEFAULT_COLOR)),T(this,jr,(e==null?void 0:e._uiManager)||t),T(this,Jp,f(this,jr)._eventBus),T(this,Td,(e==null?void 0:e.color)||((s=f(this,jr))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),f(ns,Zp)||T(ns,Zp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ye(this,"_keyboardManager",new xm([[["Escape","mac+Escape"],ns.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ns.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ns.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ns.prototype._moveToPrevious],[["Home","mac+Home"],ns.prototype._moveToBeginning],[["End","mac+End"],ns.prototype._moveToEnd]]))}renderButton(){const e=T(this,Er,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=f(this,jr)._signal;e.addEventListener("click",_(this,at,cl).bind(this),{signal:t}),e.addEventListener("keydown",_(this,at,aS).bind(this),{signal:t});const s=T(this,lc,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=f(this,Td),e.append(s),e}renderMainDropdown(){const e=T(this,Qt,_(this,at,iS).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===f(this,Er)){_(this,at,cl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,at,oS).call(this,t,e)}_moveToNext(e){var t,s;if(!f(this,at,Ho)){_(this,at,cl).call(this,e);return}if(e.target===f(this,Er)){(t=f(this,Qt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=f(this,Qt))==null?void 0:t.firstChild)||e.target===f(this,Er)){f(this,at,Ho)&&this._hideDropdownFromKeyboard();return}f(this,at,Ho)||_(this,at,cl).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!f(this,at,Ho)){_(this,at,cl).call(this,e);return}(t=f(this,Qt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,at,Ho)){_(this,at,cl).call(this,e);return}(t=f(this,Qt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Qt))==null||e.classList.add("hidden"),(t=f(this,ba))==null||t.abort(),T(this,ba,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Pd)){if(!f(this,at,Ho)){(e=f(this,Qp))==null||e.unselect();return}this.hideDropdown(),f(this,Er).focus({preventScroll:!0,focusVisible:f(this,Yp)})}}updateColor(e){if(f(this,lc)&&(f(this,lc).style.backgroundColor=e),!f(this,Qt))return;const t=f(this,jr).highlightColors.values();for(const s of f(this,Qt).children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=f(this,Er))==null||e.remove(),T(this,Er,null),T(this,lc,null),(t=f(this,Qt))==null||t.remove(),T(this,Qt,null)}};Er=new WeakMap,lc=new WeakMap,Td=new WeakMap,Qt=new WeakMap,Yp=new WeakMap,Pd=new WeakMap,Qp=new WeakMap,Jp=new WeakMap,ba=new WeakMap,jr=new WeakMap,_d=new WeakMap,Zp=new WeakMap,at=new WeakSet,iS=function(){const e=document.createElement("div"),t=f(this,jr)._signal;e.addEventListener("contextmenu",Zs,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of f(this,jr).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",f(ns,Zp)[s]);const a=document.createElement("span");o.append(a),a.className="swatch",a.style.backgroundColor=r,o.setAttribute("aria-selected",r===f(this,Td)),o.addEventListener("click",_(this,at,oS).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",_(this,at,aS).bind(this),{signal:t}),e},oS=function(e,t){t.stopPropagation(),f(this,Jp).dispatch("switchannotationeditorparams",{source:this,type:f(this,_d),value:e})},aS=function(e){ns._keyboardManager.exec(this,e)},cl=function(e){if(f(this,at,Ho)){this.hideDropdown();return}if(T(this,Yp,e.detail===0),f(this,ba)||(T(this,ba,new AbortController),window.addEventListener("pointerdown",_(this,at,HL).bind(this),{signal:f(this,jr).combinedSignal(f(this,ba))})),f(this,Qt)){f(this,Qt).classList.remove("hidden");return}const t=T(this,Qt,_(this,at,iS).call(this));f(this,Er).append(t)},HL=function(e){var t;(t=f(this,Qt))!=null&&t.contains(e.target)||this.hideDropdown()},Ho=function(){return f(this,Qt)&&!f(this,Qt).classList.contains("hidden")},I(ns,Zp,null);let ty=ns;var Rd,em,Yi,cc,Ld,Ws,tm,nm,uc,Nr,Rn,os,Id,Qi,Jt,Md,Gs,sm,Oe,lS,Ex,WL,GL,KL,cS,ul,Ys,mu,qL,jx,xf,XL,YL,QL,JL,ZL;const Ze=class Ze extends it{constructor(t){super({...t,name:"highlightEditor"});I(this,Oe);I(this,Rd,null);I(this,em,0);I(this,Yi);I(this,cc,null);I(this,Ld,null);I(this,Ws,null);I(this,tm,null);I(this,nm,0);I(this,uc,null);I(this,Nr,null);I(this,Rn,null);I(this,os,!1);I(this,Id,null);I(this,Qi);I(this,Jt,null);I(this,Md,"");I(this,Gs);I(this,sm,"");this.color=t.color||Ze._defaultColor,T(this,Gs,t.thickness||Ze._defaultThickness),T(this,Qi,t.opacity||Ze._defaultOpacity),T(this,Yi,t.boxes||null),T(this,sm,t.methodOfCreation||""),T(this,Md,t.text||""),this._isDraggable=!1,t.highlightId>-1?(T(this,os,!0),_(this,Oe,Ex).call(this,t),_(this,Oe,ul).call(this)):f(this,Yi)&&(T(this,Rd,t.anchorNode),T(this,em,t.anchorOffset),T(this,tm,t.focusNode),T(this,nm,t.focusOffset),_(this,Oe,lS).call(this),_(this,Oe,ul).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ze.prototype;return Ye(this,"_keyboardManager",new xm([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,os)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:f(this,Gs),methodOfCreation:f(this,sm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;it.initialize(t,s),Ze._defaultColor||(Ze._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case Ie.HIGHLIGHT_DEFAULT_COLOR:Ze._defaultColor=s;break;case Ie.HIGHLIGHT_THICKNESS:Ze._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return f(this,Id)}updateParams(t,s){switch(t){case Ie.HIGHLIGHT_COLOR:_(this,Oe,WL).call(this,s);break;case Ie.HIGHLIGHT_THICKNESS:_(this,Oe,GL).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ie.HIGHLIGHT_DEFAULT_COLOR,Ze._defaultColor],[Ie.HIGHLIGHT_THICKNESS,Ze._defaultThickness]]}get propertiesToUpdate(){return[[Ie.HIGHLIGHT_COLOR,this.color||Ze._defaultColor],[Ie.HIGHLIGHT_THICKNESS,f(this,Gs)||Ze._defaultThickness],[Ie.HIGHLIGHT_FREE,f(this,os)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(T(this,Ld,new ty({editor:this})),t.addColorPicker(f(this,Ld))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Oe,xf).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,_(this,Oe,xf).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,Oe,cS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Oe,ul).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?_(this,Oe,cS).call(this):t&&(_(this,Oe,ul).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var o,a,u;const{drawLayer:s}=this.parent;let r;f(this,os)?(t=(t-this.rotation+360)%360,r=_(o=Ze,Ys,mu).call(o,f(this,Nr).box,t)):r=_(a=Ze,Ys,mu).call(a,this,t),s.rotate(f(this,Rn),t),s.rotate(f(this,Jt),t),s.updateBox(f(this,Rn),r),s.updateBox(f(this,Jt),_(u=Ze,Ys,mu).call(u,f(this,Ws).box,t))}render(){if(this.div)return this.div;const t=super.render();f(this,Md)&&(t.setAttribute("aria-label",f(this,Md)),t.setAttribute("role","mark")),f(this,os)?t.classList.add("free"):this.div.addEventListener("keydown",_(this,Oe,qL).bind(this),{signal:this._uiManager._signal});const s=T(this,uc,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=f(this,cc);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Jx(this,f(this,uc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(f(this,Jt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(f(this,Jt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,Oe,jx).call(this,!0);break;case 1:case 3:_(this,Oe,jx).call(this,!1);break}}select(){var t,s;super.select(),f(this,Jt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,Jt),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(f(this,Jt),"selected"))}unselect(){var t;super.unselect(),f(this,Jt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,Jt),"selected"),f(this,os)||_(this,Oe,jx).call(this,!1))}get _mustFixPosition(){return!f(this,os)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(f(this,Rn),t),this.parent.drawLayer.show(f(this,Jt),t))}static startHighlighting(t,s,{target:r,x:o,y:a}){const{x:u,y:d,width:h,height:p}=r.getBoundingClientRect(),g=new AbortController,x=t.combinedSignal(g),v=b=>{b.preventDefault(),b.stopPropagation()},w=b=>{g.abort(),_(this,Ys,JL).call(this,t,b)};window.addEventListener("blur",w,{signal:x}),window.addEventListener("pointerup",w,{signal:x}),window.addEventListener("pointerdown",v,{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Zs,{signal:x}),r.addEventListener("pointermove",_(this,Ys,QL).bind(this,t),{signal:x}),this._freeHighlight=new rS({x:o,y:a},[u,d,h,p],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,s,r){var b,E,A,j;let o=null;if(t instanceof CL){const{data:{quadPoints:k,rect:P,rotation:R,id:M,color:D,opacity:O,popupRef:B},parent:{page:{pageNumber:z}}}=t;o=t={annotationType:Be.HIGHLIGHT,color:Array.from(D),opacity:O,quadPoints:k,boxes:null,pageIndex:z-1,rect:P.slice(0),rotation:R,id:M,deleted:!1,popupRef:B}}else if(t instanceof oA){const{data:{inkLists:k,rect:P,rotation:R,id:M,color:D,borderStyle:{rawWidth:O},popupRef:B},parent:{page:{pageNumber:z}}}=t;o=t={annotationType:Be.HIGHLIGHT,color:Array.from(D),thickness:O,inkLists:k,boxes:null,pageIndex:z-1,rect:P.slice(0),rotation:R,id:M,deleted:!1,popupRef:B}}const{color:a,quadPoints:u,inkLists:d,opacity:h}=t,p=await super.deserialize(t,s,r);p.color=Se.makeHexColor(...a),T(p,Qi,h||1),d&&T(p,Gs,t.thickness),p.annotationElementId=t.id||null,p._initialData=o;const[g,x]=p.pageDimensions,[v,w]=p.pageTranslation;if(u){const k=T(p,Yi,[]);for(let P=0;P<u.length;P+=8)k.push({x:(u[P]-v)/g,y:1-(u[P+1]-w)/x,width:(u[P+2]-u[P])/g,height:(u[P+1]-u[P+5])/x});_(b=p,Oe,lS).call(b),_(E=p,Oe,ul).call(E),p.rotate(p.rotation)}else if(d){T(p,os,!0);const k=d[0],P={x:k[0]-v,y:x-(k[1]-w)},R=new rS(P,[0,0,g,x],1,f(p,Gs)/2,!0,.001);for(let O=0,B=k.length;O<B;O+=2)P.x=k[O]-v,P.y=x-(k[O+1]-w),R.add(P);const{id:M,clipPathId:D}=s.drawLayer.draw(R,p.color,p._defaultOpacity,!0);_(A=p,Oe,Ex).call(A,{highlightOutlines:R.getOutlines(),highlightId:M,clipPathId:D}),_(j=p,Oe,ul).call(j)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=it._colorManager.convert(this.color),o={annotationType:Be.HIGHLIGHT,color:r,opacity:f(this,Qi),thickness:f(this,Gs),quadPoints:_(this,Oe,XL).call(this),outlines:_(this,Oe,YL).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:_(this,Oe,xf).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,Oe,ZL).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Rd=new WeakMap,em=new WeakMap,Yi=new WeakMap,cc=new WeakMap,Ld=new WeakMap,Ws=new WeakMap,tm=new WeakMap,nm=new WeakMap,uc=new WeakMap,Nr=new WeakMap,Rn=new WeakMap,os=new WeakMap,Id=new WeakMap,Qi=new WeakMap,Jt=new WeakMap,Md=new WeakMap,Gs=new WeakMap,sm=new WeakMap,Oe=new WeakSet,lS=function(){const t=new zk(f(this,Yi),.001);T(this,Nr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=f(this,Nr).box;const s=new zk(f(this,Yi),.0025,.001,this._uiManager.direction==="ltr");T(this,Ws,s.getOutlines());const{lastPoint:r}=f(this,Ws).box;T(this,Id,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Ex=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var g,x;if(T(this,Nr,t),T(this,Ws,t.getNewOutline(f(this,Gs)/2+1.5,.0025)),s>=0)T(this,Rn,s),T(this,cc,r),this.parent.drawLayer.finalizeLine(s,t),T(this,Jt,this.parent.drawLayer.drawOutline(f(this,Ws)));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(f(this,Rn),t),this.parent.drawLayer.updateBox(f(this,Rn),_(g=Ze,Ys,mu).call(g,f(this,Nr).box,(v-this.rotation+360)%360)),this.parent.drawLayer.updateLine(f(this,Jt),f(this,Ws)),this.parent.drawLayer.updateBox(f(this,Jt),_(x=Ze,Ys,mu).call(x,f(this,Ws).box,v))}const{x:a,y:u,width:d,height:h}=t.box;switch(this.rotation){case 0:this.x=a,this.y=u,this.width=d,this.height=h;break;case 90:{const[v,w]=this.parentDimensions;this.x=u,this.y=1-a,this.width=d*w/v,this.height=h*v/w;break}case 180:this.x=1-a,this.y=1-u,this.width=d,this.height=h;break;case 270:{const[v,w]=this.parentDimensions;this.x=1-u,this.y=a,this.width=d*w/v,this.height=h*v/w;break}}const{lastPoint:p}=f(this,Ws).box;T(this,Id,[(p[0]-a)/d,(p[1]-u)/h])},WL=function(t){const s=(a,u)=>{var d,h,p;this.color=a,(d=this.parent)==null||d.drawLayer.changeColor(f(this,Rn),a),(h=f(this,Ld))==null||h.updateColor(a),T(this,Qi,u),(p=this.parent)==null||p.drawLayer.changeOpacity(f(this,Rn),u)},r=this.color,o=f(this,Qi);this.addCommands({cmd:s.bind(this,t,Ze._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},GL=function(t){const s=f(this,Gs),r=o=>{T(this,Gs,o),_(this,Oe,KL).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},KL=function(t){if(!f(this,os))return;_(this,Oe,Ex).call(this,{highlightOutlines:f(this,Nr).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},cS=function(){f(this,Rn)===null||!this.parent||(this.parent.drawLayer.remove(f(this,Rn)),T(this,Rn,null),this.parent.drawLayer.remove(f(this,Jt)),T(this,Jt,null))},ul=function(t=this.parent){f(this,Rn)===null&&({id:rn(this,Rn)._,clipPathId:rn(this,cc)._}=t.drawLayer.draw(f(this,Nr),this.color,f(this,Qi)),T(this,Jt,t.drawLayer.drawOutline(f(this,Ws))),f(this,uc)&&(f(this,uc).style.clipPath=f(this,cc)))},Ys=new WeakSet,mu=function({x:t,y:s,width:r,height:o},a){switch(a){case 90:return{x:1-s-o,y:t,width:o,height:r};case 180:return{x:1-t-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-t-r,width:o,height:r}}return{x:t,y:s,width:r,height:o}},qL=function(t){Ze._keyboardManager.exec(this,t)},jx=function(t){if(!f(this,Rd))return;const s=window.getSelection();t?s.setPosition(f(this,Rd),f(this,em)):s.setPosition(f(this,tm),f(this,nm))},xf=function(){return f(this,os)?this.rotation:0},XL=function(){if(f(this,os))return null;const[t,s]=this.pageDimensions,[r,o]=this.pageTranslation,a=f(this,Yi),u=new Float32Array(a.length*8);let d=0;for(const{x:h,y:p,width:g,height:x}of a){const v=h*t+r,w=(1-p-x)*s+o;u[d]=u[d+4]=v,u[d+1]=u[d+3]=w,u[d+2]=u[d+6]=v+g*t,u[d+5]=u[d+7]=w+x*s,d+=8}return u},YL=function(t){return f(this,Nr).serialize(t,_(this,Oe,xf).call(this))},QL=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},JL=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ZL=function(t){const{color:s}=this._initialData;return t.color.some((r,o)=>r!==s[o])},I(Ze,Ys),Le(Ze,"_defaultColor",null),Le(Ze,"_defaultOpacity",1),Le(Ze,"_defaultThickness",12),Le(Ze,"_type","highlight"),Le(Ze,"_editorType",Be.HIGHLIGHT),Le(Ze,"_freeHighlightId",-1),Le(Ze,"_freeHighlight",null),Le(Ze,"_freeHighlightClipId","");let ny=Ze;var dc,hc,oi,Ji,Ks,fc,pc,mc,Zi,Dd,gc,xc,wa,ce,eI,tI,nI,sI,dS,rI,hS,iI,oI,aI,lI,cI,dl,fS,pS,mS,Nx,kx,gu,gS,Tx,yo,uI,xS,dI,hI,yS,Px,yf;const jt=class jt extends it{constructor(t){super({...t,name:"inkEditor"});I(this,ce);I(this,dc,0);I(this,hc,0);I(this,oi,null);I(this,Ji,new Path2D);I(this,Ks,!1);I(this,fc,null);I(this,pc,!1);I(this,mc,!1);I(this,Zi,null);I(this,Dd,null);I(this,gc,0);I(this,xc,0);I(this,wa,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,s){it.initialize(t,s)}static updateDefaultParams(t,s){switch(t){case Ie.INK_THICKNESS:jt._defaultThickness=s;break;case Ie.INK_COLOR:jt._defaultColor=s;break;case Ie.INK_OPACITY:jt._defaultOpacity=s/100;break}}updateParams(t,s){switch(t){case Ie.INK_THICKNESS:_(this,ce,eI).call(this,s);break;case Ie.INK_COLOR:_(this,ce,tI).call(this,s);break;case Ie.INK_OPACITY:_(this,ce,nI).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ie.INK_THICKNESS,jt._defaultThickness],[Ie.INK_COLOR,jt._defaultColor||it._defaultLineColor],[Ie.INK_OPACITY,Math.round(jt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ie.INK_THICKNESS,this.thickness||jt._defaultThickness],[Ie.INK_COLOR,this.color||jt._defaultColor||it._defaultLineColor],[Ie.INK_OPACITY,Math.round(100*(this.opacity??jt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,ce,Nx).call(this),_(this,ce,kx).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,ce,gu).call(this)),_(this,ce,yf).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,f(this,oi)&&(clearTimeout(f(this,oi)),T(this,oi,null)),(t=f(this,Zi))==null||t.disconnect(),T(this,Zi,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,s]=this.parentDimensions,r=this.width*t,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){f(this,Ks)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,_(this,ce,fS).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),_(this,ce,pS).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){f(this,Ks)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),T(this,Ks,!0),this.div.classList.add("disabled"),_(this,ce,yf).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||f(this,Ks)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,ce,rI).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,ce,hS).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,ce,mS).call(this,t)}canvasPointerleave(t){_(this,ce,mS).call(this,t)}get isResizable(){return!this.isEmpty()&&f(this,Ks)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,a,u]=_(this,ce,sI).call(this);if(this.setAt(r,o,0,0),this.setDims(a,u),_(this,ce,Nx).call(this),this.width){const[d,h]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*h),this.setAt(t*d,s*h,this.width*d,this.height*h),T(this,mc,!0),_(this,ce,gu).call(this),this.setDims(this.width*d,this.height*h),_(this,ce,dl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,ce,kx).call(this),this.div}setDimensions(t,s){const r=Math.round(t),o=Math.round(s);if(f(this,gc)===r&&f(this,xc)===o)return;T(this,gc,r),T(this,xc,o),this.canvas.style.visibility="hidden";const[a,u]=this.parentDimensions;this.width=t/a,this.height=s/u,this.fixAndSetPosition(),f(this,Ks)&&_(this,ce,gS).call(this,t,s),_(this,ce,gu).call(this),_(this,ce,dl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,s,r){var E,A,j;if(t instanceof oA)return null;const o=await super.deserialize(t,s,r);o.thickness=t.thickness,o.color=Se.makeHexColor(...t.color),o.opacity=t.opacity;const[a,u]=o.pageDimensions,d=o.width*a,h=o.height*u,p=o.parentScale,g=t.thickness/2;T(o,Ks,!0),T(o,gc,Math.round(d)),T(o,xc,Math.round(h));const{paths:x,rect:v,rotation:w}=t;for(let{bezier:k}of x){k=_(E=jt,yo,dI).call(E,k,v,w);const P=[];o.paths.push(P);let R=p*(k[0]-g),M=p*(k[1]-g);for(let O=2,B=k.length;O<B;O+=6){const z=p*(k[O]-g),K=p*(k[O+1]-g),X=p*(k[O+2]-g),ee=p*(k[O+3]-g),J=p*(k[O+4]-g),ae=p*(k[O+5]-g);P.push([[R,M],[z,K],[X,ee],[J,ae]]),R=J,M=ae}const D=_(this,yo,uI).call(this,P);o.bezierPath2D.push(D)}const b=_(A=o,ce,yS).call(A);return T(o,hc,Math.max(it.MIN_SIZE,b[2]-b[0])),T(o,dc,Math.max(it.MIN_SIZE,b[3]-b[1])),_(j=o,ce,gS).call(j,d,h),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),s=it._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Be.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:_(this,ce,hI).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};dc=new WeakMap,hc=new WeakMap,oi=new WeakMap,Ji=new WeakMap,Ks=new WeakMap,fc=new WeakMap,pc=new WeakMap,mc=new WeakMap,Zi=new WeakMap,Dd=new WeakMap,gc=new WeakMap,xc=new WeakMap,wa=new WeakMap,ce=new WeakSet,eI=function(t){const s=o=>{this.thickness=o,_(this,ce,yf).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},tI=function(t){const s=o=>{this.color=o,_(this,ce,dl).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},nI=function(t){const s=o=>{this.opacity=o,_(this,ce,dl).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},sI=function(){const{parentRotation:t,parentDimensions:[s,r]}=this;switch(t){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},dS=function(){const{ctx:t,color:s,opacity:r,thickness:o,parentScale:a,scaleFactor:u}=this;t.lineWidth=o*a/u,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${s}${aG(r)}`},rI=function(t,s){this.canvas.addEventListener("contextmenu",Zs,{signal:this._uiManager._signal}),_(this,ce,pS).call(this),T(this,fc,new AbortController);const r=this._uiManager.combinedSignal(f(this,fc));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,f(this,mc)||(T(this,mc,!0),_(this,ce,gu).call(this),this.thickness||(this.thickness=jt._defaultThickness),this.color||(this.color=jt._defaultColor||it._defaultLineColor),this.opacity??(this.opacity=jt._defaultOpacity)),this.currentPath.push([t,s]),T(this,pc,!1),_(this,ce,dS).call(this),T(this,wa,()=>{_(this,ce,aI).call(this),f(this,wa)&&window.requestAnimationFrame(f(this,wa))}),window.requestAnimationFrame(f(this,wa))},hS=function(t,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&s===o)return;const a=this.currentPath;let u=f(this,Ji);if(a.push([t,s]),T(this,pc,!0),a.length<=2){u.moveTo(...a[0]),u.lineTo(t,s);return}a.length===3&&(T(this,Ji,u=new Path2D),u.moveTo(...a[0])),_(this,ce,lI).call(this,u,...a.at(-3),...a.at(-2),t,s)},iI=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);f(this,Ji).lineTo(...t)},oI=function(t,s){T(this,wa,null),t=Math.min(Math.max(t,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),_(this,ce,hS).call(this,t,s),_(this,ce,iI).call(this);let r;if(this.currentPath.length!==1)r=_(this,ce,cI).call(this);else{const h=[t,s];r=[[h,h.slice(),h.slice(),h]]}const o=f(this,Ji),a=this.currentPath;this.currentPath=[],T(this,Ji,new Path2D);const u=()=>{this.allRawPaths.push(a),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,ce,Nx).call(this),_(this,ce,kx).call(this)),_(this,ce,yf).call(this))};this.addCommands({cmd:u,undo:d,mustExec:!0})},aI=function(){if(!f(this,pc))return;T(this,pc,!1);const t=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(u=>u[0]),o=s.map(u=>u[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)a.stroke(u);a.stroke(f(this,Ji)),a.restore()},lI=function(t,s,r,o,a,u,d){const h=(s+o)/2,p=(r+a)/2,g=(o+u)/2,x=(a+d)/2;t.bezierCurveTo(h+2*(o-h)/3,p+2*(a-p)/3,g+2*(o-g)/3,x+2*(a-x)/3,g,x)},cI=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const s=[];let r,[o,a]=t[0];for(r=1;r<t.length-2;r++){const[v,w]=t[r],[b,E]=t[r+1],A=(v+b)/2,j=(w+E)/2,k=[o+2*(v-o)/3,a+2*(w-a)/3],P=[A+2*(v-A)/3,j+2*(w-j)/3];s.push([[o,a],k,P,[A,j]]),[o,a]=[A,j]}const[u,d]=t[r],[h,p]=t[r+1],g=[o+2*(u-o)/3,a+2*(d-a)/3],x=[h+2*(u-h)/3,p+2*(d-p)/3];return s.push([[o,a],g,x,[h,p]]),s},dl=function(){if(this.isEmpty()){_(this,ce,Tx).call(this);return}_(this,ce,dS).call(this);const{canvas:t,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),_(this,ce,Tx).call(this);for(const r of this.bezierPath2D)s.stroke(r)},fS=function(){if(f(this,Dd))return;T(this,Dd,new AbortController);const t=this._uiManager.combinedSignal(f(this,Dd));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},pS=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},mS=function(t){var s;(s=f(this,fc))==null||s.abort(),T(this,fc,null),_(this,ce,fS).call(this),f(this,oi)&&clearTimeout(f(this,oi)),T(this,oi,setTimeout(()=>{T(this,oi,null),this.canvas.removeEventListener("contextmenu",Zs)},10)),_(this,ce,oI).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Nx=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},kx=function(){T(this,Zi,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),f(this,Zi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,Zi))==null||t.disconnect(),T(this,Zi,null)},{once:!0})},gu=function(){if(!f(this,mc))return;const[t,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*s),_(this,ce,Tx).call(this)},gS=function(t,s){const r=_(this,ce,Px).call(this),o=(t-r)/f(this,hc),a=(s-r)/f(this,dc);this.scaleFactor=Math.min(o,a)},Tx=function(){const t=_(this,ce,Px).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},yo=new WeakSet,uI=function(t){const s=new Path2D;for(let r=0,o=t.length;r<o;r++){const[a,u,d,h]=t[r];r===0&&s.moveTo(...a),s.bezierCurveTo(u[0],u[1],d[0],d[1],h[0],h[1])}return s},xS=function(t,s,r){const[o,a,u,d]=s;switch(r){case 0:for(let h=0,p=t.length;h<p;h+=2)t[h]+=o,t[h+1]=d-t[h+1];break;case 90:for(let h=0,p=t.length;h<p;h+=2){const g=t[h];t[h]=t[h+1]+o,t[h+1]=g+a}break;case 180:for(let h=0,p=t.length;h<p;h+=2)t[h]=u-t[h],t[h+1]+=a;break;case 270:for(let h=0,p=t.length;h<p;h+=2){const g=t[h];t[h]=u-t[h+1],t[h+1]=d-g}break;default:throw new Error("Invalid rotation")}return t},dI=function(t,s,r){const[o,a,u,d]=s;switch(r){case 0:for(let h=0,p=t.length;h<p;h+=2)t[h]-=o,t[h+1]=d-t[h+1];break;case 90:for(let h=0,p=t.length;h<p;h+=2){const g=t[h];t[h]=t[h+1]-a,t[h+1]=g-o}break;case 180:for(let h=0,p=t.length;h<p;h+=2)t[h]=u-t[h],t[h+1]-=a;break;case 270:for(let h=0,p=t.length;h<p;h+=2){const g=t[h];t[h]=d-t[h+1],t[h+1]=u-g}break;default:throw new Error("Invalid rotation")}return t},hI=function(t,s,r,o){var p,g;const a=[],u=this.thickness/2,d=t*s+u,h=t*r+u;for(const x of this.paths){const v=[],w=[];for(let b=0,E=x.length;b<E;b++){const[A,j,k,P]=x[b];if(A[0]===P[0]&&A[1]===P[1]&&E===1){const ee=t*A[0]+d,J=t*A[1]+h;v.push(ee,J),w.push(ee,J);break}const R=t*A[0]+d,M=t*A[1]+h,D=t*j[0]+d,O=t*j[1]+h,B=t*k[0]+d,z=t*k[1]+h,K=t*P[0]+d,X=t*P[1]+h;b===0&&(v.push(R,M),w.push(R,M)),v.push(D,O,B,z,K,X),w.push(D,O),b===E-1&&w.push(K,X)}a.push({bezier:_(p=jt,yo,xS).call(p,v,o,this.rotation),points:_(g=jt,yo,xS).call(g,w,o,this.rotation)})}return a},yS=function(){let t=1/0,s=-1/0,r=1/0,o=-1/0;for(const a of this.paths)for(const[u,d,h,p]of a){const g=Se.bezierBoundingBox(...u,...d,...h,...p);t=Math.min(t,g[0]),r=Math.min(r,g[1]),s=Math.max(s,g[2]),o=Math.max(o,g[3])}return[t,r,s,o]},Px=function(){return f(this,Ks)?Math.ceil(this.thickness*this.parentScale):0},yf=function(t=!1){if(this.isEmpty())return;if(!f(this,Ks)){_(this,ce,dl).call(this);return}const s=_(this,ce,yS).call(this),r=_(this,ce,Px).call(this);T(this,hc,Math.max(it.MIN_SIZE,s[2]-s[0])),T(this,dc,Math.max(it.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+f(this,hc)*this.scaleFactor),a=Math.ceil(r+f(this,dc)*this.scaleFactor),[u,d]=this.parentDimensions;this.width=o/u,this.height=a/d,this.setAspectRatio(o,a);const h=this.translationX,p=this.translationY;this.translationX=-s[0],this.translationY=-s[1],_(this,ce,gu).call(this),_(this,ce,dl).call(this),T(this,gc,o),T(this,xc,a),this.setDims(o,a);const g=t?r/this.scaleFactor/2:0;this.translate(h-this.translationX-g,p-this.translationY-g)},I(jt,yo),Le(jt,"_defaultColor",null),Le(jt,"_defaultOpacity",1),Le(jt,"_defaultThickness",1),Le(jt,"_type","ink"),Le(jt,"_editorType",Be.INK);let uS=jt;var kt,xn,Sa,eo,Aa,Od,ai,to,li,As,Fd,Ke,vf,bf,_x,bS,fI,Rx,wS,Lx,pI,mI;const Nf=class Nf extends it{constructor(t){super({...t,name:"stampEditor"});I(this,Ke);I(this,kt,null);I(this,xn,null);I(this,Sa,null);I(this,eo,null);I(this,Aa,null);I(this,Od,"");I(this,ai,null);I(this,to,null);I(this,li,null);I(this,As,!1);I(this,Fd,!1);T(this,eo,t.bitmapUrl),T(this,Aa,t.bitmapFile)}static initialize(t,s){it.initialize(t,s)}static get supportedTypes(){return Ye(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Ye(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,s){s.pasteEditor(Be.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:a,height:u}=t||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:a,height:u,channels:o.length/(a*u)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const h=d.output;return await this.setGuessedAltText(h),s&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var t,s;f(this,xn)&&(T(this,kt,null),this._uiManager.imageManager.deleteId(f(this,xn)),(t=f(this,ai))==null||t.remove(),T(this,ai,null),(s=f(this,to))==null||s.disconnect(),T(this,to,null),f(this,li)&&(clearTimeout(f(this,li)),T(this,li,null))),super.remove()}rebuild(){if(!this.parent){f(this,xn)&&_(this,Ke,_x).call(this);return}super.rebuild(),this.div!==null&&(f(this,xn)&&f(this,ai)===null&&_(this,Ke,_x).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(f(this,Sa)||f(this,kt)||f(this,eo)||f(this,Aa)||f(this,xn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;if(this.width&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),f(this,kt)?_(this,Ke,bS).call(this):_(this,Ke,_x).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(t*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(t,s,r=!1){var v;t||(t=224);const{width:o,height:a}=f(this,kt),u=new mw;let d=f(this,kt),h=o,p=a,g=null;if(s){if(o>s||a>s){const O=Math.min(s/o,s/a);h=Math.floor(o*O),p=Math.floor(a*O)}g=document.createElement("canvas");const w=g.width=Math.ceil(h*u.sx),b=g.height=Math.ceil(p*u.sy);f(this,As)||(d=_(this,Ke,Rx).call(this,w,b));const E=g.getContext("2d");E.filter=this._uiManager.hcmFilter;let A="white",j="#cfcfd8";this._uiManager.hcmFilter!=="none"?j="black":(v=window.matchMedia)!=null&&v.call(window,"(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",j="#42414d");const k=15,P=k*u.sx,R=k*u.sy,M=new OffscreenCanvas(P*2,R*2),D=M.getContext("2d");D.fillStyle=A,D.fillRect(0,0,P*2,R*2),D.fillStyle=j,D.fillRect(0,0,P,R),D.fillRect(P,R,P,R),E.fillStyle=E.createPattern(M,"repeat"),E.fillRect(0,0,w,b),E.drawImage(d,0,0,d.width,d.height,0,0,w,b)}let x=null;if(r){let w,b;if(u.symmetric&&d.width<t&&d.height<t)w=d.width,b=d.height;else if(d=f(this,kt),o>t||a>t){const j=Math.min(t/o,t/a);w=Math.floor(o*j),b=Math.floor(a*j),f(this,As)||(d=_(this,Ke,Rx).call(this,w,b))}const A=new OffscreenCanvas(w,b).getContext("2d",{willReadFrequently:!0});A.drawImage(d,0,0,d.width,d.height,0,0,w,b),x={width:w,height:b,data:A.getImageData(0,0,w,b).data}}return{canvas:g,width:h,height:p,imageData:x}}getImageForAltText(){return f(this,ai)}static async deserialize(t,s,r){var b;let o=null;if(t instanceof EL){const{data:{rect:E,rotation:A,id:j,structParent:k,popupRef:P},container:R,parent:{page:{pageNumber:M}}}=t,D=R.querySelector("canvas"),O=r.imageManager.getFromCanvas(R.id,D);D.remove();const B=((b=await s._structTree.getAriaAttributes(`${X1}${j}`))==null?void 0:b.get("aria-label"))||"";o=t={annotationType:Be.STAMP,bitmapId:O.id,bitmap:O.bitmap,pageIndex:M-1,rect:E.slice(0),rotation:A,id:j,deleted:!1,accessibilityData:{decorative:!1,altText:B},isSvg:!1,structParent:k,popupRef:P}}const a=await super.deserialize(t,s,r),{rect:u,bitmap:d,bitmapUrl:h,bitmapId:p,isSvg:g,accessibilityData:x}=t;p&&r.imageManager.isValidId(p)?(T(a,xn,p),d&&T(a,kt,d)):T(a,eo,h),T(a,As,g);const[v,w]=a.pageDimensions;return a.width=(u[2]-u[0])/v,a.height=(u[3]-u[1])/w,a.annotationElementId=t.id||null,x&&(a.altTextData=x),a._initialData=o,T(a,Fd,!!o),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Be.STAMP,bitmapId:f(this,xn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,As),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=_(this,Ke,Lx).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:a}=this.serializeAltText(!1);if(!o&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const d=_(this,Ke,mI).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const u=f(this,As)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(f(this,xn)))s.stamps.set(f(this,xn),{area:u,serialized:r}),r.bitmap=_(this,Ke,Lx).call(this,!1);else if(f(this,As)){const d=s.stamps.get(f(this,xn));u>d.area&&(d.area=u,d.serialized.bitmap.close(),d.serialized.bitmap=_(this,Ke,Lx).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};kt=new WeakMap,xn=new WeakMap,Sa=new WeakMap,eo=new WeakMap,Aa=new WeakMap,Od=new WeakMap,ai=new WeakMap,to=new WeakMap,li=new WeakMap,As=new WeakMap,Fd=new WeakMap,Ke=new WeakSet,vf=function(t,s=!1){if(!t){this.remove();return}T(this,kt,t.bitmap),s||(T(this,xn,t.id),T(this,As,t.isSvg)),t.file&&T(this,Od,t.file.name),_(this,Ke,bS).call(this)},bf=function(){if(T(this,Sa,null),this._uiManager.enableWaiting(!1),!!f(this,ai)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,kt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,kt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},_x=function(){if(f(this,xn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,xn)).then(r=>_(this,Ke,vf).call(this,r,!0)).finally(()=>_(this,Ke,bf).call(this));return}if(f(this,eo)){const r=f(this,eo);T(this,eo,null),this._uiManager.enableWaiting(!0),T(this,Sa,this._uiManager.imageManager.getFromUrl(r).then(o=>_(this,Ke,vf).call(this,o)).finally(()=>_(this,Ke,bf).call(this)));return}if(f(this,Aa)){const r=f(this,Aa);T(this,Aa,null),this._uiManager.enableWaiting(!0),T(this,Sa,this._uiManager.imageManager.getFromFile(r).then(o=>_(this,Ke,vf).call(this,o)).finally(()=>_(this,Ke,bf).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Nf.supportedTypesStr;const s=this._uiManager._signal;T(this,Sa,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,Ke,vf).call(this,o)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>_(this,Ke,bf).call(this))),t.click()},bS=function(){const{div:t}=this;let{width:s,height:r}=f(this,kt);const[o,a]=this.pageDimensions,u=.75;if(this.width)s=this.width*o,r=this.height*a;else if(s>u*o||r>u*a){const g=Math.min(u*o/s,u*a/r);s*=g,r*=g}const[d,h]=this.parentDimensions;this.setDims(s*d/o,r*h/a),this._uiManager.enableWaiting(!1);const p=T(this,ai,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),_(this,Ke,wS).call(this,s,r),_(this,Ke,pI).call(this),f(this,Fd)||(this.parent.addUndoableEditor(this),T(this,Fd,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Od)&&p.setAttribute("aria-label",f(this,Od))},fI=function(t,s){var u;const[r,o]=this.parentDimensions;this.width=t/r,this.height=s/o,(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,f(this,li)!==null&&clearTimeout(f(this,li)),T(this,li,setTimeout(()=>{T(this,li,null),_(this,Ke,wS).call(this,t,s)},200))},Rx=function(t,s){const{width:r,height:o}=f(this,kt);let a=r,u=o,d=f(this,kt);for(;a>2*t||u>2*s;){const h=a,p=u;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),u>2*s&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(a,u);g.getContext("2d").drawImage(d,0,0,h,p,0,0,a,u),d=g.transferToImageBitmap()}return d},wS=function(t,s){const r=new mw,o=Math.ceil(t*r.sx),a=Math.ceil(s*r.sy),u=f(this,ai);if(!u||u.width===o&&u.height===a)return;u.width=o,u.height=a;const d=f(this,As)?f(this,kt):_(this,Ke,Rx).call(this,o,a),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,a)},Lx=function(t){if(t){if(f(this,As)){const o=this._uiManager.imageManager.getSvgUrl(f(this,xn));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=f(this,kt),s.getContext("2d").drawImage(f(this,kt),0,0),s.toDataURL()}if(f(this,As)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*Ia.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Ia.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(o,a);return u.getContext("2d").drawImage(f(this,kt),0,0,f(this,kt).width,f(this,kt).height,0,0,o,a),u.transferToImageBitmap()}return structuredClone(f(this,kt))},pI=function(){this._uiManager._signal&&(T(this,to,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&_(this,Ke,fI).call(this,s.width,s.height)})),f(this,to).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,to))==null||t.disconnect(),T(this,to,null)},{once:!0}))},mI=function(t){var h;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,a=t.rect.every((p,g)=>Math.abs(p-s[g])<1),u=t.pageIndex===r,d=(((h=t.accessibilityData)==null?void 0:h.alt)||"")===o;return{isSame:a&&u&&d,isSameAltText:d}},Le(Nf,"_type","stamp"),Le(Nf,"_editorType",Be.STAMP);let vS=Nf;var yc,Bd,ci,Ca,no,Cs,Ea,$d,Vd,Ln,so,Ce,ja,bn,gI,AS,CS,ES,Ix;const dr=class dr{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:a,drawLayer:u,textLayer:d,viewport:h,l10n:p}){I(this,bn);I(this,yc);I(this,Bd,!1);I(this,ci,null);I(this,Ca,null);I(this,no,null);I(this,Cs,new Map);I(this,Ea,!1);I(this,$d,!1);I(this,Vd,!1);I(this,Ln,null);I(this,so,null);I(this,Ce);const g=[...f(dr,ja).values()];if(!dr._initialized){dr._initialized=!0;for(const x of g)x.initialize(p,e)}e.registerEditorTypes(g),T(this,Ce,e),this.pageIndex=t,this.div=s,T(this,yc,o),T(this,ci,a),this.viewport=h,T(this,Ln,d),this.drawLayer=u,this._structTree=r,f(this,Ce).addLayer(this)}get isEmpty(){return f(this,Cs).size===0}get isInvisible(){return this.isEmpty&&f(this,Ce).getMode()===Be.NONE}updateToolbar(e){f(this,Ce).updateToolbar(e)}updateMode(e=f(this,Ce).getMode()){switch(_(this,bn,Ix).call(this),e){case Be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Be.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of f(dr,ja).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,Ln))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(f(this,Ce).getMode()!==Be.INK)return;if(!e){for(const s of f(this,Cs).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){f(this,Ce).setEditingState(e)}addCommands(e){f(this,Ce).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,ci))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of f(this,Cs).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(f(this,Ce).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!f(this,ci))return;const t=f(this,ci).getEditableAnnotations();for(const s of t){if(s.hide(),f(this,Ce).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;T(this,Vd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of f(this,Cs).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(f(this,ci)){const o=f(this,ci).getEditableAnnotations();for(const a of o){const{id:u}=a.data;if(f(this,Ce).isDeletedAnnotationElement(u))continue;let d=t.get(u);if(d){d.resetAnnotationElement(a),d.show(!1),a.show();continue}d=e.get(u),d&&(f(this,Ce).addChangedExistingAnnotation(d),d.renderAnnotationElement(a)&&d.show(!1)),a.show()}}_(this,bn,Ix).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of f(dr,ja).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),T(this,Vd,!1)}getEditableAnnotation(e){var t;return((t=f(this,ci))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Ce).getActive()!==e&&f(this,Ce).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,Ln))!=null&&e.div&&!f(this,so)){T(this,so,new AbortController);const t=f(this,Ce).combinedSignal(f(this,so));f(this,Ln).div.addEventListener("pointerdown",_(this,bn,gI).bind(this),{signal:t}),f(this,Ln).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Ln))!=null&&e.div&&f(this,so)&&(f(this,so).abort(),T(this,so,null),f(this,Ln).div.classList.remove("highlighting"))}enableClick(){if(f(this,Ca))return;T(this,Ca,new AbortController);const e=f(this,Ce).combinedSignal(f(this,Ca));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=f(this,Ca))==null||e.abort(),T(this,Ca,null)}attach(e){f(this,Cs).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Ce).isDeletedAnnotationElement(t)&&f(this,Ce).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Cs).delete(e.id),(t=f(this,yc))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Vd)&&e.annotationElementId&&f(this,Ce).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Ce).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,f(this,$d)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Ce).addDeletedAnnotationElement(e.annotationElementId),it.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Ce).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),f(this,Ce).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,no)&&(e._focusEventsAllowed=!1,T(this,no,setTimeout(()=>{T(this,no,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Ce)._signal}),t.focus())},0))),e._structTreeParentId=(s=f(this,yc))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return f(this,Ce).getId()}combinedSignal(e){return f(this,Ce).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,bn,AS))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){f(this,Ce).updateToolbar(e),f(this,Ce).updateMode(e);const{offsetX:s,offsetY:r}=_(this,bn,ES).call(this),o=this.getNextId(),a=_(this,bn,CS).call(this,{parent:this,id:o,x:s,y:r,uiManager:f(this,Ce),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(dr,ja).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Ce)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),o=_(this,bn,CS).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:f(this,Ce),isCentered:t,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(_(this,bn,ES).call(this),!0)}setSelected(e){f(this,Ce).setSelected(e)}toggleSelected(e){f(this,Ce).toggleSelected(e)}unselect(e){f(this,Ce).unselect(e)}pointerup(e){const{isMac:t}=Wn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&f(this,Ea)){if(T(this,Ea,!1),!f(this,Bd)){T(this,Bd,!0);return}if(f(this,Ce).getMode()===Be.STAMP){f(this,Ce).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(f(this,Ce).getMode()===Be.HIGHLIGHT&&this.enableTextSelection(),f(this,Ea)){T(this,Ea,!1);return}const{isMac:t}=Wn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;T(this,Ea,!0);const s=f(this,Ce).getActive();T(this,Bd,!s||s.isEmpty())}findNewParent(e,t,s){const r=f(this,Ce).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=f(this,Ce).getActive())==null?void 0:e.parent)===this&&(f(this,Ce).commitOrRemove(),f(this,Ce).setActiveEditor(null)),f(this,no)&&(clearTimeout(f(this,no)),T(this,no,null));for(const s of f(this,Cs).values())(t=f(this,yc))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,f(this,Cs).clear(),f(this,Ce).removeLayer(this)}render({viewport:e}){this.viewport=e,Ec(this.div,e);for(const t of f(this,Ce).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Ce).commitOrRemove(),_(this,bn,Ix).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Ec(this.div,{rotation:s}),t!==s)for(const r of f(this,Cs).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Ce).viewParameters.realScale}};yc=new WeakMap,Bd=new WeakMap,ci=new WeakMap,Ca=new WeakMap,no=new WeakMap,Cs=new WeakMap,Ea=new WeakMap,$d=new WeakMap,Vd=new WeakMap,Ln=new WeakMap,so=new WeakMap,Ce=new WeakMap,ja=new WeakMap,bn=new WeakSet,gI=function(e){f(this,Ce).unselectAll();const{target:t}=e;if(t===f(this,Ln).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,Ln).div.contains(t)){const{isMac:s}=Wn.platform;if(e.button!==0||e.ctrlKey&&s)return;f(this,Ce).showAllEditors("highlight",!0,!0),f(this,Ln).div.classList.add("free"),this.toggleDrawing(),ny.startHighlighting(this,f(this,Ce).direction==="ltr",{target:f(this,Ln).div,x:e.x,y:e.y}),f(this,Ln).div.addEventListener("pointerup",()=>{f(this,Ln).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Ce)._signal}),e.preventDefault()}},AS=function(){return f(dr,ja).get(f(this,Ce).getMode())},CS=function(e){const t=f(this,bn,AS);return t?new t.prototype.constructor(e):null},ES=function(){const{x:e,y:t,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),a=Math.max(0,t),u=Math.min(window.innerWidth,e+s),d=Math.min(window.innerHeight,t+r),h=(o+u)/2-e,p=(a+d)/2-t,[g,x]=this.viewport.rotation%180===0?[h,p]:[p,h];return{offsetX:g,offsetY:x}},Ix=function(){T(this,$d,!0);for(const e of f(this,Cs).values())e.isEmpty()&&e.remove();T(this,$d,!1)},Le(dr,"_initialized",!1),I(dr,ja,new Map([tS,uS,vS,ny].map(e=>[e._editorType,e])));let SS=dr;var ui,rm,Ht,ro,im,NS,Pc,kS,xI;const pn=class pn{constructor({pageIndex:e}){I(this,Pc);I(this,ui,null);I(this,rm,0);I(this,Ht,new Map);I(this,ro,new Map);this.pageIndex=e}setParent(e){if(!f(this,ui)){T(this,ui,e);return}if(f(this,ui)!==e){if(f(this,Ht).size>0)for(const t of f(this,Ht).values())t.remove(),e.append(t);T(this,ui,e)}}static get _svgFactory(){return Ye(this,"_svgFactory",new iA)}draw(e,t,s,r=!1){const o=rn(this,rm)._++,a=_(this,Pc,kS).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const u=pn._svgFactory.createElement("defs");a.append(u);const d=pn._svgFactory.createElement("path");u.append(d);const h=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",h),d.setAttribute("d",e.toSVGPath()),r&&f(this,ro).set(o,d);const p=_(this,Pc,xI).call(this,u,h),g=pn._svgFactory.createElement("use");return a.append(g),a.setAttribute("fill",t),a.setAttribute("fill-opacity",s),g.setAttribute("href",`#${h}`),f(this,Ht).set(o,a),{id:o,clipPathId:`url(#${p})`}}drawOutline(e){const t=rn(this,rm)._++,s=_(this,Pc,kS).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const r=pn._svgFactory.createElement("defs");s.append(r);const o=pn._svgFactory.createElement("path");r.append(o);const a=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",a),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e.mustRemoveSelfIntersections){const p=pn._svgFactory.createElement("mask");r.append(p),u=`mask_p${this.pageIndex}_${t}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const g=pn._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const x=pn._svgFactory.createElement("use");p.append(x),x.setAttribute("href",`#${a}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const d=pn._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${a}`),u&&d.setAttribute("mask",`url(#${u})`);const h=d.cloneNode();return s.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),f(this,Ht).set(t,s),t}finalizeLine(e,t){const s=f(this,ro).get(e);f(this,ro).delete(e),this.updateBox(e,t.box),s.setAttribute("d",t.toSVGPath())}updateLine(e,t){f(this,Ht).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){f(this,ro).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var s;_(s=pn,im,NS).call(s,f(this,Ht).get(e),t)}show(e,t){f(this,Ht).get(e).classList.toggle("hidden",!t)}rotate(e,t){f(this,Ht).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){f(this,Ht).get(e).setAttribute("fill",t)}changeOpacity(e,t){f(this,Ht).get(e).setAttribute("fill-opacity",t)}addClass(e,t){f(this,Ht).get(e).classList.add(t)}removeClass(e,t){f(this,Ht).get(e).classList.remove(t)}getSVGRoot(e){return f(this,Ht).get(e)}remove(e){f(this,ro).delete(e),f(this,ui)!==null&&(f(this,Ht).get(e).remove(),f(this,Ht).delete(e))}destroy(){T(this,ui,null);for(const e of f(this,Ht).values())e.remove();f(this,Ht).clear(),f(this,ro).clear()}};ui=new WeakMap,rm=new WeakMap,Ht=new WeakMap,ro=new WeakMap,im=new WeakSet,NS=function(e,{x:t=0,y:s=0,width:r=1,height:o=1}={}){const{style:a}=e;a.top=`${100*s}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*o}%`},Pc=new WeakSet,kS=function(e){var s;const t=pn._svgFactory.create(1,1,!0);return f(this,ui).append(t),t.setAttribute("aria-hidden",!0),_(s=pn,im,NS).call(s,t,e),t},xI=function(e,t){const s=pn._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=pn._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},I(pn,im);let jS=pn;var $7=De.AbortException,V7=De.AnnotationEditorLayer,z7=De.AnnotationEditorParamsType,U7=De.AnnotationEditorType,H7=De.AnnotationEditorUIManager,yI=De.AnnotationLayer,vI=De.AnnotationMode,W7=De.ColorPicker,G7=De.DOMSVGFactory,K7=De.DrawLayer,q7=De.FeatureTest,aA=De.GlobalWorkerOptions,X7=De.ImageKind,Y7=De.InvalidPDFException,Q7=De.MissingPDFException,J7=De.OPS,Z7=De.OutputScale,eK=De.PDFDataRangeTransport,tK=De.PDFDateString,nK=De.PDFWorker,sK=De.PasswordResponses,rK=De.PermissionFlag,iK=De.PixelsPerInch,oK=De.RenderingCancelledException,bI=De.TextLayer,aK=De.UnexpectedResponseException,lK=De.Util,cK=De.VerbosityLevel,uK=De.XfaLayer,dK=De.build,hK=De.createValidAbsoluteUrl,fK=De.fetchData,wI=De.getDocument,pK=De.getFilenameFromUrl,mK=De.getPdfFilenameFromUrl,gK=De.getXfaPageViewport,xK=De.isDataScheme,yK=De.isPdfFile,vK=De.noContextMenu,bK=De.normalizeUnicode,wK=De.setLayerDimensions,SK=De.shadow,SI=De.version;const AK=Object.freeze(Object.defineProperty({__proto__:null,AbortException:$7,AnnotationEditorLayer:V7,AnnotationEditorParamsType:z7,AnnotationEditorType:U7,AnnotationEditorUIManager:H7,AnnotationLayer:yI,AnnotationMode:vI,ColorPicker:W7,DOMSVGFactory:G7,DrawLayer:K7,FeatureTest:q7,GlobalWorkerOptions:aA,ImageKind:X7,InvalidPDFException:Y7,MissingPDFException:Q7,OPS:J7,OutputScale:Z7,PDFDataRangeTransport:eK,PDFDateString:tK,PDFWorker:nK,PasswordResponses:sK,PermissionFlag:rK,PixelsPerInch:iK,RenderingCancelledException:oK,TextLayer:bI,UnexpectedResponseException:aK,Util:lK,VerbosityLevel:cK,XfaLayer:uK,build:dK,createValidAbsoluteUrl:hK,fetchData:fK,getDocument:wI,getFilenameFromUrl:pK,getPdfFilenameFromUrl:mK,getXfaPageViewport:gK,isDataScheme:xK,isPdfFile:yK,noContextMenu:vK,normalizeUnicode:bK,setLayerDimensions:wK,shadow:SK,version:SI},Symbol.toStringTag,{value:"Module"}));var on=function(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))},CK=["onCopy","onCut","onPaste"],EK=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],jK=["onFocus","onBlur"],NK=["onInput","onInvalid","onReset","onSubmit"],kK=["onLoad","onError"],TK=["onKeyDown","onKeyPress","onKeyUp"],PK=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],_K=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],RK=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],LK=["onSelect"],IK=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],MK=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],DK=["onScroll"],OK=["onWheel"],FK=["onAnimationStart","onAnimationEnd","onAnimationIteration"],BK=["onTransitionEnd"],$K=["onToggle"],VK=["onChange"],zK=on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on([],CK,!0),EK,!0),jK,!0),NK,!0),kK,!0),TK,!0),PK,!0),_K,!0),RK,!0),LK,!0),IK,!0),MK,!0),DK,!0),OK,!0),FK,!0),BK,!0),VK,!0),$K,!0);function AI(n,e){var t={};return zK.forEach(function(s){var r=n[s];r&&(e?t[s]=function(o){return r(o,e(s))}:t[s]=r)}),t}function vm(n){var e=!1,t=new Promise(function(s,r){n.then(function(o){return!e&&s(o)}).catch(function(o){return!e&&r(o)})});return{promise:t,cancel:function(){e=!0}}}var UK="Invariant failed";function ut(n,e){if(!n)throw new Error(UK)}var bb,Uk;function HK(){if(Uk)return bb;Uk=1;var n=function(){};return bb=n,bb}var WK=HK();const Mn=by(WK);var Hk=Object.prototype.hasOwnProperty;function Wk(n,e,t){for(t of n.keys())if(Tu(t,e))return t}function Tu(n,e){var t,s,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&Tu(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(r=s,r&&typeof r=="object"&&(r=Wk(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(r=s[0],r&&typeof r=="object"&&(r=Wk(e,r),!r)||!Tu(s[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(Hk.call(n,t)&&++s&&!Hk.call(e,t)||!(t in e)||!Tu(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}const CI=C.createContext(null);function Pu({children:n,type:e}){return c.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const GK="noopener noreferrer nofollow";class KK{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ut(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){ut(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{ut(this.pdfDocument),ut(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{ut(Array.isArray(t));const s=t[0];new Promise(r=>{ut(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{ut(!1)}):typeof s=="number"?r(s):ut(!1)}).then(r=>{const o=r+1;ut(this.pdfViewer),ut(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;ut(this.pdfViewer),ut(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||GK,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Gk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Wy=typeof window<"u",EI=Wy&&window.location.protocol==="file:";function qK(n){return typeof n<"u"}function il(n){return qK(n)&&n!==null}function XK(n){return typeof n=="string"}function YK(n){return n instanceof ArrayBuffer}function QK(n){return ut(Wy),n instanceof Blob}function TS(n){return XK(n)&&/^data:/.test(n)}function Kk(n){ut(TS(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function JK(){return Wy&&window.devicePixelRatio||1}const jI="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function qk(){Mn(!EI,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${jI}`)}function ZK(){Mn(!EI,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${jI}`)}function kc(n){n!=null&&n.cancel&&n.cancel()}function PS(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function e9(n){return n.name==="RenderingCancelledException"}function t9(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}function n9(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Gd(){return C.useReducer(n9,{value:void 0,error:void 0})}var s9=function(n,e,t,s){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function u(p){try{h(s.next(p))}catch(g){a(g)}}function d(p){try{h(s.throw(p))}catch(g){a(g)}}function h(p){p.done?o(p.value):r(p.value).then(u,d)}h((s=s.apply(n,e||[])).next())})},Xk=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const{PDFDataRangeTransport:r9}=AK,i9=(n,e)=>{switch(e){case Gk.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Gk.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function Yk(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const o9=C.forwardRef(function(e,t){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:u,file:d,inputRef:h,imageResourcesPath:p,loading:g="Loading PDF…",noData:x="No PDF file specified.",onItemClick:v,onLoadError:w,onLoadProgress:b,onLoadSuccess:E,onPassword:A=i9,onSourceError:j,onSourceSuccess:k,options:P,renderMode:R,rotate:M}=e,D=Xk(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[O,B]=Gd(),{value:z,error:K}=O,[X,ee]=Gd(),{value:J,error:ae}=X,Y=C.useRef(new KK),G=C.useRef([]),H=C.useRef(void 0),te=C.useRef(void 0);d&&d!==H.current&&Yk(d)&&(Mn(!Tu(d,H.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),H.current=d),P&&P!==te.current&&(Mn(!Tu(P,te.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),te.current=P);const ne=C.useRef({scrollPageIntoView:Re=>{const{dest:qe,pageNumber:mt,pageIndex:ct=mt-1}=Re;if(v){v({dest:qe,pageIndex:ct,pageNumber:mt});return}const Sn=G.current[ct];if(Sn){Sn.scrollIntoView();return}Mn(!1,`An internal link leading to page ${mt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});C.useImperativeHandle(t,()=>({linkService:Y,pages:G,viewer:ne}),[]);function V(){k&&k()}function Z(){K&&(Mn(!1,K.toString()),j&&j(K))}function de(){B({type:"RESET"})}C.useEffect(de,[d,B]);const be=C.useCallback(()=>s9(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return TS(d)?{data:Kk(d)}:(qk(),{url:d});if(d instanceof r9)return{range:d};if(YK(d))return{data:d};if(Wy&&QK(d))return{data:yield t9(d)};if(ut(typeof d=="object"),ut(Yk(d)),"url"in d&&typeof d.url=="string"){if(TS(d.url)){const{url:Re}=d,qe=Xk(d,["url"]),mt=Kk(Re);return Object.assign({data:mt},qe)}qk()}return d}),[d]);C.useEffect(()=>{const Re=vm(be());return Re.promise.then(qe=>{B({type:"RESOLVE",value:qe})}).catch(qe=>{B({type:"REJECT",error:qe})}),()=>{kc(Re)}},[be,B]),C.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){Z();return}V()}},[z]);function Te(){J&&(E&&E(J),G.current=new Array(J.numPages),Y.current.setDocument(J))}function ye(){ae&&(Mn(!1,ae.toString()),w&&w(ae))}C.useEffect(function(){ee({type:"RESET"})},[ee,z]),C.useEffect(function(){if(!z)return;const qe=P?Object.assign(Object.assign({},z),P):z,mt=wI(qe);b&&(mt.onProgress=b),A&&(mt.onPassword=A);const ct=mt,Sn=ct.promise.then(Mr=>{ee({type:"RESOLVE",value:Mr})}).catch(Mr=>{ct.destroyed||ee({type:"REJECT",error:Mr})});return()=>{Sn.finally(()=>ct.destroy())}},[P,ee,z]),C.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){ye();return}Te()}},[J]),C.useEffect(function(){Y.current.setViewer(ne.current),Y.current.setExternalLinkRel(a),Y.current.setExternalLinkTarget(u)},[a,u]);const re=C.useCallback((Re,qe)=>{G.current[Re]=qe},[]),pe=C.useCallback(Re=>{delete G.current[Re]},[]),Ee=C.useMemo(()=>({imageResourcesPath:p,linkService:Y.current,onItemClick:v,pdf:J,registerPage:re,renderMode:R,rotate:M,unregisterPage:pe}),[p,v,J,re,R,M,pe]),ge=C.useMemo(()=>AI(D,()=>J),[D,J]);function ze(){return c.jsx(CI.Provider,{value:Ee,children:s})}function Ge(){return d?J==null?c.jsx(Pu,{type:"loading",children:typeof g=="function"?g():g}):J===!1?c.jsx(Pu,{type:"error",children:typeof o=="function"?o():o}):ze():c.jsx(Pu,{type:"no-data",children:typeof x=="function"?x():x})}return c.jsx("div",Object.assign({className:um("react-pdf__Document",r),ref:h,style:{"--scale-factor":"1"}},ge,{children:Ge()}))});function NI(){return C.useContext(CI)}function kI(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(o){t.forEach(function(a){typeof a=="function"?a(o):a&&(a.current=o)})}}const TI=C.createContext(null),PI={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},a9=/^H(\d+)$/;function l9(n){return n in PI}function Gy(n){return"children"in n}function _I(n){return Gy(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function c9(n){const e={};if(Gy(n)){const{role:t}=n,s=t.match(a9);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(l9(t)){const r=PI[t];r&&(e.role=r)}}return e}function RI(n){const e={};if(Gy(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),_I(n)){const[t]=n.children;if(t){const s=RI(t);return Object.assign(Object.assign({},e),s)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function u9(n){return n?Object.assign(Object.assign({},c9(n)),RI(n)):null}function LI({className:n,node:e}){const t=C.useMemo(()=>u9(e),[e]),s=C.useMemo(()=>!Gy(e)||_I(e)?null:e.children.map((r,o)=>c.jsx(LI,{node:r},o)),[e]);return c.jsx("span",Object.assign({className:n},t,{children:s}))}function Ky(){return C.useContext(TI)}function d9(){const n=Ky();ut(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,r]=Gd(),{value:o,error:a}=s,{customTextRenderer:u,page:d}=n;function h(){o&&t&&t(o)}function p(){a&&(Mn(!1,a.toString()),e&&e(a))}return C.useEffect(function(){r({type:"RESET"})},[r,d]),C.useEffect(function(){if(u||!d)return;const x=vm(d.getStructTree()),v=x;return x.promise.then(w=>{r({type:"RESOLVE",value:w})}).catch(w=>{r({type:"REJECT",error:w})}),()=>kc(v)},[u,d,r]),C.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}h()}},[o]),o?c.jsx(LI,{className:"react-pdf__Page__structTree structTree",node:o}):null}const Qk=vI;function h9(n){const e=Ky();ut(e);const t=Object.assign(Object.assign({},e),n),{_className:s,canvasBackground:r,devicePixelRatio:o=JK(),onRenderError:a,onRenderSuccess:u,page:d,renderForms:h,renderTextLayer:p,rotate:g,scale:x}=t,{canvasRef:v}=n;ut(d);const w=C.useRef(null);function b(){d&&u&&u(PS(d,x))}function E(P){e9(P)||(Mn(!1,P.toString()),a&&a(P))}const A=C.useMemo(()=>d.getViewport({scale:x*o,rotation:g}),[o,d,g,x]),j=C.useMemo(()=>d.getViewport({scale:x,rotation:g}),[d,g,x]);C.useEffect(function(){if(!d)return;d.cleanup();const{current:R}=w;if(!R)return;R.width=A.width,R.height=A.height,R.style.width=`${Math.floor(j.width)}px`,R.style.height=`${Math.floor(j.height)}px`,R.style.visibility="hidden";const M={annotationMode:h?Qk.ENABLE_FORMS:Qk.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:A};r&&(M.background=r);const D=d.render(M),O=D;return D.promise.then(()=>{R.style.visibility="",b()}).catch(E),()=>kc(O)},[r,d,h,A,j]);const k=C.useCallback(()=>{const{current:P}=w;P&&(P.width=0,P.height=0)},[]);return C.useEffect(()=>k,[k]),c.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:kI(v,w),style:{display:"block",userSelect:"none"},children:p?c.jsx(d9,{}):null})}function f9(n){return"str"in n}function p9(){const n=Ky();ut(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:a,pageIndex:u,pageNumber:d,rotate:h,scale:p}=n;ut(a);const[g,x]=Gd(),{value:v,error:w}=g,b=C.useRef(null);Mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){v&&s&&s(v)}function A(){w&&(Mn(!1,w.toString()),t&&t(w))}C.useEffect(function(){x({type:"RESET"})},[a,x]),C.useEffect(function(){if(!a)return;const O=vm(a.getTextContent()),B=O;return O.promise.then(z=>{x({type:"RESOLVE",value:z})}).catch(z=>{x({type:"REJECT",error:z})}),()=>kc(B)},[a,x]),C.useEffect(()=>{if(v!==void 0){if(v===!1){A();return}E()}},[v]);const j=C.useCallback(()=>{o&&o()},[o]),k=C.useCallback(D=>{Mn(!1,D.toString()),r&&r(D)},[r]);function P(){const D=b.current;D&&D.classList.add("selecting")}function R(){const D=b.current;D&&D.classList.remove("selecting")}const M=C.useMemo(()=>a.getViewport({scale:p,rotation:h}),[a,h,p]);return C.useLayoutEffect(function(){if(!a||!v)return;const{current:O}=b;if(!O)return;O.innerHTML="";const B=a.streamTextContent({includeMarkedContent:!0}),z={container:O,textContentSource:B,viewport:M},K=new bI(z),X=K;return K.render().then(()=>{const ee=document.createElement("div");ee.className="endOfContent",O.append(ee);const J=O.querySelectorAll('[role="presentation"]');if(e){let ae=0;v.items.forEach((Y,G)=>{if(!f9(Y))return;const H=J[ae];if(!H)return;const te=e(Object.assign({pageIndex:u,pageNumber:d,itemIndex:G},Y));H.innerHTML=te,ae+=Y.str&&Y.hasEOL?2:1})}j()}).catch(k),()=>kc(X)},[e,k,j,a,u,d,v,M]),c.jsx("div",{className:um("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:P,ref:b})}function m9(){const n=NI(),e=Ky();ut(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:h,pdf:p,renderForms:g,rotate:x,scale:v=1}=t;ut(p),ut(h),ut(r);const[w,b]=Gd(),{value:E,error:A}=w,j=C.useRef(null);Mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){E&&a&&a(E)}function P(){A&&(Mn(!1,A.toString()),o&&o(A))}C.useEffect(function(){b({type:"RESET"})},[b,h]),C.useEffect(function(){if(!h)return;const B=vm(h.getAnnotations()),z=B;return B.promise.then(K=>{b({type:"RESOLVE",value:K})}).catch(K=>{b({type:"REJECT",error:K})}),()=>{kc(z)}},[b,h]),C.useEffect(()=>{if(E!==void 0){if(E===!1){P();return}k()}},[E]);function R(){d&&d()}function M(O){Mn(!1,`${O}`),u&&u(O)}const D=C.useMemo(()=>h.getViewport({scale:v,rotation:x}),[h,x,v]);return C.useEffect(function(){if(!p||!h||!r||!E)return;const{current:B}=j;if(!B)return;const z=D.clone({dontFlip:!0}),K={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:B,l10n:null,page:h,structTreeLayer:null,viewport:z},X={annotations:E,annotationStorage:p.annotationStorage,div:B,imageResourcesPath:s,linkService:r,page:h,renderForms:g,viewport:z};B.innerHTML="";try{new yI(K).render(X),R()}catch(ee){M(ee)}return()=>{}},[E,s,r,h,p,g,D]),c.jsx("div",{className:um("react-pdf__Page__annotations","annotationLayer"),ref:j})}var g9=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const Jk=1;function x9(n){const e=NI(),t=Object.assign(Object.assign({},e),n),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:a,children:u,className:d,customRenderer:h,customTextRenderer:p,devicePixelRatio:g,error:x="Failed to load the page.",height:v,inputRef:w,loading:b="Loading page…",noData:E="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:j,onGetStructTreeError:k,onGetStructTreeSuccess:P,onGetTextError:R,onGetTextSuccess:M,onLoadError:D,onLoadSuccess:O,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:z,onRenderError:K,onRenderSuccess:X,onRenderTextLayerError:ee,onRenderTextLayerSuccess:J,pageIndex:ae,pageNumber:Y,pdf:G,registerPage:H,renderAnnotationLayer:te=!0,renderForms:ne=!1,renderMode:V="canvas",renderTextLayer:Z=!0,rotate:de,scale:be=Jk,unregisterPage:Te,width:ye}=t,re=g9(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[pe,Ee]=Gd(),{value:ge,error:ze}=pe,Ge=C.useRef(null);ut(G);const Re=il(Y)?Y-1:ae??null,qe=Y??(il(ae)?ae+1:null),mt=de??(ge?ge.rotate:null),ct=C.useMemo(()=>{if(!ge)return null;let Or=1;const xi=be??Jk;if(ye||v){const Ha=ge.getViewport({scale:1,rotation:mt});ye?Or=ye/Ha.width:v&&(Or=v/Ha.height)}return xi*Or},[v,ge,mt,be,ye]);C.useEffect(function(){return()=>{il(Re)&&r&&Te&&Te(Re)}},[r,G,Re,Te]);function Sn(){if(O){if(!ge||!ct)return;O(PS(ge,ct))}if(r&&H){if(!il(Re)||!Ge.current)return;H(Re,Ge.current)}}function Mr(){ze&&(Mn(!1,ze.toString()),D&&D(ze))}C.useEffect(function(){Ee({type:"RESET"})},[Ee,G,Re]),C.useEffect(function(){if(!G||!qe)return;const xi=vm(G.getPage(qe)),Ha=xi;return xi.promise.then(yi=>{Ee({type:"RESOLVE",value:yi})}).catch(yi=>{Ee({type:"REJECT",error:yi})}),()=>kc(Ha)},[Ee,G,qe]),C.useEffect(()=>{if(ge!==void 0){if(ge===!1){Mr();return}Sn()}},[ge,ct]);const Dr=C.useMemo(()=>ge&&il(Re)&&qe&&il(mt)&&il(ct)?{_className:s,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:A,onGetAnnotationsSuccess:j,onGetStructTreeError:k,onGetStructTreeSuccess:P,onGetTextError:R,onGetTextSuccess:M,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:z,onRenderError:K,onRenderSuccess:X,onRenderTextLayerError:ee,onRenderTextLayerSuccess:J,page:ge,pageIndex:Re,pageNumber:qe,renderForms:ne,renderTextLayer:Z,rotate:mt,scale:ct}:null,[s,o,p,g,A,j,k,P,R,M,B,z,K,X,ee,J,ge,Re,qe,ne,Z,mt,ct]),Ua=C.useMemo(()=>AI(re,()=>ge&&(ct?PS(ge,ct):void 0)),[re,ge,ct]),tr=`${Re}@${ct}/${mt}`;function oh(){switch(V){case"custom":return ut(h),c.jsx(h,{},`${tr}_custom`);case"none":return null;case"canvas":default:return c.jsx(h9,{canvasRef:a},`${tr}_canvas`)}}function bm(){return Z?c.jsx(p9,{},`${tr}_text`):null}function wm(){return te?c.jsx(m9,{},`${tr}_annotations`):null}function Sm(){return c.jsxs(TI.Provider,{value:Dr,children:[oh(),bm(),wm(),u]})}function Am(){return qe?G===null||ge===void 0||ge===null?c.jsx(Pu,{type:"loading",children:typeof b=="function"?b():b}):G===!1||ge===!1?c.jsx(Pu,{type:"error",children:typeof x=="function"?x():x}):Sm():c.jsx(Pu,{type:"no-data",children:typeof E=="function"?E():E})}return c.jsx("div",Object.assign({className:um(s,d),"data-page-number":qe,ref:kI(w,Ge),style:{"--scale-factor":`${ct}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ua,{children:Am()}))}ZK();aA.workerSrc="pdf.worker.mjs";const y9={productTitle:"청년도약토큰",interestRange:"연 2.6% ~ 연5.0%"},v9=["29세이하","월 최대 50만 토큰","세제혜택"];function lu({label:n,checked:e,onToggle:t}){return c.jsxs("div",{onClick:t,className:"flex items-center justify-between p-3 border rounded-md cursor-pointer",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mr-3 ${e?"bg-[#0a2d6b]":"border border-gray-300"}`,children:e&&c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M5 12L10 17L19 8",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),c.jsx("div",{children:n})]}),c.jsx("div",{children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 18L15 12L9 6",stroke:"#999",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function b9({consents:n,toggleAll:e,toggleConsent:t}){return c.jsxs("div",{className:"space-y-4",children:[c.jsx(lu,{label:"전체동의",checked:n.all,onToggle:e}),c.jsx(lu,{label:"[필수] 개인정보 수집/이용 동의",checked:n.privacy,onToggle:()=>t("privacy")}),c.jsx(lu,{label:"[필수] 고유식별정보 처리 동의",checked:n.identification,onToggle:()=>t("identification")}),c.jsx(lu,{label:"[필수] 통신사 이용약관 동의",checked:n.telecom,onToggle:()=>t("telecom")}),c.jsx(lu,{label:"[필수] 서비스 이용약관 동의",checked:n.service,onToggle:()=>t("service")}),c.jsx(lu,{label:"[필수] 개인정보 제 3자 제공 동의",checked:n.thirdParty,onToggle:()=>t("thirdParty")})]})}function w9({protectionConfirmed:n,onConfirm:e,onDeny:t}){return c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"예금자 보호 안내 및 이해 확인"}),c.jsxs("div",{className:"border p-4 rounded-md mb-4",children:[c.jsx("img",{src:"/finance-mark.png",alt:"Finance Mark",className:"w-16 h-16 object-contain mx-auto"}),c.jsx("p",{className:"text-sm",children:'이 예금은 예금자보호법에 따라 원금과 소정의 이자를 합하여 1인당 "5천만원까지"(본 은행의 여타 보호상품과 합산) 보호됩니다.'})]}),c.jsxs("p",{className:"mb-4",children:["예금자 보호에 대한 내용을  ",c.jsx("span",{className:"font-bold",children:"충분"}),"히 ",c.jsx("span",{className:"font-bold",children:"이해"}),"하고 확인하셨나요?"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:t,className:"flex-1 py-3 border border-[#0a2d6b] rounded-md text-center",children:"아니오"}),c.jsx("button",{onClick:e,className:`flex-1 py-3 rounded-md text-center ${n?"bg-[#0a2d6b] text-white":"bg-gray-200 border border-gray-200 text-gray-500"}`,children:"네"})]})]})}aA.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${SI}/pdf.worker.min.js`;function S9(){const n=je(),[e,t]=C.useState(1),[s,r]=C.useState(0),[o,a]=C.useState(1),u=C.useRef(null),[d,h]=C.useState(0);C.useEffect(()=>{const O=()=>{u.current&&h(u.current.clientWidth)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const p=({numPages:O})=>{r(O),a(1)},g=O=>{a(B=>{const z=B+O;return Math.min(Math.max(1,z),s)})},x=()=>g(-1),v=()=>g(1),[w,b]=C.useState({all:!1,privacy:!1,identification:!1,telecom:!1,service:!1,thirdParty:!1}),[E,A]=C.useState(!1),j=w.privacy&&w.identification&&w.telecom&&w.service&&w.thirdParty,k=()=>{e===1&&(!j||!E)||(e<3?t(e+1):n("/token/onsale/products/signup-complete"))},P=()=>{const O=!w.all;b({all:O,privacy:O,identification:O,telecom:O,service:O,thirdParty:O})},R=O=>{const B=!w[O],z={...w,[O]:B},K=z.privacy&&z.identification&&z.telecom&&z.service&&z.thirdParty;b({...z,all:K})},M={"29세이하":"gray","월 최대 50만 토큰":"purple",세제혜택:"green"};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"상품 가입"}),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("div",{className:"p-4",children:[c.jsx(ih,{bank:"WTK"}),c.jsx(d2,{...y9}),c.jsx("div",{className:"flex gap-2 mt-2 mb-4",children:v9.map((O,B)=>c.jsx(K1,{text:O,color:M[O]||"gray"},B))}),e===1&&c.jsxs("div",{children:[c.jsx("div",{className:"mt-6 mb-4",children:c.jsx("h2",{className:"text-xl font-bold",children:"가입 전 꼭 알아야 할 내용도 확인해주세요."})}),c.jsx(b9,{consents:w,toggleAll:P,toggleConsent:R}),c.jsx(w9,{protectionConfirmed:E,onConfirm:()=>A(!0),onDeny:()=>A(!1)})]}),(e===2||e===3)&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold mt-6 mb-4",children:"상품설명서"}),c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:x,className:"px-3 py-1 bg-gray-200 rounded-md",disabled:o<=1,children:"이전"}),c.jsxs("span",{children:[o," / ",s]}),c.jsx("button",{onClick:v,className:"px-3 py-1 bg-gray-200 rounded-md",disabled:o>=s,children:"다음"})]})}),c.jsx("div",{ref:u,className:"border rounded-md bg-gray-100 p-4",children:c.jsx(o9,{file:"/product-info.pdf",onLoadSuccess:p,loading:c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("p",{className:"text-gray-500",children:"PDF 불러오는 중..."})}),error:c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("p",{className:"text-red-500",children:"PDF 로드에 실패했습니다."})}),noData:c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("p",{className:"text-gray-500",children:"PDF 파일이 없습니다."})}),children:c.jsx(x9,{pageNumber:o,width:d,renderAnnotationLayer:!1,renderTextLayer:!1})})})]})]})}),c.jsxs("div",{className:"p-4",children:[e===1&&c.jsx("button",{onClick:k,disabled:!j||!E,className:`w-full py-3 rounded-md ${j&&E?"bg-[#0a2d6b] text-white":"bg-gray-200 text-gray-400"}`,children:"다음"}),e===2&&c.jsx($e,{text:"다음",onClick:k,fullWidth:!0,disabled:s>0&&o<s}),e===3&&c.jsx($e,{text:"확인했습니다",onClick:k,fullWidth:!0})]})]})}function A9({account:n,transferDay:e,amount:t}){return c.jsxs(Ns.div,{className:"bg-gray-100 p-4 rounded-md mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[c.jsx("h3",{className:"font-medium mb-3",children:"자동이체 정보"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"출금계좌"}),c.jsx("div",{children:n})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"이체일"}),c.jsx("div",{children:e})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"이체금액"}),c.jsx("div",{children:t})]})]})]})}function C9({title:n,description:e}){return c.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[c.jsx(m3,{size:64,color:"#16a34a",className:"mb-4"}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:n}),c.jsx("p",{className:"text-gray-600 text-center",children:e})]})}function E9({productName:n,startDate:e,endDate:t,monthlyAmount:s,baseRate:r,preferentialRate:o,finalRate:a}){return c.jsxs(Ns.div,{className:"border rounded-md p-4 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsx("h3",{className:"font-medium mb-3",children:"가입 상품 정보"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"상품명"}),c.jsx("div",{className:"font-medium",children:n})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"가입일"}),c.jsx("div",{children:e})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"만기일"}),c.jsx("div",{children:t})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"월 납입금액"}),c.jsx("div",{children:s})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"기본금리"}),c.jsx("div",{children:r})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"우대금리"}),c.jsx("div",{children:o})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"text-gray-600",children:"최종금리"}),c.jsx("div",{className:"font-medium",children:a})]})]})]})}function j9(){const n=je(),e=()=>{n("/my/coin")},t={productName:"청년도약토큰",startDate:"2025.05.09",endDate:"2026.05.09",monthlyAmount:"500,000원",baseRate:"연 3.7%(세전)",preferentialRate:"연 1.3%(세전)",finalRate:"연 5.0%(세전)"},s={account:"우리은행 1002-123-456789",transferDay:"매월 25일",amount:"500,000원"};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"가입 완료"}),c.jsxs(Ns.div,{className:"flex-1 overflow-auto p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsx(C9,{title:"상품 가입이 완료되었습니다",description:"청년도약토큰 상품 가입이 성공적으로 완료되었습니다. 가입 내역은 마이페이지에서 확인하실 수 있습니다."}),c.jsx(E9,{...t}),c.jsx(A9,{...s})]}),c.jsx(Ns.div,{className:"p-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:c.jsx($e,{text:"홈으로 이동",onClick:e,fullWidth:!0})})]})}const Zk=["gray","purple","green"];function N9(n){let e=0;for(let s=0;s<n.length;s++)e=n.charCodeAt(s)+((e<<5)-e);const t=Math.abs(e)%Zk.length;return Zk[t]}function k9({bank:n,name:e,subtitle:t,tags:s,statusText:r,statusIcon:o,statusIconColor:a,onClick:u}){return c.jsxs("div",{onClick:u,className:"border-b pb-4 cursor-pointer hover:bg-gray-50",children:[c.jsx(ih,{bank:n}),c.jsxs("div",{className:"px-2",children:[c.jsx("div",{className:"mt-2 font-bold text-2xl",children:e}),t&&c.jsx("div",{className:"text-1xl font-bold mb-2 text-blue",children:t}),o&&r&&c.jsxs("div",{className:"flex items-center mb-2 mt-2",children:[c.jsx(o,{size:20,className:a}),c.jsx("span",{className:"ml-1 text-sm text-red-500",children:r})]}),c.jsx("div",{className:"flex gap-2 mt-2 mb-4",children:s.map((d,h)=>c.jsx(K1,{text:d,color:N9(d)},h))})]})]})}function T9({items:n}){return c.jsx("div",{className:"space-y-6 p-3",children:n.map((e,t)=>c.jsx(k9,{...e},t))})}function P9({categories:n,selected:e,onSelect:t}){return c.jsx("div",{className:"flex border-b mb-4",children:n.map(s=>c.jsx("button",{onClick:()=>t(s),className:`pb-2 px-4 ${e===s?"border-b-2 border-black font-bold":"text-gray-500"}`,children:s},s))})}function _9(){const n=je(),e=["전체","예금","적금","입출금","상품권"],[t,s]=C.useState("전체"),{productId:r}=ds(),[o,a]=C.useState([]),[u,d]=C.useState(null);return C.useEffect(()=>{M8().then(a).catch(console.error)},[]),c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"K-계좌"}),c.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[c.jsx("div",{className:"relative mb-6",children:c.jsx("input",{type:"text",placeholder:"상품 검색어를 입력해 주세요.",className:"w-full py-3 px-4 bg-gray-100 rounded-full"})}),c.jsx(P9,{categories:e,selected:t,onSelect:s}),c.jsx(T9,{items:o.map(h=>{const p=f2[h.bankName];return{productId:h.id,bank:(p==null?void 0:p.code)??"WTK",name:h.productName,subtitle:`연 ${h.minInterestRate}% ~ 연 ${h.maxInterestRate}%`,tags:h.tags??[],statusText:h.status==="CLOSED"?"모집 마감":void 0,statusIcon:h.status==="CLOSED"?WT:void 0,statusIconColor:h.status==="CLOSED"?"text-red-500":void 0,onClick:()=>n(`/token/onsale/products/${h.id}`,{state:{product:h}})}})})]}),c.jsx(ot,{})]})}function R9(){const n=je(),e=C.useRef(null),[t,s]=C.useState(null),[r,o]=C.useState(""),[a,u]=C.useState(!1),[d,h]=C.useState(null),p=w=>{var A;const b=(A=w.target.files)==null?void 0:A[0];if(!b)return;o(b.name),u(!0);const E=new FileReader;E.onload=j=>{var P;const k=(P=j.target)==null?void 0:P.result;s(k),localStorage.setItem("businessImageBase64",k),u(!1)},E.readAsDataURL(b)},g=()=>{var w;(w=e.current)==null||w.click()},x=async()=>{if(t)try{u(!0);const b=await(await fetch(t)).blob(),E=new File([b],r||"license.png",{type:b.type}),A=await a5(E);localStorage.setItem("businessOcrResult",JSON.stringify(A)),n("/store/register/info")}catch(w){console.error("OCR 업로드 오류:",w),alert("OCR 처리 중 오류가 발생했습니다.")}finally{u(!1)}},v=()=>{s(null),o(""),h(null),localStorage.removeItem("businessImageBase64")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"사업자 정보확인"}),c.jsxs("div",{className:"bg-white pb-24 flex-1 flex flex-col mt-5",children:[c.jsx("div",{className:"p-4 flex items-center",children:c.jsx("h2",{className:"text-xl font-bold",children:"사업자등록증 업로드"})}),c.jsxs("div",{className:"px-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"사업자등록증을 업로드하여 OCR 검증을 진행해주세요."}),c.jsx("input",{type:"file",ref:e,onChange:p,accept:"image/*",className:"hidden"}),c.jsx("div",{className:"mb-4 bg-blue-50 border border-blue-100 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"mr-2 mt-0.5 text-blue-500",children:c.jsx(HT,{size:16})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"업로드 가이드"}),c.jsxs("ul",{className:"mt-1 text-xs text-blue-700 list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"사업자등록증 전체가 명확하게 보이도록 업로드해주세요"}),c.jsx("li",{children:"JPEG, PNG, PDF 파일 형식을 지원합니다"}),c.jsx("li",{children:"최대 10MB 크기까지 업로드 가능합니다"})]})]})]})}),t?c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"relative rounded-lg overflow-hidden mb-4",style:{height:"300px"},children:[c.jsx("img",{src:t,alt:"사업자등록증",className:"object-contain w-full h-full"}),c.jsx("button",{onClick:v,className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md",children:"✕"})]}),c.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["파일명: ",r]}),!d&&c.jsx("button",{onClick:x,disabled:a,className:"bg-[#002169] w-full h-12 text-white rounded-md font-medium",children:a?"OCR 검증 중...":"OCR 검증 요청"})]}):c.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 min-h-[300px] flex flex-col justify-center",onClick:g,children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"클릭하여 사업자등록증 업로드"}),c.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG 파일 등"})]})]})]})]})}const L9="http://localhost:8080";function I9(){const n=je(),e=dt(),{id:t}=ds(),s=e.pathname==="/store/menu/add",r=e.pathname==="/store/menu/edit"||e.pathname.startsWith("/store/menu/edit/"),[o,a]=C.useState({name:"",price:"",cryptoPrices:[{code:"XRP",amount:3.3},{code:"SOL",amount:3.3}],image:null});C.useEffect(()=>{r&&t&&a({id:t,name:"불고기 버거",price:"8000",cryptoPrices:[{code:"XRP",amount:3.2},{code:"SOL",amount:3.2}],image:null})},[r,t]);const u=x=>{a({...o,name:x.target.value})},d=x=>{const v=x.target.value.replace(/[^0-9]/g,"");a({...o,price:v})},h=x=>{a({...o,image:x})},p=async()=>{if(!o.name.trim()){alert("음식명을 입력해주세요.");return}if(!o.price.trim()){alert("가격을 입력해주세요.");return}if(!o.image){alert("음식 사진을 업로드해주세요.");return}try{if(!sessionStorage.getItem("accessToken")){alert("로그인 정보가 없습니다. 다시 로그인해주세요."),n("/login");return}const v=new FormData;v.append("menuData",new Blob([JSON.stringify({name:o.name,price:o.price})],{type:"application/json"})),v.append("menuImage",o.image);const w=await d5(v);if(!w.ok){const b=await w.text();throw new Error(b||"메뉴 등록에 실패했습니다.")}alert(s?"메뉴가 추가되었습니다.":"메뉴가 수정되었습니다."),n(-1)}catch(x){console.error("메뉴 등록 실패:",x),alert("메뉴 등록 중 오류가 발생했습니다.")}},g=async()=>{if(window.confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{const x=sessionStorage.getItem("accessToken");if(!x){alert("로그인 정보가 없습니다. 다시 로그인해주세요."),n("/login");return}const v=await fetch(`${L9}/store/menu/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${x}`}});if(!v.ok){const w=await v.text();throw new Error(w||"메뉴 삭제에 실패했습니다.")}alert("메뉴가 삭제되었습니다."),n(-1)}catch(x){console.error("메뉴 삭제 실패:",x),alert("메뉴 삭제 중 오류가 발생했습니다.")}};return c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsx(Me,{title:s?"메뉴 추가":"메뉴 수정"}),c.jsxs("main",{className:"flex-1 p-4 bg-white overflow-auto",children:[c.jsx("div",{className:"mb-4 mt-5",children:c.jsx(Js,{label:"음식명",value:o.name,onChange:u,placeholder:"음식명을 입력해주세요."})}),c.jsx("div",{className:"mb-4",children:c.jsx(Js,{label:"가격",value:o.price,onChange:d,placeholder:"가격을 입력해주세요.",type:"text"})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-lg font-medium mb-2",children:"각 코인 금액"}),c.jsxs("div",{className:"space-y-3",children:[o.cryptoPrices.map(x=>c.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[c.jsx("span",{className:`px-3 py-1.5 rounded text-sm font-medium ${x.code==="XRP"?"bg-gray-200 text-blue-700":"bg-purple-100 text-purple-700"}`,children:x.code}),c.jsxs("span",{className:"font-medium",children:[o.price?(parseFloat(o.price)/2500).toFixed(2):"0.00"," ",x.code]})]},x.code)),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* 원화 가격 입력 시 자동으로 코인 가격이 계산됩니다."})]})]}),c.jsx("div",{className:"mb-6",children:c.jsx(qS,{label:"음식사진 업로드",previewLabel:"선택된 이미지",onChange:h,value:o.image})}),c.jsxs("div",{className:"space-y-3 mt-6",children:[r&&c.jsx($e,{text:"삭제하기",onClick:g,className:"w-full bg-red-500 text-white py-3 rounded-lg"}),c.jsx($e,{text:s?"추가하기":"수정하기",onClick:p,className:"w-full bg-[#0a2e65] text-white py-3 rounded-lg"})]})]}),c.jsx(ot,{})]})}function M9(){const n=je(),{menuId:e}=ds(),[t,s]=C.useState({name:"",price:"",imageFile:null,imageUrl:""}),r=async()=>{if(e)try{if(!sessionStorage.getItem("accessToken")){alert("로그인이 필요합니다."),n("/login");return}const g=await u5(e);s({id:g.menuId,name:g.menuName,price:g.menuPrice.toString(),imageUrl:g.menuImage||"",imageFile:null})}catch(p){console.error("메뉴 조회 실패:",p),alert("메뉴 조회 중 오류가 발생했습니다.")}};C.useEffect(()=>{r()},[e]);const o=p=>{s({...t,name:p.target.value})},a=p=>{const g=p.target.value.replace(/[^0-9]/g,"");s({...t,price:g})},u=p=>{s({...t,imageFile:p})},d=async()=>{if(!e){alert("메뉴 혹은 가게 ID가 유효하지 않습니다.");return}if(!t.name.trim()||!t.price.trim()){alert("이름과 가격을 입력해주세요.");return}try{if(!sessionStorage.getItem("accessToken")){alert("로그인이 필요합니다."),n("/login");return}const g=new FormData;if(g.append("menuData",new Blob([JSON.stringify({name:t.name,price:parseInt(t.price,10)})],{type:"application/json"})),t.imageFile)g.append("menuImage",t.imageFile);else if(t.imageUrl){const v=await(await fetch(t.imageUrl)).blob();g.append("menuImage",v,"existing_image.jpg")}await f5(e,g),alert("메뉴가 수정되었습니다."),n(-1)}catch(p){console.error("메뉴 수정 실패:",p),alert("메뉴 수정 중 오류가 발생했습니다.")}},h=async()=>{if(!e){alert("메뉴 ID가 없습니다.");return}if(window.confirm("정말 이 메뉴를 삭제하시겠습니까?"))try{if(!sessionStorage.getItem("accessToken")){alert("로그인이 필요합니다."),n("/login");return}await p5(e),alert("메뉴가 삭제되었습니다."),n(-1)}catch(p){console.error("메뉴 삭제 실패:",p),alert("메뉴 삭제 중 오류가 발생했습니다.")}};return c.jsxs("div",{className:"flex flex-col h-screen",children:[c.jsx(Me,{title:"메뉴 수정"}),c.jsxs("main",{className:"flex-1 p-4 bg-white overflow-auto",children:[c.jsx("div",{className:"mb-4 mt-5",children:c.jsx(Js,{label:"음식명",value:t.name,onChange:o,placeholder:"음식명을 입력해주세요."})}),c.jsx("div",{className:"mb-4",children:c.jsx(Js,{label:"가격",value:t.price,onChange:a,placeholder:"가격을 입력해주세요.",type:"text"})}),c.jsx("div",{className:"mb-6",children:c.jsx(qS,{label:"음식 사진",previewLabel:"선택된 이미지",onChange:u,value:t.imageFile||void 0})}),c.jsxs("div",{className:"space-y-3 mt-6",children:[c.jsx($e,{text:"메뉴 삭제",onClick:h,className:"w-full bg-red-500 text-white py-3 rounded-lg"}),c.jsx($e,{text:"메뉴 수정",onClick:d,className:"w-full bg-[#0a2e65] text-white py-3 rounded-lg"})]})]}),c.jsx(ot,{})]})}function D9(){const[n,e]=C.useState(""),[t,s]=C.useState(""),[r,o]=C.useState("SKT"),[a,u]=C.useState("03:00"),[d,h]=C.useState({all:!1,terms:!1,privacy:!1}),p=()=>{const E=!d.all;h({all:E,terms:E,privacy:E})},g=E=>{const A={...d,[E]:!d[E]};A.all=A.terms&&A.privacy,h(A)},x=d.terms&&d.privacy,v=()=>{alert("인증번호가 요청되었습니다.")},w=()=>{alert("인증이 완료되었습니다.")},b=()=>{alert("본인 인증이 완료되었습니다.")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Me,{title:"본인확인"}),c.jsxs("main",{className:"flex-1 px-5 flex flex-col",children:[c.jsxs("div",{className:"rounded-lg p-3 mt-4",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"약관에 동의해주세요."}),c.jsxs("div",{className:"flex items-center py-2 cursor-pointer hover:bg-gray-100 rounded-lg px-3 transition-colors",onClick:p,children:[c.jsx(Na,{checked:d.all}),c.jsx("span",{className:"ml-3 text-base font-medium text-gray-800",children:"모든 약관에 동의합니다."})]}),c.jsx("div",{className:"h-px bg-gray-200 my-1 mx-1"}),c.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer hover:bg-gray-100 rounded-lg px-3 transition-colors",onClick:()=>g("terms"),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Na,{checked:d.terms}),c.jsxs("span",{className:"ml-3 text-base text-gray-800",children:["이용약관 ",c.jsx("span",{className:"text-gray-500 font-medium",children:"(필수)"})]})]}),c.jsx(_f,{className:"text-gray-400"})]}),c.jsxs("div",{className:"flex items-center justify-between py-2 cursor-pointer hover:bg-gray-100 rounded-lg px-3 transition-colors",onClick:()=>g("privacy"),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Na,{checked:d.privacy}),c.jsxs("span",{className:"ml-3 text-base text-gray-800",children:["개인정보 처리방침"," ",c.jsx("span",{className:"text-gray-500 font-medium",children:"(필수)"})]})]}),c.jsx(_f,{className:"text-gray-400"})]})]}),c.jsxs("div",{className:"px-3 pt-5",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"인증정보 입력"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-gray-500 text-sm mb-1",children:"휴대폰"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:r,onChange:E=>o(E.target.value),className:"w-full p-2 border border-gray-300 rounded bg-white appearance-none pr-8",children:[c.jsx("option",{value:"SKT",children:"SKT"}),c.jsx("option",{value:"KT",children:"KT"}),c.jsx("option",{value:"LG U+",children:"LG U+"})]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),c.jsx("div",{className:"flex mb-3",children:c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"text",placeholder:"휴대폰번호 입력",value:n,onChange:E=>e(E.target.value),className:"w-full p-2 border border-gray-300 rounded"})})}),c.jsx("button",{onClick:v,className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg mb-3",children:"인증번호 요청"}),c.jsxs("div",{className:"mb-5 mt-5",children:[c.jsx("label",{className:"block text-gray-500 text-sm mb-1",children:"인증번호"}),c.jsx("input",{type:"text",placeholder:"숫자 6자리 입력",value:t,onChange:E=>s(E.target.value),className:"w-full p-2 border border-gray-300 rounded"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"flex items-center text-gray-500",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),c.jsxs("span",{children:["잔여시간 ",a]})]}),c.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:"재요청"})]}),c.jsx("button",{onClick:w,className:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg mb-4",children:"인증번호 확인"})]})]}),c.jsx("div",{className:"p-5 bg-white",children:c.jsx($e,{text:"본인 인증 완료",onClick:b,className:`w-full py-3.5 rounded-lg font-medium text-white ${x?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,disabled:!x})})]})}function O9({buttonClassName:n}){const e=je(),t=()=>{e(-1)},s=()=>{e("/welcome")};return c.jsxs("div",{className:"min-h-screen flex flex-col px-5 pt-8 pb-10 bg-gradient-to-br",children:[c.jsx("div",{className:"relative z-10",children:c.jsx("img",{src:"/crepe-newlogo2.png",alt:"Logo",className:"object-contain w-[400px] aspect-[2.51] mx-auto  animate-pulse"})}),c.jsxs("div",{className:"mt-8 w-full relative z-10",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-3xl border border-white/50 shadow-2xl w-full text-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-100/30 via-pink-100/30 to-orange-100/30 rounded-3xl"}),c.jsx("div",{className:"flex justify-center mb-6 relative z-10",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 p-5 rounded-full shadow-lg animate-bounce",children:c.jsx(XT,{size:36,className:"text-white animate-spin",style:{animationDuration:"3s"}})})}),c.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4 relative z-10",children:"🚀 개발 중입니다!"}),c.jsxs("p",{className:"text-gray-700 text-base leading-relaxed mb-6 relative z-10",children:[c.jsx("span",{className:"inline-block animate-bounce",children:"✨"})," 더 멋진 서비스를 위해 ",c.jsx("span",{className:"inline-block animate-bounce delay-100",children:"💻"}),c.jsx("br",{}),"열심히 코딩하고 있어요! ",c.jsx("span",{className:"inline-block animate-bounce delay-200",children:"🔥"})]}),c.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 p-4 rounded-2xl mb-6 border border-blue-200/50 relative z-10",children:c.jsxs("div",{className:"flex items-center justify-center text-blue-700 text-base font-medium",children:[c.jsx("div",{className:"bg-blue-500 p-2 rounded-full mr-3 animate-pulse",children:c.jsx(WT,{size:18,className:"text-white"})}),c.jsx("span",{className:"animate-pulse",children:"곧 만나요! 🎉"})]})})]}),c.jsxs("div",{className:"mt-10",children:[c.jsx($e,{text:"이전 페이지로",onClick:t,className:`w-full rounded-[9px] font-medium bg-[#0C2B5F] text-white ${n}`}),c.jsx("div",{className:"flex justify-center mt-4 text-sm text-gray-500",children:c.jsx("button",{onClick:s,className:"hover:underline",children:"홈으로 돌아가기"})})]})]})]})}const F9=()=>!!sessionStorage.getItem("accessToken")?c.jsx(mF,{}):c.jsx(MT,{to:"/login",replace:!0});function B9(){const[n,e]=C.useState([]),[t,s]=C.useState(null),r=a=>({PENDING:"bg-gradient-to-r from-amber-50 to-orange-50 text-amber-700 border border-amber-200",REFUND:"bg-gradient-to-r from-red-50 to-rose-50 text-red-700 border border-red-200",PAID:"bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-700 border border-emerald-200"})[a]||"bg-gray-50 text-gray-600 border border-gray-200",o=a=>({PENDING:"수락 대기",REFUND:"환불 완료",PAID:"결제 완료"})[a]||a;return C.useEffect(()=>{i5().then(a=>{e(a.content)}).catch(a=>{console.error(a),s("결제 내역을 불러오는 데 실패했습니다.")})},[]),c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[c.jsx(Me,{title:"결제 내역"}),c.jsxs("div",{className:"px-4 py-4 flex-1 flex flex-col",children:[c.jsx("div",{className:"mt-8 bg-gradient-to-r from-slate-50 to-slate-100 rounded-t-xl px-6 py-4 border border-slate-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-semibold text-slate-700",children:[c.jsx("div",{className:"col-span-2",children:"가게명"}),c.jsx("div",{className:"col-span-2 text-center",children:"결제 날짜"}),c.jsx("div",{className:"col-span-2 text-center",children:"결제 ID"}),c.jsx("div",{className:"col-span-2 text-center",children:"상세"}),c.jsx("div",{className:"col-span-2 text-center",children:"금액"}),c.jsx("div",{className:"col-span-2 text-center",children:"상태"})]})}),c.jsx("div",{className:"bg-white border-x border-b border-slate-200 rounded-b-xl divide-y divide-slate-100 shadow-sm",children:n.map((a,u)=>c.jsx("div",{className:`px-6 py-5 hover:bg-slate-50 transition-all duration-200 ${u===n.length-1?"rounded-b-xl":""}`,children:c.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[c.jsx("div",{className:"col-span-2",children:c.jsx("div",{className:"font-semibold text-slate-900 truncate text-sm",children:a.storeName})}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-slate-600 text-sm",children:new Date(a.payDate).toLocaleDateString("ko-KR")}),c.jsx("div",{className:"text-slate-400 text-xs mt-0.5",children:new Date(a.payDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),c.jsx("div",{className:"col-span-2",children:c.jsx("div",{className:"font-mono text-xs text-slate-600 bg-slate-50 px-2 py-1 rounded-md truncate border",children:a.orderId})}),c.jsx("div",{className:"col-span-2",children:c.jsx("div",{className:"text-slate-700 text-sm truncate",title:a.orderDetail,children:a.orderDetail})}),c.jsxs("div",{className:"col-span-2 text-right",children:[c.jsxs("div",{className:"text-slate-900 font-bold text-sm",children:[a.payKRWAmount.toLocaleString(),c.jsx("span",{className:"text-slate-700 font-semibold text-[12px] ml-1",children:"KRW"})]}),c.jsxs("div",{className:"text-xs text-slate-600 mt-0.5 bg-slate-50 px-2 py-0.5 rounded inline-block",children:[a.payCoinAmount," ",a.coinCurrency]})]}),c.jsx("div",{className:"col-span-2 flex justify-center",children:c.jsx("span",{className:`inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-full ${r(a.payType)}`,children:o(a.payType)})})]})},a.payId))}),c.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:["총 ",n.length,"건의 결제 내역"]}),c.jsx("div",{className:"mt-auto flex justify-end text-xs text-gray-500",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{disabled:!0,className:"h-8 w-8 p-0 rounded-md border border-gray-300 bg-white text-gray-400 cursor-not-allowed",children:"<"}),c.jsx("button",{className:"h-8 w-8 p-0 rounded-md bg-[#FF7B25] text-white hover:bg-[#FF7B25]",children:"1"}),c.jsx("button",{disabled:!0,className:"h-8 w-8 p-0 rounded-md border border-gray-300 bg-white text-gray-400 cursor-not-allowed",children:">"})]})})]}),c.jsx(ot,{})]})}function $9(){const n=je(),[e,t]=C.useState("setup"),[s,r]=C.useState(null),[o,a]=C.useState(""),[u,d]=C.useState(!1),[h,p]=C.useState(""),[g,x]=C.useState(!1),v=sessionStorage.getItem("userEmail"),w="http://localhost:8080",b=async()=>{d(!0),p("");try{const k=await fetch(`${w}/api/setup?email=${encodeURIComponent(v||"")}`,{method:"POST",headers:{Authorization:`Bearer ${sessionStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const P=await k.json();P.status==="success"&&P.data?(r(P.data),t("verify")):p(P.message||"OTP 설정에 실패했습니다")}catch(k){p("네트워크 오류가 발생했습니다"),console.error("OTP setup error:",k)}finally{d(!1)}},E=async()=>{if(!o||o.length!==6){p("6자리 인증 코드를 입력해주세요");return}d(!0),p("");try{const k=await fetch(`${w}/api/verify?email=${encodeURIComponent(v||"")}&otpCode=${o}`,{method:"POST",headers:{Authorization:`Bearer ${sessionStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const P=await k.json();P.success?(alert("2차 인증이 성공적으로 활성화되었습니다!"),n(-1)):p(P.message||"인증에 실패했습니다")}catch(k){p("네트워크 오류가 발생했습니다"),console.error("OTP verify error:",k)}finally{d(!1)}},A=async()=>{if(s!=null&&s.secretKey)try{await navigator.clipboard.writeText(s.secretKey),x(!0),setTimeout(()=>x(!1),2e3)}catch(k){console.error("복사 실패:",k)}},j=k=>{const P=k.replace(/\D/g,"").slice(0,6);a(P),p("")};return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[c.jsx(Me,{title:"2차 인증 설정"}),c.jsxs("main",{className:"flex-1 p-6",children:[e==="setup"&&c.jsx("div",{className:"max-w-md mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(WS,{className:"w-8 h-8 text-blue-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"2차 인증 설정"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"계정 보안을 강화하기 위해 2차 인증을 설정하세요"})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("span",{className:"text-blue-600 text-sm font-medium",children:"1"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"인증 앱 준비"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Google Authenticator 또는 Authy 앱을 설치하세요"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("span",{className:"text-blue-600 text-sm font-medium",children:"2"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"QR 코드 스캔"}),c.jsx("p",{className:"text-xs text-gray-600",children:"앱에서 QR 코드를 스캔하여 계정을 추가하세요"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("span",{className:"text-blue-600 text-sm font-medium",children:"3"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"인증 코드 입력"}),c.jsx("p",{className:"text-xs text-gray-600",children:"앱에서 생성된 6자리 코드를 입력하세요"})]})]})]}),h&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:c.jsx("p",{className:"text-red-600 text-sm",children:h})}),c.jsx("button",{onClick:b,disabled:u,className:"w-full bg-blue-600 text-black py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"설정 중...":"2차 인증 설정 시작"})]})}),e==="verify"&&s&&c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(_3,{className:"w-8 h-8 text-green-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"QR 코드 스캔"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"인증 앱으로 아래 QR 코드를 스캔하세요"})]}),c.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-dashed border-gray-200 mb-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("img",{src:s.qrCodeUrl,alt:"QR Code",className:"mx-auto mb-4",style:{maxWidth:"200px",maxHeight:"200px"}}),c.jsx("p",{className:"text-xs text-gray-500",children:"QR 코드를 스캔할 수 없나요?"})]})}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"수동 입력 키"}),c.jsx("button",{onClick:A,className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 transition-colors",children:g?c.jsxs(c.Fragment,{children:[c.jsx(Qd,{size:14}),c.jsx("span",{className:"text-xs",children:"복사됨"})]}):c.jsxs(c.Fragment,{children:[c.jsx(GT,{size:14}),c.jsx("span",{className:"text-xs",children:"복사"})]})})]}),c.jsx("p",{className:"text-xs text-gray-600 break-all font-mono bg-white p-2 rounded border",children:s.secretKey})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"인증 코드 (6자리)"}),c.jsx("input",{type:"text",value:o,onChange:k=>j(k.target.value),placeholder:"000000",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-mono tracking-widest",maxLength:6})]}),h&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:c.jsx("p",{className:"text-red-600 text-sm",children:h})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:E,disabled:u||o.length!==6,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"인증 중...":"인증하고 활성화"}),c.jsx("button",{onClick:()=>t("setup"),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"다시 설정"})]})]})]})]})}function V9({buttonColor:n,toggleButtonColor:e}){return C.useEffect(()=>{if(window.location.pathname==="/"){const t=setTimeout(()=>{window.location.pathname="/welcome"},2e3);return()=>clearTimeout(t)}},[]),c.jsx(VF,{children:c.jsxs(xF,{children:[c.jsx(Ae,{path:"/",element:c.jsx(JF,{})}),c.jsx(Ae,{path:"/welcome",element:c.jsx(_5,{})}),c.jsx(Ae,{path:"/terms",element:c.jsx(jj,{})}),c.jsx(Ae,{path:"/email",element:c.jsx(Nj,{})}),c.jsx(Ae,{path:"/phone",element:c.jsx(kj,{})}),c.jsx(Ae,{path:"/phone/verification",element:c.jsx(Tj,{})}),c.jsx(Ae,{path:"/additional/info",element:c.jsx(M5,{})}),c.jsx(Ae,{path:"/signup-complete",element:c.jsx(O5,{})}),c.jsx(Ae,{path:"/login",element:c.jsx($5,{})}),c.jsx(Ae,{path:"/id/verification",element:c.jsx(j8,{})}),c.jsx(Ae,{path:"/id/verification/step2",element:c.jsx(k8,{})}),c.jsx(Ae,{path:"/id/verification/step3",element:c.jsx(T8,{})}),c.jsx(Ae,{path:"/id/verification/step4",element:c.jsx(D9,{})}),c.jsx(Ae,{path:"/store/terms",element:c.jsx(jj,{})}),c.jsx(Ae,{path:"/store/email",element:c.jsx(Nj,{})}),c.jsx(Ae,{path:"/store/phone",element:c.jsx(kj,{})}),c.jsx(Ae,{path:"/store/phone/verification",element:c.jsx(Tj,{})}),c.jsx(Ae,{path:"/store/register",element:c.jsx(R9,{})}),c.jsx(Ae,{path:"/store/register/info",element:c.jsx(P6,{})}),c.jsxs(Ae,{element:c.jsx(F9,{}),children:[c.jsx(Ae,{path:"/user/my",element:c.jsx(Aj,{})}),c.jsx(Ae,{path:"/user/my/edit",element:c.jsx(E5,{})}),c.jsx(Ae,{path:"/store/my",element:c.jsx(Aj,{})}),c.jsx(Ae,{path:"/store/my/settlement-report",element:c.jsx(P5,{})}),c.jsx(Ae,{path:"/store/my/edit",element:c.jsx(eV,{})}),c.jsx(Ae,{path:"/store/manage",element:c.jsx(R6,{})}),c.jsx(Ae,{path:"/store/menu/add",element:c.jsx(I9,{})}),c.jsx(Ae,{path:"/store/menu/edit/:menuId",element:c.jsx(M9,{})}),c.jsx(Ae,{path:"/store",element:c.jsx(Y6,{})}),c.jsx(Ae,{path:"/mall",element:c.jsx(h8,{})}),c.jsx(Ae,{path:"/mall/store/:id",element:c.jsx(J6,{})}),c.jsx(Ae,{path:"/mall/store/cart",element:c.jsx(i8,{})}),c.jsx(Ae,{path:"/mall/store/order",element:c.jsx(t8,{})}),c.jsx(Ae,{path:"/mall/store/order-pending",element:c.jsx(L6,{})}),c.jsx(Ae,{path:"/mall/store/pay-complete/:orderId",element:c.jsx(d8,{})}),c.jsx(Ae,{path:"/my/orders",element:c.jsx(E8,{})}),c.jsx(Ae,{path:"/my/coin",element:c.jsx(SV,{})}),c.jsx(Ae,{path:"/coin-detail/:symbol",element:c.jsx(G6,{})}),c.jsx(Ae,{path:"/coin/address/:symbol",element:c.jsx(uV,{})}),c.jsx(Ae,{path:"/coin/transaction/:symbol",element:c.jsx(fV,{})}),c.jsx(Ae,{path:"/coin/address/add",element:c.jsx(nV,{})}),c.jsx(Ae,{path:"/settlement",element:c.jsx(oV,{})}),c.jsx(Ae,{path:"/my/payments",element:c.jsx(B9,{})}),c.jsx(Ae,{path:"/token/product/detail/:subscribeId",element:c.jsx(R8,{})}),c.jsx(Ae,{path:"/token/product/deposit/:subscribeId",element:c.jsx(w8,{})}),c.jsx(Ae,{path:"/token/product/cancel/:subscribeId",element:c.jsx(S8,{})}),c.jsx(Ae,{path:"/token/detail/:bank",element:c.jsx(f8,{})}),c.jsx(Ae,{path:"/token/exchange/:bank",element:c.jsx(y8,{})}),c.jsx(Ae,{path:"/token/exchange/complete",element:c.jsx(v8,{})}),c.jsx(Ae,{path:"/token/onsale/products/:productId",element:c.jsx(O8,{})}),c.jsx(Ae,{path:"/token/onsale/products/signup",element:c.jsx(S9,{})}),c.jsx(Ae,{path:"/token/onsale/products/signup-complete",element:c.jsx(j9,{})}),c.jsx(Ae,{path:"/token/onsale/products",element:c.jsx(_9,{})}),c.jsx(Ae,{path:"/under-development",element:c.jsx(O9,{})}),c.jsx(Ae,{path:"/otp/setup",element:c.jsx($9,{})}),c.jsx(Ae,{path:"*",element:c.jsx(MT,{to:"/",replace:!0})})]})]})})}const z9=new iO({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,throwOnError:!0}}});function U9(){const[n,e]=C.useState("blue"),t=()=>{e(n==="blue"?"gray":"blue")};return c.jsx(dO,{client:z9,children:c.jsx(b5,{children:c.jsx(H6,{children:c.jsx(V9,{buttonColor:n,toggleButtonColor:t})})})})}VD.createRoot(document.getElementById("root")).render(c.jsx(ls.StrictMode,{children:c.jsx(U9,{})}));
